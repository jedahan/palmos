<html>
<!-- Mirrored from users.fuw.edu.pl/~michalj/palmos/Clipboard.html by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 17 Feb 2015 19:10:01 GMT -->
<head><title>Clipboard</title></head><body bgcolor="#ffffff"><TABLE WIDTH="100%">  <TR>    <TD WIDTH=25%><a href="Category.html"><IMG SRC="images/prev.html" BORDER=0 ALT="Previous Page"></TD>    <TD WIDTH=25%><a href="ReferenceTOC.html"><IMG SRC="images/content.gif" BORDER=0 ALT="Table of Contents"></TD>    <TD WIDTH=25%><a href="ReferenceIX.html"><IMG SRC="images/index.gif" BORDER=0 ALT="Index"></TD>    <TD WIDTH=25%><a href="Control.html"><IMG SRC="images/next.html" BORDER=0 ALT="Next Page"></TD>  </TR></TABLE><br><center><B>Palm OS SDK Reference</B></center><hr><br><a name="924904"> </a><h1><IMG SRC="images/PCPplain.gif" ALT="Palm Logo" WIDTH="45" HEIGHT="44"> <a name="924903"> </a>5 Clipboard</h1><dl><a name="924905"> </a><p></p><dt>This chapter provides reference material for the clipboard API defined in <code>Clipboard.h</code>. It covers:<ul type="SQUARE"><a name="924910"> </a><br><li><a href="Clipboard.html#924916">Clipboard Data Structures</a><br><a name="924914"> </a><br><li><a href="Clipboard.html#924944">Clipboard Functions</a><br></ul></dl><a name="924916"> </a><h2> Clipboard Data Structures</h2><a name="924918"> </a><h3> ClipboardFormatType</h3><dl><a name="924920"> </a><p></p><dt>The <code>ClipboardFormatType</code> enum specifies the type of data to add to the clipboard or retrieve from the clipboard. <dl><a name="924921"> </a><br><code>enum clipboardFormats { </code><br></dl><dl><a name="924922"> </a><code>&nbsp&nbsp&nbsp clipboardText, </code><br><a name="924923"> </a><code>&nbsp&nbsp&nbsp clipboardInk, </code><br><a name="924924"> </a><code>&nbsp&nbsp&nbsp clipboardBitmap };</code><br><a name="924925"> </a><code>typedef enum clipboardFormats </code><br><a name="924926"> </a><code>&nbsp&nbsp&nbsp ClipboardFormatType;</code><br></dl></dl><a name="924927"> </a><h4> Value Descriptions</h4><p><a name="924941"> </a> </p><p><div> <table border="3"><caption><B></B></caption><tr><td><a name="924930"> </a><code>clipboardText</code> </td><td><a name="924932"> </a>Textual data. This is the most commonly used clipboard.</td></tr><tr><td><a name="924934"> </a><code>clipboardInk</code> </td><td><a name="924936"> </a>Reserved.</td></tr><tr><td><a name="924938"> </a><code>clipboardBitmap</code> </td><td><a name="924940"> </a>Bitmap data. </td></tr></table><table><tr><td></table></div></p><dl><a name="924942"> </a><p></p><dt>Clipboards for each type of data are separately maintained. That is, if you add a string of text to the clipboard, then add a bitmap, then ask to retrieve a <code>clipboardText</code> item from the clipboard, you will receive the string you added before the bitmap; the bitmap does not overwrite textual data and vice versa. </dl><a name="924944"> </a><h2> Clipboard Functions</h2><a name="924947"> </a><br> <br> <br><h3> ClipboardAddItem</h3><dl><dl><a name="924948"> </a><h4>Purpose </h4><dl><a name="924949"> </a><p></p><dt>Add the item passed to the specified clipboard. Replaces the current item (if any) of that type. </dl><a name="924950"> </a><h4>Prototype </h4><dl><a name="924951"> </a><dt><code>void ClipboardAddItem (const&nbsp;ClipboardFormatType&nbsp;format, const&nbsp;void&nbsp;*ptr, UInt16&nbsp;length)</code></dl></dl><dl><a name="924952"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="924953"> </a><CODE>-&gt; <code>format</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Text, ink, bitmap, etc. See <code><a href="Clipboard.html#924918"></code>ClipboardFormatType<code></a></code>.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="924957"> </a><CODE>-&gt; <code>ptr</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to the item to place on the clipboard.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="924958"> </a><CODE>-&gt; <code>length</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Size in bytes of the item to place on the clipboard.<br></TD></TR></TABLE></dl><dl><a name="924959"> </a><h4>Result </h4><dl><a name="924960"> </a><p></p><dt>Returns nothing.</dl></dl><dl><a name="924961"> </a><h4>Comments </h4><dl><a name="924962"> </a><p></p><dt>The clipboard makes a copy of the data that you pass to this function. Thus, you may free any data that you've passed to the clipboard without destroying the contents of the clipboard. You may also add constant data or stack-based data to the clipboard. </dl><a name="924963"> </a><h4>See Also </h4><dl><a name="924970"> </a><p></p><dt><code><a href="Field.html#925391"></code>FldCut<code></a></code>, <code><a href="Field.html#925365"></code>FldCopy<code></a></code> </dl></dl></dl><a name="924973"> </a><br> <br> <br><h3> ClipboardAppendItem</h3><dl><dl><a name="924974"> </a><h4>Purpose </h4><dl><a name="924975"> </a><p></p><dt>Append data to the item on the clipboard. </dl><a name="924976"> </a><h4>Prototype </h4><dl><a name="924977"> </a><dt><code>Err ClipboardAppendItem (const&nbsp;ClipboardFormatType&nbsp;format, const&nbsp;void&nbsp;*ptr, UInt16&nbsp;length)</code></dl></dl><dl><a name="924978"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="924979"> </a><CODE>-&gt; <code>format</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Text, ink, bitmap, etc. See <code><a href="Clipboard.html#924918"></code>ClipboardFormatType<code></a></code>. This function is intended to be used only for the <code>clipboardText</code> format. <br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="924983"> </a><CODE>-&gt; <code>ptr</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to the data to append to the item on the clipboard.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="924984"> </a><CODE>-&gt; <code>length</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Size in bytes of the data to append to the clipboard.<br></TD></TR></TABLE></dl><dl><a name="924985"> </a><h4>Result </h4><dl><a name="924987"> </a><p></p><dt>0 upon success or <code>memErrNotEnoughSpace</code> if there is not enough space to append the data to the clipboard. </dl></dl><dl><a name="924988"> </a><h4>Comments </h4><dl><a name="924992"> </a><p></p><dt>This function differs from <code><a href="Clipboard.html#924947"></code>ClipboardAddItem<code></a></code> in that it does not overwrite data already on the clipboard. It allows you to create a large text item on the clipboard from several small disjointed pieces. When other applications retrieve the text from the clipboard, it's retrieved as a single unit. <a name="924993"> </a><p></p><dt>This function simply appends the specified item to the item already on the clipboard without attempting to parse the format. It's assumed that you'll call it several times over a relatively short interval and that no other application will attempt to retrieve text from the clipboard before your application is finished appending. </dl><a name="924994"> </a><h4>Compatibility </h4><dl><a name="924998"> </a><p></p><dt>Implemented only if <a href="CompatibilityApdx.html#484253">3.2 New Feature Set</a> is present.</dl></dl></dl><a name="925000"> </a><br> <br> <br><h3> ClipboardGetItem</h3><dl><dl><a name="925001"> </a><h4>Purpose </h4><dl><a name="925002"> </a><p></p><dt>Return the handle of the contents of the clipboard of a specified type and the length of a clipboard item.</dl><a name="925003"> </a><h4>Prototype </h4><dl><a name="925004"> </a><dt><code>MemHandle ClipboardGetItem (const&nbsp;ClipboardFormatType&nbsp;format, UInt16&nbsp;*length)</code></dl></dl><dl><a name="925005"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925006"> </a><CODE>-&gt; <code>format</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Text, ink, bitmap, etc. See <code><a href="Clipboard.html#924918"></code>ClipboardFormatType<code></a></code>.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925010"> </a><CODE>&lt;- <code>length</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The length in bytes of the clipboard item is returned here.<br></TD></TR></TABLE></dl><dl><a name="925011"> </a><h4>Result </h4><dl><a name="925012"> </a><p></p><dt>Handle of the clipboard item.</dl></dl><dl><a name="925013"> </a><h4>Comments </h4><dl><a name="925014"> </a><p></p><dt>The handle returned is a handle to the actual clipboard chunk. It is not suitable for passing to any API that modifies memory (such as <code><a href="Field.html#926645"></code>FldSetTextHandle<code></a></code>). Consider this to be read-only access to the chunk. Copy the contents of the clipboard to your application's own storage as soon as possible and use that reference instead of the handle returned by this function. <a name="925018"> </a><p></p><dt>Don't free the handle returned by this function; it is freed when a new item is added to the clipboard. <a name="925019"> </a><p></p><dt>Text retrieved from the clipboard does not have a <code>NULL</code> terminator. You must use the <code>length</code> parameter to determine the length in bytes of the string you've retrieved. <p><a name="925317"> </a> <strong></strong></p></dl></dl></dl><hr><br><center><B>Palm OS SDK Reference</B></center><br><TABLE WIDTH="100%">  <TR>    <TD WIDTH=10%>&nbsp</TD>    <TD WIDTH=20%><a href="Category.html"><IMG SRC="images/prev.html" BORDER=0 ALT="Previous Page"></TD>    <TD WIDTH=20%><a href="ReferenceTOC.html"><IMG SRC="images/content.gif" BORDER=0 ALT="Table of Contents"></TD>    <TD WIDTH=20%><a href="ReferenceIX.html"><IMG SRC="images/index.gif" BORDER=0 ALT="Index"></TD>    <TD WIDTH=20%><a href="Control.html"><IMG SRC="images/next.html" BORDER=0 ALT="Next Page"></TD>    <TD WIDTH=10%>&nbsp</TD>  </TR></TABLE><br><small><em>This is page 7 of 85 in this book</em></small><hr><br><address><a href="http://www.palmos.com/dev/">Palm Computing Platform Development Zone</a></address><i>Copyright &#169; 2000, Palm, Inc.   All rightsreserved.</i><!-- This file was created with Quadralay WebWorks Publisher 5.0.2 --><!-- --><!-- For more information on how this document, and how the rest of --><!-- this server was created, email devsupp@palm.com --><!-- --><!-- Last updated: 03/27/00 21:28:08 --></body>
<!-- Mirrored from users.fuw.edu.pl/~michalj/palmos/Clipboard.html by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 17 Feb 2015 19:10:01 GMT -->
</html>