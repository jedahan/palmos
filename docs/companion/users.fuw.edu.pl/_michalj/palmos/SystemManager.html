<html>
<!-- Mirrored from users.fuw.edu.pl/~michalj/palmos/SystemManager.html by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 17 Feb 2015 19:10:02 GMT -->
<head><title>System Manager</title></head><body bgcolor="#ffffff"><TABLE WIDTH="100%">  <TR>    <TD WIDTH=25%><a href="SystemEventManager.html"><IMG SRC="images/prev.html" BORDER=0 ALT="Previous Page"></TD>    <TD WIDTH=25%><a href="ReferenceTOC.html"><IMG SRC="images/content.gif" BORDER=0 ALT="Table of Contents"></TD>    <TD WIDTH=25%><a href="ReferenceIX.html"><IMG SRC="images/index.gif" BORDER=0 ALT="Index"></TD>    <TD WIDTH=25%><a href="TextMgr.html"><IMG SRC="images/next.html" BORDER=0 ALT="Next Page"></TD>  </TR></TABLE><br><center><B>Palm OS SDK Reference</B></center><hr><br><a name="924903"> </a><h1><IMG SRC="images/PCPplain.gif" ALT="Palm Logo" WIDTH="45" HEIGHT="44"> <a name="924902"> </a>46 System Manager</h1><dl><a name="924904"> </a><p></p><dt>This chapter provides reference material for the system manager. The system manager API is declared in the header files <code>SystemMgr.h</code> and <code>SysUtils.h</code>. <a name="924908"> </a><p></p><dt>For more information on the system manager, see the chapters <a href="AppStartupAndStop.html#924904">"Application Startup and Stop"</a> and <a href="SystemFeatures.html#924905">"Palm System Features"</a> in the <em>Palm OS Programmer's Companion</em>. </dl><a name="924915"> </a><h2> System Functions</h2><a name="924917"> </a><br> <br> <br><h3> SysAppLaunch</h3><dl><dl><a name="924918"> </a><h4>Purpose </h4><dl><a name="924919"> </a><p></p><dt>Open an application from a specified database and card, with the appropriate launch flags. Generally used to launch an application as a subroutine of the caller.</dl><a name="924920"> </a><h4>Prototype </h4><dl><a name="924922"> </a><dt><code>Err SysAppLaunch (UInt16&nbsp;cardNo, LocalID&nbsp;dbID, UInt16&nbsp;launchFlags, UInt16&nbsp;cmd, MemPtr&nbsp;cmdPBP, UInt32*&nbsp;resultP)</code></dl></dl><dl><a name="924923"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="924924"> </a><CODE><code>cardNo</code>, <code>dbID</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><code>cardNo</code> and <code>dbID</code> identify the application.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="924925"> </a><CODE><code>launchFlags</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Set to 0.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="924926"> </a><CODE><code>cmd</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Launch code.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="924927"> </a><CODE><code>cmdPBP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Launch code parameter block.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="924928"> </a><CODE><code>resultP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to what's returned by the application's <code>PilotMain</code> routine.<br></TD></TR></TABLE></dl><dl><a name="924929"> </a><h4>Result </h4><dl><a name="924932"> </a><p></p><dt>Returns 0 if no error, or one of <code>sysErrParamErr</code>, <code>memErrNotEnoughSpace</code>, <code>sysErrOutOfOwnerIDs</code>.</dl></dl><dl><a name="924934"> </a><h4>Comments </h4><dl><a name="924935"> </a><p></p><dt>Launching an application with all launch bits cleared makes the application a subroutine call from the point of view of the caller. <a name="924936"> </a><p></p><dt>Do not use this function to open the system-supplied Application Launcher application. If another application has replaced the default launcher with one of its own, this function will open the custom launcher instead of the system-supplied one. To open the system-supplied launcher reliably, enqueue a <code>keyDownEvent</code> that contains a <code>launchChr</code>, as shown in the section <a href="UserInterface.html#926561">"Application Launcher"</a> of the user interface chapter in the <em>Palm OS Programmer's Companion</em>.<a name="924940"> </a><p></p><dt>If the launch flag <code>sysAppLaunchFlagNewThread</code> is set, and you are passing a parameter block (the <code>cmdPBP</code> parameter), you must set the owner of the parameter block chunk to the operating system. To do this, and for more information, see <code><a href="MemoryManager.html#925698"></code>MemPtrSetOwner<code></a></code>. If the parameter block structure contains references by pointer or handle to any other chunks, you also must set the owner of those chunks by using <code><a href="MemoryManager.html#955510"></code>MemHandleSetOwner<code></a></code> or <code>MemPtrSetOwner</code>.<a name="924947"> </a><blockquote><hr><strong>NOTE: &nbsp</strong><p></p>For important information regarding the correct use of this function, see the <a href="AppStartupAndStop.html#924904">"Application Startup and Stop"</a> chapter in the <em>Palm OS Programmer's Companion</em>.<hr><br></blockquote></dl><a name="924951"> </a><h4>See Also </h4><dl><a name="924958"> </a><p></p><dt><code><a href="SystemManager.html#925101"></code>SysBroadcastActionCode<code></a></code>, <code><a href="SystemManager.html#925699"></code>SysUIAppSwitch<code></a></code>, <code><a href="SystemManager.html#925175"></code>SysCurAppDatabase<code></a></code> </dl></dl></dl><a name="924986"> </a><br> <br> <br><h3> SysBatteryInfo</h3><dl><dl><a name="924987"> </a><h4>Purpose </h4><dl><a name="924988"> </a><p></p><dt>Retrieve settings for the batteries. Set <code>set</code> to <code>false</code> to retrieve battery settings. (Applications should <strong><em>not</strong></em> change any of the settings).<dl><a name="924989"> </a><p></p><dt>Use this function only to <strong>retrieve</strong> settings!</dl></dl><a name="924990"> </a><h4>Prototype </h4><dl><a name="924991"> </a><dt><code>UInt16 SysBatteryInfo (Boolean&nbsp;set, UInt16*&nbsp;warnThresholdP, UInt16*&nbsp;criticalThresholdP, UInt16*&nbsp;maxTicksP, SysBatteryKind*&nbsp;kindP, Boolean*&nbsp;pluggedIn UInt8*&nbsp;percentP)</code></dl></dl><dl><a name="924992"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="924993"> </a><CODE><code>set</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>If <code>false</code>, parameters with non-<code>NULL</code> pointers are retrieved. Never set this parameter to <code>true</code>.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="924996"> </a><CODE><code>warnThresholdP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to battery voltage warning threshold in volts*100, or <code>NULL</code>.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="924997"> </a><CODE><code>criticalThresholdP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT></code>Pointer to the battery voltage critical threshold in volts*100, or <code>NULL</code>.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="924999"> </a><CODE><code>maxTicksP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to the battery timeout, or <code>NULL</code>.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925000"> </a><CODE><code>kindP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to the battery kind, or <code>NULL</code>.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925001"> </a><CODE><code>pluggedIn</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to <code>pluggedIn</code> return value, or <code>NULL</code>.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925002"> </a><CODE><code>percentP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Percentage of power remaining in the battery. <br></TD></TR></TABLE></dl><dl><a name="925003"> </a><h4>Result </h4><dl><a name="925004"> </a><p></p><dt>Returns the current battery voltage in volts*100.</dl></dl><dl><a name="925005"> </a><h4>Comments </h4><dl><a name="925006"> </a><p></p><dt>Call this function to make sure an upcoming activity won't be interrupted by a low battery warning.<a name="925007"> </a><p></p><dt><code>warnThresholdP</code> and <code>maxTicksP</code> are the battery-warning voltage threshold and time out. If the battery voltage falls below the threshold, or the timeout expires, a <code>lowBatteryChr</code> key event is put on the queue. Normally, applications call <code><a href="SystemManager.html#925364"></code>SysHandleEvent<code></a></code> which calls <code>SysBatteryDialog</code> in response to this event. <a name="925011"> </a><p></p><dt><code>criticalThresholdP</code> is the battery voltage threshold. If battery voltage falls below this level, the system turns itself off without warning and doesn't turn on until battery voltage is above it again. </dl><a name="925012"> </a><h4>Compatibility </h4><dl><a name="925013"> </a><p></p><dt>This function was revised for Palm OS<sup>&#174;</sup> 3.0. In Palm OS 3.0, the <code>percentP</code> parameter was added. This enhancement is implemented only if <a href="CompatibilityApdx.html#483537">3.0 New Feature Set</a> is present.</dl><a name="925017"> </a><h4>See Also </h4><dl><a name="925021"> </a><p></p><dt><code><a href="SystemManager.html#925024"></code>SysBatteryInfoV20<code></a> </code></dl></dl></dl><a name="925024"> </a><br> <br> <br><h3> SysBatteryInfoV20</h3><dl><dl><a name="925025"> </a><h4>Purpose </h4><dl><a name="925026"> </a><p></p><dt>Retrieve settings for the batteries. Set to <code>false</code> to retrieve battery settings. (Applications should <strong><em>not</strong></em> change any of the settings).<a name="925027"> </a><p></p><dt>Use this function only to <strong>retrieve</strong> settings!</dl><a name="925028"> </a><h4>Prototype </h4><dl><a name="925029"> </a><dt><code>UInt16 SysBatteryInfoV20 (Boolean&nbsp;set, UInt16*&nbsp;warnThresholdP, UInt16*&nbsp;criticalThresholdP, UInt16*&nbsp;maxTicksP, SysBatteryKind*&nbsp;kindP, Boolean*&nbsp;pluggedIn)</code></dl></dl><dl><a name="925030"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925031"> </a><CODE><code>set</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>If <code>false</code>, parameters with non-<code>NULL</code> pointers are retrieved. Never set this parameter to <code>true</code>.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925034"> </a><CODE><code>warnThresholdP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to battery voltage warning threshold in volts*100, or <code>NULL</code>.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925035"> </a><CODE><code>criticalThresholdP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to the battery voltage critical threshold in volts*100, or <code>NULL</code>.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925037"> </a><CODE><code>maxTicksP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to the battery timeout, or <code>NULL</code>.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925038"> </a><CODE><code>kindP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to the battery kind, or <code>NULL</code>.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925039"> </a><CODE><code>pluggedIn</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to <code>pluggedIn</code> return value, or <code>NULL</code>.<br></TD></TR></TABLE></dl><dl><a name="925040"> </a><h4>Result </h4><dl><a name="925041"> </a><p></p><dt>Returns the current battery voltage in volts*100.</dl></dl><dl><a name="925042"> </a><h4>Comments </h4><dl><a name="925043"> </a><p></p><dt>Call this function to make sure an upcoming activity won't be interrupted by a low battery warning.<a name="925044"> </a><p></p><dt><code>warnThresholdP</code> and <code>maxTicksP</code> are the battery-warning voltage threshold and time out. If the battery voltage falls below the threshold, or the timeout expires, a <code>lowBatteryChr</code> key event is put on the queue. Normally, applications call <code><a href="SystemManager.html#925364"></code>SysHandleEvent<code></a></code> which calls <code>SysBatteryDialog</code> in response to this event. <a name="925048"> </a><p></p><dt><code>criticalThresholdP</code> is the battery voltage threshold. If battery voltage falls below this level, the system turns itself off without warning and doesn't turn on until battery voltage is above it again. </dl><a name="925049"> </a><h4>Compatibility </h4><dl><a name="925050"> </a><p></p><dt>This function corresponds to the Palm OS 2.0 version of <code>SysBatteryInfo</code>. Implemented only if <a href="CompatibilityApdx.html#483537">3.0 New Feature Set</a> is present.</dl><a name="925054"> </a><h4>See Also </h4><dl><a name="925058"> </a><p></p><dt><code><a href="SystemManager.html#924986"></code>SysBatteryInfo<code></a> </code></dl></dl></dl><a name="925061"> </a><br> <br> <br><h3> SysBinarySearch</h3><dl><dl><a name="925062"> </a><h4>Purpose </h4><dl><a name="925063"> </a><p></p><dt>Search elements in a sorted array for the specified data according to the specified comparison function. </dl><a name="925064"> </a><h4>Prototype </h4><dl><a name="925065"> </a><dt><code>Boolean SysBinarySearch (void&nbsp;const&nbsp;*baseP, const&nbsp;UInt16&nbsp;numOfElements, const&nbsp;Int16&nbsp;width, SearchFuncPtr&nbsp;searchF, void&nbsp;const&nbsp;*searchData, const&nbsp;Int32&nbsp;other, Int32*&nbsp;position, const&nbsp;Boolean&nbsp;findFirst)</code></dl></dl><dl><a name="925066"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925067"> </a><CODE><code>baseP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Base pointer to an array of elements<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925068"> </a><CODE><code>numOfElements</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Number of elements to search, starting at 0 to <code>numOfElements</code> -1. Must be greater than 0.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925069"> </a><CODE><code>width</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Width of an element comparison function. <br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925070"> </a><CODE><code>searchF</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Search function. <br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925071"> </a><CODE><code>searchData</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Data to search for. This data is passed to the <code>searchF</code> function.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925072"> </a><CODE><code>other</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Data to be passed as the third parameter (the <code>other</code> parameter) to the comparison function.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925073"> </a><CODE><code>position</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to the position result.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925074"> </a><CODE><code>findFirst</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>If set to <code>true</code>, the first matching element is returned. Use this parameter if the array contains duplicate entries to ensure that the first such entry will be the one returned.<br></TD></TR></TABLE></dl><dl><a name="925075"> </a><h4>Result </h4><dl><a name="925076"> </a><p></p><dt>Returns <code>true</code> if an exact match was found. In this case, <code>position</code> points to the element number where the data was found. <a name="925077"> </a><p></p><dt>Returns <code>false</code> if an exact match was not found. If <code>false</code> is returned, <code>position</code> points to the element number where the data should be inserted if it was to be added to the array in sorted order.</dl></dl><dl><a name="925078"> </a><h4>Comments </h4><dl><a name="925079"> </a><p></p><dt>The array must be sorted in ascending order prior to the search. Use <code><a href="SystemManager.html#925388"></code>SysInsertionSort<code></a></code> or <code><a href="SystemManager.html#925553"></code>SysQSort<code></a></code> to sort the array.<a name="925086"> </a><p></p><dt>The search starts at element 0 and ends at element (<code>numOfElements</code> - 1). <a name="925087"> </a><p></p><dt>The search function's (<code>searchF</code>) prototype is:</dl></dl><dl><a name="925089"> </a><br><code>Int16 _searchF (void&nbsp;const&nbsp;*searchData, void&nbsp;const&nbsp;*arrayData, Int32&nbsp;other);</code><br><dl><a name="925090"> </a><p></p><dt>The first parameter is the data for which to search, the second parameter is a pointer to an element in the array, and the third parameter is any other necessary data. <a name="925091"> </a><p></p><dt>The function returns:<ul type="SQUARE"><a name="925092"> </a><br><li>&gt; 0 if the search data is greater than the element<br><a name="925093"> </a><br><li>&lt; 0 if the search data is less than the element<br><a name="925094"> </a><br><li>0 if the search data is the same as the element<br></ul></dl></dl><dl><a name="925095"> </a><h4>Compatibility </h4><dl><a name="925099"> </a><p></p><dt>Implemented only if <a href="CompatibilityApdx.html#483165">2.0 New Feature Set</a> is present.</dl></dl></dl><a name="925101"> </a><br> <br> <br><h3> SysBroadcastActionCode</h3><dl><dl><a name="925102"> </a><h4>Purpose </h4><dl><a name="925103"> </a><p></p><dt>Send the specified action code (launch code) and parameter block to the latest version of every UI application.</dl><a name="925105"> </a><h4>Prototype </h4><dl><a name="925107"> </a><dt><code>Err SysBroadcastActionCode (UInt16&nbsp;cmd, MemPtr&nbsp;cmdPBP)</code></dl></dl><dl><a name="925108"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925109"> </a><CODE><code>cmd</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Action code to send.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925110"> </a><CODE><code>cmdPBP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Action code parameter block to send.<br></TD></TR></TABLE></dl><dl><a name="925111"> </a><h4>Result </h4><dl><a name="925112"> </a><p></p><dt>Returns 0 if no error, or one of the following errors: <code>sysErrParamErr, memErrNotEnoughSpace, sysErrOutOfOwnerIDs.</code></dl></dl><dl><a name="925116"> </a><h4>See Also </h4><dl><a name="925123"> </a><p></p><dt><code><a href="SystemManager.html#924917"></code>SysAppLaunch<code></a></code>, <a href="AppStartupAndStop.html#924904">Chapter 3, "Application Startup and Stop."</a> of the <em>Palm OS Programmer's Companion</em> </dl></dl></dl><a name="925125"> </a><br> <br> <br><h3> SysCopyStringResource</h3><dl><dl><a name="925126"> </a><h4>Purpose </h4><dl><a name="925127"> </a><p></p><dt>Copy a resource string to a passed string.</dl><a name="925128"> </a><h4>Prototype </h4><dl><a name="925130"> </a><dt><code>void SysCopyStringResource (Char*&nbsp;string, Int16&nbsp;theID)</code></dl></dl><dl><a name="925131"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925132"> </a><CODE><code>string</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>String to copy the resource string to.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925133"> </a><CODE><code>theID</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Resource string ID.<br></TD></TR></TABLE></dl><dl><a name="925134"> </a><h4>Result </h4><dl><a name="925135"> </a><p></p><dt>Stores a copy of the resource string in <code>string</code>.</dl></dl></dl><a name="925137"> </a><br> <br> <br><h3> SysCreateDataBaseList</h3><dl><dl><a name="925138"> </a><h4>Purpose </h4><dl><a name="925139"> </a><p></p><dt>Generate a list of databases found on the memory cards matching a specific type and return the result. If <code>lookupName</code> is <code>true</code> then a name in a <code>tAIN</code> resource is used instead of the database's name and the list is sorted. Only the last version of a database is returned. Databases with multiple versions are listed only once.</dl><a name="925140"> </a><h4>Prototype </h4><dl><a name="925142"> </a><dt><code>Boolean SysCreateDataBaseList (UInt32&nbsp;type, UInt32&nbsp;creator, UInt16*&nbsp;dbCount, MemHandle&nbsp;*dbIDs, Boolean&nbsp;lookupName)</code></dl></dl><dl><a name="925143"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925144"> </a><CODE><code>type</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Type of database to find (0 for wildcard).<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925145"> </a><CODE><code>creator</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Creator of database to find (0 for wildcard).<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925146"> </a><CODE><code>dbCount</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to contain count of matching databases.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925147"> </a><CODE><code>dbIDs</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to handle allocated to contain the database list.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925148"> </a><CODE><code>lookupName</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Use <code>tAIN</code> names and sort the list.<br></TD></TR></TABLE></dl><dl><a name="925149"> </a><h4>Result </h4><dl><a name="925150"> </a><p></p><dt>Returns <code>false</code> if no databases were found, <code>true</code> if databases were found. <code>dbCount</code> is updated to the number of databases found; <code>dbIDs</code> is updated to the list of matching databases found.</dl></dl><dl><a name="925151"> </a><h4>Compatibility </h4><dl><a name="925155"> </a><p></p><dt>Implemented only if <a href="CompatibilityApdx.html#483165">2.0 New Feature Set</a> is present.</dl></dl></dl><a name="925157"> </a><br> <br> <br><h3> SysCreatePanelList</h3><dl><dl><a name="925158"> </a><h4>Purpose </h4><dl><a name="925160"> </a><p></p><dt>Generate a list of panels found on the memory cards and return the result. Multiple versions of a panel are listed once.</dl><a name="925161"> </a><h4>Prototype </h4><dl><a name="925163"> </a><dt><code>Boolean SysCreatePanelList (UInt16*&nbsp;panelCount, MemHandle&nbsp;*panelIDs)</code></dl></dl><dl><a name="925164"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925165"> </a><CODE><code>panelCount</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to set to the number of panels.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925166"> </a><CODE><code>panelIDs</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to handle containing a list of panels.<br></TD></TR></TABLE></dl><dl><a name="925167"> </a><h4>Result </h4><dl><a name="925168"> </a><p></p><dt>Returns <code>false</code> if no panels were found, <code>true</code> if panels were found. <code>panelCount</code> is updated to the number of panels found; <code>panelIDs</code> is updated to the IDs of panels found. </dl></dl><dl><a name="925169"> </a><h4>Compatibility </h4><dl><a name="925173"> </a><p></p><dt>Implemented only if <a href="CompatibilityApdx.html#483165">2.0 New Feature Set</a> is present.</dl></dl></dl><a name="925175"> </a><br> <br> <br><h3> SysCurAppDatabase</h3><dl><dl><a name="925176"> </a><h4>Purpose </h4><dl><a name="925177"> </a><p></p><dt>Return the card number and database ID of the current application's resource database.</dl><a name="925179"> </a><h4>Prototype </h4><dl><a name="925181"> </a><dt><code>Err SysCurAppDatabase (UInt16*&nbsp;cardNoP, LocalID*&nbsp;dbIDP)</code></dl></dl><dl><a name="925182"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925183"> </a><CODE><code>cardNoP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to the card number; 0 or 1.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925184"> </a><CODE><code>dbIDP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to the database ID.<br></TD></TR></TABLE></dl><dl><a name="925185"> </a><h4>Result </h4><dl><a name="925186"> </a><p></p><dt>Returns 0 if no error, or <code>SysErrParamErr </code>if an error occurs.</dl></dl><dl><a name="925187"> </a><h4>See Also </h4><dl><a name="925194"> </a><p></p><dt><code><a href="SystemManager.html#924917"></code>SysAppLaunch<code></a>, <a href="SystemManager.html#925699"></code>SysUIAppSwitch<code></a></code></dl></dl></dl><a name="925196"> </a><br> <br> <br><h3> SysErrString</h3><dl><dl><a name="925197"> </a><h4>Purpose </h4><dl><a name="925198"> </a><p></p><dt>Returns text to describe an error number. This routine looks up the textual description of a system error number in the appropriate List resource and creates a string that can be used to display that error. <a name="925199"> </a><p></p><dt>The actual string will be of the form: "&lt;error message&gt; (XXXX)" where XXXX is the hexadecimal error number. <a name="925200"> </a><p></p><dt>This routine looks for a resource of type 'tstl' and resource ID of (err&gt;&gt;8). It then grabs the string at index (err &amp; 0x00FF) out of that resource. <a name="925201"> </a><p></p><dt>The first string in the resource is called index #1 by Constructor, NOT #0. For example, an error code of 0x0101 will fetch the first string in the resource. </dl><a name="925202"> </a><h4>Prototype </h4><dl><a name="925204"> </a><dt><code>Char* SysErrString (Err&nbsp;err, Char*&nbsp;strP, UInt16&nbsp;maxLen)</code></dl></dl><dl><a name="925205"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925206"> </a><CODE><code>err</code> </CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Error number<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925207"> </a><CODE><code>strP</code> </CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to space to form the string<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925208"> </a><CODE><code>maxLen</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Size of <code>strP</code> buffer.<br></TD></TR></TABLE></dl><dl><a name="925209"> </a><h4>Result </h4><dl><a name="925210"> </a><p></p><dt>Stores the error number string. </dl></dl><dl><a name="925211"> </a><h4>Compatibility </h4><dl><a name="925215"> </a><p></p><dt>Implemented only if <a href="CompatibilityApdx.html#483165">2.0 New Feature Set</a> is present.</dl></dl></dl><a name="925229"> </a><br> <br> <br><h3> SysFormPointerArrayToStrings</h3><dl><dl><a name="925230"> </a><h4>Purpose </h4><dl><a name="925231"> </a><p></p><dt>Form an array of pointers to strings in a block. Useful for setting the items of a list.</dl><a name="925232"> </a><h4>Prototype </h4><dl><a name="925234"> </a><dt><code>MemHandle SysFormPointerArrayToStrings (Char*&nbsp;c, Int16&nbsp;stringCount)</code></dl></dl><dl><a name="925235"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925236"> </a><CODE><code>c</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to packed block of strings, each terminated by <code>NULL</code>.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925237"> </a><CODE><code>stringCount</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Count of strings in block.<br></TD></TR></TABLE></dl><dl><a name="925238"> </a><h4>Result </h4><dl><a name="925239"> </a><p></p><dt>Unlocked handle to allocated array of pointers to the strings in the passed block. The returned array points to the strings in the passed packed block. </dl></dl></dl><a name="925243"> </a><br> <br> <br><h3> SysGetOSVersionString</h3><dl><dl><a name="925244"> </a><h4>Purpose </h4><dl><a name="925245"> </a><p></p><dt>Return the version number of the Palm operating system.</dl><a name="925246"> </a><h4>Prototype </h4><dl><a name="925247"> </a><dt><code>Char* SysGetOSVersionString()</code></dl></dl><dl><a name="925248"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925249"> </a><CODE></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><br></TD></TR></TABLE></dl><dl><a name="925250"> </a><h4>Result </h4><dl><a name="925251"> </a><p></p><dt>Returns a string such as "v. 3.0." </dl></dl><dl><a name="925252"> </a><h4>Comments </h4><dl><a name="925256"> </a><p></p><dt>You must free the returned string using the <code><a href="MemoryManager.html#925616"></code>MemPtrFree<code></a></code> function. </dl><a name="925257"> </a><h4>Compatibility </h4><dl><a name="925261"> </a><p></p><dt>Implemented only if <a href="CompatibilityApdx.html#483537">3.0 New Feature Set</a> is present.</dl></dl></dl><a name="925264"> </a><br> <br> <br><h3> SysGetROMToken</h3><dl><dl><a name="925265"> </a><h4>Purpose </h4><dl><a name="925266"> </a><p></p><dt>Return from ROM a value specified by token.</dl><a name="925267"> </a><h4>Prototype </h4><dl><a name="925268"> </a><dt><code>Err SysGetROMToken (UInt16&nbsp;cardNo, UInt32&nbsp;token, UInt8&nbsp;**dataP, UInt16&nbsp;*sizeP)</code></dl></dl><dl><a name="925269"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925270"> </a><CODE>-&gt; <code>cardNo</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The card on which the ROM to be queried resides. Currently, no Palm hardware provides multiple cards, so this value must be 0.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925271"> </a><CODE>-&gt; <code>token</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The value to retrieve, as specified by one of the following tokens: <br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=35% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=25% VALIGN=TOP ALIGN=LEFT><a name="925272"> </a><CODE><code>sysROMTokenSnum</CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT></code>The serial number of the ROM, expressed as a text string with no null terminator.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925273"> </a><CODE>&lt;- <code>dataP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to a text buffer that holds the requested value when the function returns. <br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925274"> </a><CODE>&lt;- <code>sizeP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The number of bytes in the <code>dataP</code> buffer.<br></TD></TR></TABLE></dl><dl><a name="925275"> </a><h4>Result </h4><dl><a name="925276"> </a><p></p><dt>Returns the requested value if no error, or an error code if an error occurs. If this function returns an error, or if the returned pointer to the buffer is <code>NULL</code>, or if the first byte of the text buffer is <code>0xFF</code>, then no serial number is available.</dl></dl><dl><a name="925277"> </a><h4>Comments </h4><dl><a name="925278"> </a><p></p><dt>The serial number is shown to the user in the Application Launcher, along with a checksum digit you can use to validate input when your users read the ID from their device and type it in or tell it to someone else.</dl><a name="925279"> </a><h4>Compatibility </h4><dl><a name="925283"> </a><p></p><dt>Implemented only if <a href="CompatibilityApdx.html#483537">3.0 New Feature Set</a> is present. Serial numbers are available only on flash ROM-based units.</dl><a name="925284"> </a><h4>See Also </h4><dl><a name="925288"> </a><p></p><dt><a href="SystemFeatures.html#925728">"Retrieving the ROM Serial Number"</a> section in the <em>Palm OS Programmer's Companion</em> shows how to retrieve the ROM serial number and calculate its associated checksum. </dl></dl></dl><a name="925291"> </a><br> <br> <br><h3> SysGetStackInfo</h3><dl><dl><a name="925292"> </a><h4>Purpose </h4><dl><a name="925293"> </a><p></p><dt>Return the start and end of the current thread's stack.</dl><a name="925294"> </a><h4>Prototype </h4><dl><a name="925295"> </a><dt><code>Boolean SysGetStackInfo (MemPtr&nbsp;*startPP, MemPtr&nbsp;*endPP)</code></dl></dl><dl><a name="925296"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925297"> </a><CODE><code>startPP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Upon return, points to the start of the stack.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925298"> </a><CODE><code>endPP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Upon return, points to the end of the stack.<br></TD></TR></TABLE></dl><dl><a name="925299"> </a><h4>Result </h4><dl><a name="925300"> </a><p></p><dt>Returns <code>true</code> if the stack has not overflowed, that is, the value of the stack overflow address has not been changed. Returns <code>false</code> if the stack overflow value has been overwritten, meaning that a stack overflow has occurred.</dl></dl><dl><a name="925301"> </a><h4>Compatibility </h4><dl><a name="925305"> </a><p></p><dt>Implemented only if <a href="CompatibilityApdx.html#483537">3.0 New Feature Set</a> is present.</dl></dl></dl><a name="925308"> </a><br> <br> <br><h3> SysGetTrapAddress</h3><dl><dl><a name="925309"> </a><h4>Purpose </h4><dl><a name="925310"> </a><p></p><dt>Return the address of a function given its system trap. </dl><a name="925311"> </a><h4>Prototype </h4><dl><a name="925312"> </a><dt><code>void* SysGetTrapAddress (UInt16&nbsp;trapNum)</code></dl></dl><dl><a name="925313"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925314"> </a><CODE>-&gt; <code>trapNum</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>One of the routine selectors defined in <code>SysTraps.h</code> (<code>sysTrap...</code>) or <code>CoreTraps.h</code> on Palm OS version 3.5 and higher. <br></TD></TR></TABLE></dl><dl><a name="925317"> </a><h4>Result </h4><dl><a name="925318"> </a><p></p><dt>Returns the address of the corresponding function. Returns <code>NULL</code> if an invalid routine selector is passed. </dl></dl><dl><a name="925319"> </a><h4>Comments </h4><dl><a name="925320"> </a><p></p><dt>Use this function for performance reasons. You can then use the address it returns to call the function without having to go through the trap dispatch table. This function is mostly useful for optimizing the performance of functions called in a tight loop. <a name="933937"> </a><p></p><dt>The Palm OS trap dispatch mechanism allows the trap table entries to be modified at any time, either as the result of a system update or a hack. For this reason, it's important to call this function <strong>immediately</strong> <strong>before</strong> entering the tight loop. If the trap address changes in between when you call <code>SysGetTrapAddress</code> and you use the address, the wrong function will be called. </dl></dl></dl><a name="933939"> </a><br> <br> <br><h3> SysGraffitiReferenceDialog</h3><dl><dl><a name="933940"> </a><h4>Purpose </h4><dl><a name="925326"> </a><p></p><dt>Pop up the Graffiti<sup>&#174;</sup> Reference Dialog.</dl><a name="925327"> </a><h4>Prototype </h4><dl><a name="925329"> </a><dt><code>void SysGraffitiReferenceDialog (ReferenceType&nbsp;referenceType)</code></dl></dl><dl><a name="925330"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925331"> </a><CODE><code>referenceType</code> </CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Which reference to display. See <code>GraffitiReference.h</code> for more information.<br></TD></TR></TABLE></dl><dl><a name="925332"> </a><h4>Result </h4><dl><a name="925333"> </a><p></p><dt>Nothing returned.</dl></dl><dl><a name="925334"> </a><h4>Compatibility </h4><dl><a name="925338"> </a><p></p><dt>Implemented only if <a href="CompatibilityApdx.html#483165">2.0 New Feature Set</a> is present.</dl></dl></dl><a name="925341"> </a><br> <br> <br><h3> SysGremlins</h3><dl><dl><a name="925342"> </a><h4>Purpose </h4><dl><a name="925343"> </a><p></p><dt>Query the Gremlins facility. You pass a selector for a function and parameters for that function. Gremlins performs the function call and returns the result. </dl><a name="925344"> </a><h4>Prototype </h4><dl><a name="925345"> </a><dt><code>UInt32 SysGremlins (GremlinFunctionType&nbsp;selector, GremlinParamsType&nbsp;*params)</code></dl></dl><dl><a name="925346"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925347"> </a><CODE><code>selector</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The selector for a function to pass to Gremlins.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925348"> </a><CODE><code>params</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to a parameter block used to pass parameters to the function specified by <code>selector</code>.<br></TD></TR></TABLE></dl><dl><a name="925349"> </a><h4>Result </h4><dl><a name="925350"> </a><p></p><dt>Returns the result of the function performed in Gremlins. </dl></dl><dl><a name="925351"> </a><h4>Comments </h4><dl><a name="925352"> </a><p></p><dt>Currently, only one selector is defined, <code>GremlinIsOn</code>, which takes no parameters. <code>GremlinIsOn</code> returns 0 if Gremlins is not running, non-zero if it is running. <a name="925353"> </a><p></p><dt>Currently, non-zero values are returned only from the version of Gremlins in the Palm OS emulator. The Gremlins running in the Simulator on a Macintosh and over the serial line via the Palm Debugger return zero for <code>GremlinIsOn</code>.<a name="925354"> </a><p></p><dt>Use this function if you need to alter the application's behavior when Gremlins is running. For example, the debug 3.0 ROM refuses to bring up the digitizer panel when Gremlins is running under the emulator.</dl><a name="925355"> </a><h4>Compatibility </h4><dl><a name="925359"> </a><p></p><dt>Implemented only if <a href="CompatibilityApdx.html#483537">3.0 New Feature Set</a> is present.<a name="925360"> </a><p></p><dt>In Palm OS 3.2 and later, <code>SysGremlins</code> is replaced by the functions defined in the file <code>HostControl.h</code>. Specifically, the one selector supported by <code>SysGremlins</code> is replaced with the function <code>HostGremlinIsRunning</code>. For backward compatibility, <code>SysGremlins</code> is mapped to <code>HostGremlinIsRunning</code>. </dl></dl></dl><a name="925364"> </a><br> <br> <br><h3> SysHandleEvent</h3><dl><dl><a name="925365"> </a><h4>Purpose </h4><dl><a name="925366"> </a><p></p><dt>Handle defaults for system events such as hard and soft key presses. </dl><a name="925367"> </a><h4>Prototype </h4><dl><a name="925369"> </a><dt><code>Boolean SysHandleEvent (EventPtr&nbsp;eventP)</code></dl></dl><dl><a name="925370"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925371"> </a><CODE><code>eventP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to an event.<br></TD></TR></TABLE></dl><dl><a name="925372"> </a><h4>Result </h4><dl><a name="925373"> </a><p></p><dt>Returns <code>true</code> if the system handled the event.</dl></dl><dl><a name="925374"> </a><h4>Comments </h4><dl><a name="925375"> </a><p></p><dt>Applications should call this routine immediately after calling <code><a href="SystemEventManager.html#925143"></code>EvtGetEvent<code></a></code> unless they want to override the default system behavior. However, overriding the default system behavior is almost never appropriate for an application. </dl><a name="925379"> </a><h4>See Also </h4><dl><a name="925386"> </a><p></p><dt><code><a href="SystemEventManager.html#925238"></code>EvtProcessSoftKeyStroke<code></a></code>, <code><a href="KeyManager.html#924935"></code>KeyRates<code></a></code> </dl></dl></dl><a name="925388"> </a><br> <br> <br><h3> SysInsertionSort</h3><dl><dl><a name="925389"> </a><h4>Purpose </h4><dl><a name="925390"> </a><p></p><dt>Sort elements in an array according to the passed comparison function. </dl><a name="925391"> </a><h4>Prototype </h4><dl><a name="925393"> </a><dt><code>void SysInsertionSort (void*&nbsp;baseP, Int16&nbsp;numOfElements, Int16&nbsp;width, const&nbsp;CmpFuncPtr&nbsp;comparF, const&nbsp;Int32&nbsp;other)</code></dl></dl><dl><a name="925394"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925395"> </a><CODE><code>baseP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Base pointer to an array of elements.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925396"> </a><CODE><code>numOfElements</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Number of elements to sort (must be at least 2). <br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925397"> </a><CODE><code>width</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Width of an element.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925398"> </a><CODE><code>comparF</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Comparison function (see Comments). <br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925399"> </a><CODE><code>other</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Other data passed to the comparison function.<br></TD></TR></TABLE></dl><dl><a name="925400"> </a><h4>Result </h4><dl><a name="925401"> </a><p></p><dt>Returns nothing.</dl></dl><dl><a name="925402"> </a><h4>Comments </h4><dl><a name="925403"> </a><p></p><dt>Only elements which are out of order move. Moved elements are moved to the end of the range of equal elements. If a large amount of elements are being sorted, try to use the quick sort (see <code><a href="SystemManager.html#925553"></code>SysQSort<code></a></code>).<a name="925408"> </a><p></p><dt>This is the insertion sort algorithm: Starting with the second element, each element is compared to the preceding element. Each element not greater than the last is inserted into sorted position within those already sorted. A binary search for the insertion point is performed. A moved element is inserted after any other equal elements.<a name="925410"> </a><p></p><dt>In Palm OS 2.0 and later, <code>DmComparF</code> has 6 parameters.<a name="925411"> </a><p></p><dt>These parameters allow a Palm OS application to pass more information to the system than before, most noticeably the record (and all associated information) which allows sorting by unique ID, so that the Palm OS device and the desktop always match. <a name="925412"> </a><p></p><dt>The revised callback is used by new sorting routines (and can be used the same way by your application): </dl></dl><dl><a name="925415"> </a><br><code>typedef Int16 DmComparF (void *, void *, Int16 other, SortRecordInfoPtr, SortRecordInfoPtr,</code><br></dl><dl><a name="925416"> </a><code>MemHandle appInfoH);</code><br><dl><a name="925417"> </a><p></p><dt>As a rule, this change in the number of arguments doesn't cause problems when a 1.0 application is run on a 2.0 or later device, because the system only pulls the arguments from the stack that are there. <a name="925418"> </a><p></p><dt>Note, however, that some optimized applications built with tools other than Metrowerks CodeWarrior for Palm OS may have problems as a result of the change in arguments when running on a 2.0 or later device.<a name="925419"> </a><p></p><dt>The 2.0 comparison function (<code>comparF</code>) has this prototype:</dl></dl><dl><a name="925420"> </a><br><code>Int comparF (VoidPtr, VoidPtr, Long other);</code><br><dl><a name="925421"> </a><p></p><dt>The 1.0 comparison function (<code>comparF</code>) had this prototype: </dl><a name="925422"> </a><br><code>Int comparF (BytePtr A, BytePtr B, Long other);</code><br><dl><a name="925423"> </a><p></p><dt>The function returns:<ul type="SQUARE"><a name="925424"> </a><br><li>&gt; 0 if A &gt; B<br><a name="925425"> </a><br><li>&lt; 0 if A&lt; B<br><a name="925426"> </a><br><li>0 if A = B<br></ul></dl></dl><dl><a name="925427"> </a><h4>See Also </h4><dl><a name="925431"> </a><p></p><dt><code><a href="SystemManager.html#925553"></code>SysQSort<code></a> </code></dl></dl></dl><a name="925446"> </a><br> <br> <br><h3> SysKeyboardDialog</h3><dl><dl><a name="925447"> </a><h4>Purpose </h4><dl><a name="925448"> </a><p></p><dt>Pop up the system keyboard if there is a field object with the focus. The field object's text chunk is edited directly.</dl><a name="925449"> </a><h4>Prototype </h4><dl><a name="925451"> </a><dt><code>void SysKeyboardDialog (KeyboardType&nbsp;kbd)</code></dl></dl><dl><a name="925452"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925453"> </a><CODE><code>kbd</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The keyboard type. See <code>Keyboard.h</code>.<br></TD></TR></TABLE></dl><dl><a name="925454"> </a><h4>Result </h4><dl><a name="925455"> </a><p></p><dt>Returns nothing. Changes the field's text chunk.</dl></dl><dl><a name="925456"> </a><h4>Compatibility </h4><dl><a name="925460"> </a><p></p><dt>Implemented only if <a href="CompatibilityApdx.html#483165">2.0 New Feature Set</a> is present.</dl><a name="925461"> </a><h4>See Also </h4><dl><a name="925468"> </a><p></p><dt><code><a href="SystemManager.html#925470"></code>SysKeyboardDialogV10<code></a></code>, <code><a href="Form.html#927065"></code>FrmSetFocus<code></a></code> </dl></dl></dl><a name="925470"> </a><br> <br> <br><h3> SysKeyboardDialogV10</h3><dl><dl><a name="925471"> </a><h4>Purpose </h4><dl><a name="925472"> </a><p></p><dt>Pop up the system keyboard if there is a field object with the focus. The field object's text chunk is edited directly.</dl><a name="925473"> </a><h4>Prototype </h4><dl><a name="925475"> </a><dt><code>void SysKeyboardDialogV10 ()</code></dl></dl><dl><a name="925476"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925477"> </a><CODE></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><br></TD></TR></TABLE></dl><dl><a name="925478"> </a><h4>Result </h4><dl><a name="925479"> </a><p></p><dt>Returns nothing. The field's text chunk is changed.</dl></dl><dl><a name="925480"> </a><h4>Compatibility </h4><dl><a name="925481"> </a><p></p><dt>Corresponds to the 1.0 implementation of <code>SysKeyboardDialog</code>.</dl><a name="925482"> </a><h4>See Also </h4><dl><a name="925489"> </a><p></p><dt><code><a href="SystemManager.html#925446"></code>SysKeyboardDialog<code></a></code>, <code><a href="Form.html#927065"></code>FrmSetFocus<code></a></code> </dl></dl></dl><a name="925491"> </a><br> <br> <br><h3> SysLibFind</h3><dl><dl><a name="925492"> </a><h4>Purpose </h4><dl><a name="925493"> </a><p></p><dt>Return a reference number for a library that is already loaded, given its name.</dl><a name="925494"> </a><h4>Prototype </h4><dl><a name="925496"> </a><dt><code>Err SysLibFind (const&nbsp;Char*&nbsp;nameP, UInt16*&nbsp;refNumP)</code></dl></dl><dl><a name="925497"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925498"> </a><CODE><code>nameP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to the name of a loaded library.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925499"> </a><CODE><code>refNumP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to a variable for returning the library reference number (on failure, this variable is undefined)<br></TD></TR></TABLE></dl><dl><a name="925500"> </a><h4>Result </h4><dl><a name="925502"> </a><p></p><dt>0 if no error; otherwise: <code>sysErrLibNotFound</code> (if the library is not yet loaded), or another error returned from the library's install entry point.</dl></dl><dl><a name="925503"> </a><h4>Comments </h4><dl><a name="925504"> </a><p></p><dt>Most built-in libraries (NetLib, serial, IR) are preloaded automatically when the system is reset. Third-party libraries must be loaded before this call can succeed (use <code><a href="SystemManager.html#925509"></code>SysLibLoad<code></a></code>). You can check if a library is already loaded by calling <code>SysLibFind</code> and checking for a 0 error return value (it will return a non-zero value if the library is not loaded).</dl></dl></dl><a name="925509"> </a><br> <br> <br><h3> SysLibLoad</h3><dl><dl><a name="925510"> </a><h4>Purpose </h4><dl><a name="925511"> </a><p></p><dt>Load a library given its database creator and type. </dl><a name="925512"> </a><h4>Prototype </h4><dl><a name="925514"> </a><dt><code>Err SysLibLoad (UInt32&nbsp;libType, UInt32&nbsp;libCreator, UInt16*&nbsp;refNumP)</code></dl></dl><dl><a name="925515"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925516"> </a><CODE><code>libType</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Type of library database.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925517"> </a><CODE><code>libCreator</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Creator of library database.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925518"> </a><CODE><code>refNumP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to variable for returning the library reference number (on failure, <code>sysInvalidRefNum</code> is returned in this variable)<br></TD></TR></TABLE></dl><dl><a name="925519"> </a><h4>Result </h4><dl><a name="931120"> </a><p></p><dt>0 if no error; otherwise: <code>sysErrLibNotFound</code>, <code>sysErrNoFreeRAM</code>, <code>sysErrNoFreeLibSlots</code>, or other error returned from the library's install entry point.</dl></dl><dl><a name="925524"> </a><h4>Comments </h4><dl><a name="925525"> </a><p></p><dt>Presently, the "load" functionality is <strong><em>not</strong></em> supported when you use the Palm OS Simulator. <a name="925526"> </a><p></p><dt>When an application no longer needs a library that it <strong><em>successfully</strong></em> loaded via <code>SysLibLoad</code>, it is responsible for unloading the library by calling <code><a href="SystemManager.html#925537"></code>SysLibRemove<code></a></code> and passing it the library reference number returned by <code>SysLibLoad</code>. More information is available in the white paper on shared libraries, which you can find on the Palm developer support web site.</dl><a name="925530"> </a><h4>Compatibility </h4><dl><a name="925534"> </a><p></p><dt>Implemented only if <a href="CompatibilityApdx.html#483165">2.0 New Feature Set</a> is present.</dl></dl></dl><a name="925537"> </a><br> <br> <br><h3> SysLibRemove</h3><dl><dl><a name="925538"> </a><h4>Purpose </h4><dl><a name="925542"> </a><p></p><dt>Unload a library previously loaded with <code><a href="SystemManager.html#925509"></code>SysLibLoad<code></a></code>.</dl><a name="925543"> </a><h4>Prototype </h4><dl><a name="925544"> </a><dt><code>Err SysLibRemove (UInt16&nbsp;refNum)</code></dl></dl><dl><a name="925545"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925546"> </a><CODE><code>-&gt; refNum</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The library reference number.<br></TD></TR></TABLE></dl><dl><a name="925547"> </a><h4>Result </h4><dl><a name="925549"> </a><p></p><dt>0 if no error; otherwise <code>sysErrParamErr</code> if the refNum is not a valid library reference number.</dl></dl><dl><a name="925550"> </a><h4>Comments </h4><dl><a name="925551"> </a><p></p><dt><code>SysLibRemove</code> releases the dynamic memory allocated to the shared library's dispatch table, resources, and global variables. </dl></dl></dl><a name="925553"> </a><br> <br> <br><h3> SysQSort</h3><dl><dl><a name="925554"> </a><h4>Purpose </h4><dl><a name="925555"> </a><p></p><dt>Sort elements in an array according to the passed comparison function. Equal records can be in any position relative to each other because a quick sort tends to scramble the ordering of records. As a result, calling <code>SysQSort</code> multiple times can result in a different order if the records are not completely unique. If you don't want this behavior, use the insertion sort instead (see <code><a href="SystemManager.html#925388"></code>SysInsertionSort<code></a></code>).<dl><a name="925559"> </a><p></p><dt>To pick the pivot point, the quick sort algorithm picks the middle of three records picked from around the middle of all records. That way, the algorithm can take advantage of partially sorted data. <a name="925560"> </a><p></p><dt>These optimizations are built in:<ul type="SQUARE"><a name="925561"> </a><br><li>The routine contains its own stack to limit uncontrolled recursion. When the stack is full, an insertion sort is used because it doesn't require more stack space. <br><a name="925562"> </a><br><li>An insertion sort is also used when the number of records is low. This avoids the overhead of a quick sort which is noticeable for small numbers of records. <br><a name="925563"> </a><br><li>If the records seem mostly sorted, an insertion sort is performed to move only those few records that need to be moved.<br></ul></dl></dl><a name="925564"> </a><h4>Prototype </h4><dl><a name="925566"> </a><dt><code>void SysQSort (void*&nbsp;baseP, Int16&nbsp;numOfElements, Int16&nbsp;width, const&nbsp;CmpFuncPtr&nbsp;comparF, const&nbsp;Int32&nbsp;other)</code></dl></dl><dl><a name="925567"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925568"> </a><CODE><code>baseP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Base pointer to an array of elements.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925569"> </a><CODE><code>numOfElements</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Number of elements to sort (must be at least 2). <br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925570"> </a><CODE><code>width</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Width of an element.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925571"> </a><CODE><code>comparF</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Comparison function. See Comments for <code><a href="SystemManager.html#925388"></code>SysInsertionSort<code></a></code>.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925575"> </a><CODE><code>other</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Other data passed to the comparison function.<br></TD></TR></TABLE></dl><dl><a name="925576"> </a><h4>Result </h4><dl><a name="925577"> </a><p></p><dt>Returns nothing.</dl></dl><dl><a name="925578"> </a><h4>See Also </h4><dl><a name="925582"> </a><p></p><dt><code><a href="SystemManager.html#925388"></code>SysInsertionSort<code></a></code> </dl></dl></dl><a name="925584"> </a><br> <br> <br><h3> SysRandom</h3><dl><dl><a name="925585"> </a><h4>Purpose </h4><dl><a name="925587"> </a><p></p><dt>Return a random number anywhere from 0 to <code>sysRandomMax</code>.</dl><a name="925588"> </a><h4>Prototype </h4><dl><a name="925590"> </a><dt><code>Int16 SysRandom (UInt32&nbsp;newSeed)</code></dl></dl><dl><a name="925591"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925592"> </a><CODE><code>newSeed</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>New seed value, or 0 to use existing seed.<br></TD></TR></TABLE></dl><dl><a name="925593"> </a><h4>Result </h4><dl><a name="925594"> </a><p></p><dt>Returns a random number.</dl></dl></dl><a name="925597"> </a><br> <br> <br><h3> SysReset</h3><dl><dl><a name="925598"> </a><h4>Purpose </h4><dl><a name="925600"> </a><p></p><dt>Perform a soft reset and reinitialize the globals and the dynamic memory heap.</dl><a name="925601"> </a><h4>Prototype </h4><dl><a name="925603"> </a><dt><code>void SysReset (void)</code></dl></dl><dl><a name="925604"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925605"> </a><CODE></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><br></TD></TR></TABLE></dl><dl><a name="925606"> </a><h4>Result </h4><dl><a name="925607"> </a><p></p><dt>No return value.</dl></dl><dl><a name="925608"> </a><h4>Comments </h4><dl><a name="925609"> </a><p></p><dt>This routine resets the system, reinitializes the globals area and all system managers, and reinitializes the dynamic heap. All database information is preserved. This routine is called when the user presses the hidden reset switch on the device. <a name="925610"> </a><p></p><dt>When running an application using the simulator, this routine looks for two data files that represent the memory of card 0 and card 1. If these are found, the Palm OS memory image is created using them. If they are not found, they are created.<a name="925611"> </a><p></p><dt>When running an application on the device, this routine simply looks for the memory cards at fixed locations.</dl></dl></dl><a name="925613"> </a><br> <br> <br><h3> SysSetAutoOffTime</h3><dl><dl><a name="925614"> </a><h4>Purpose </h4><dl><a name="925615"> </a><p></p><dt>Set the time out value in seconds for auto-power-off. Zero means never power off.</dl><a name="925616"> </a><h4>Prototype </h4><dl><a name="925618"> </a><dt><code>UInt16 SysSetAutoOffTime (UInt16&nbsp;seconds)</code></dl></dl><dl><a name="925619"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925620"> </a><CODE><code>seconds</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Time out in seconds, or 0 for no time out.<br></TD></TR></TABLE></dl><dl><a name="925621"> </a><h4>Result </h4><dl><a name="925622"> </a><p></p><dt>Returns previous value of time out in seconds.</dl></dl></dl><a name="925624"> </a><br> <br> <br><h3> SysSetTrapAddress</h3><dl><dl><a name="925625"> </a><h4>Purpose </h4><dl><a name="925626"> </a><p></p><dt>Set the address of the function corresponding to a system trap. </dl><a name="925627"> </a><h4>Prototype </h4><dl><a name="925628"> </a><dt><code>Err SysSetTrapAddress (UInt16&nbsp;trapNum, void*&nbsp;procP)</code></dl></dl><dl><a name="925629"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925630"> </a><CODE>-&gt; <code>trapNum</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>One of the routine selectors defined in <code>SysTraps.h</code> (<code>sysTrap...</code>) or <code>CoreTraps.h</code> on Palm OS version 3.5 and higher.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925633"> </a><CODE>-&gt; <code>procP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to a function that the trap identified by <code>trapNum</code> is to point to. <br></TD></TR></TABLE></dl><dl><a name="925634"> </a><h4>Result </h4><dl><a name="925635"> </a><p></p><dt>Returns 0 if no error, or <code>SysErrParamErr </code>if <code>trapNum</code> is greater than the number of traps in the trap table.</dl></dl><dl><a name="925636"> </a><h4>Comments </h4><dl><a name="925637"> </a><p></p><dt>This function is useful for patching a system trap, in combination with <code><a href="SystemManager.html#925308"></code>SysGetTrapAddress<code></a></code>. To patch a system trap in your application, first call <code>SysGetTrapAddress</code> to get the trap address and then save this value somewhere. Next use <code>SysSetTrapAddress</code> to set the trap address to point to your function. Before your application exits, remove the patch by calling <code>SysSetTrapAddress</code> and passing in the original trap address you saved.<a name="925641"> </a><blockquote><hr><em><strong>WARNING!</strong></em><p></p>If your application patches a system trap using this function, you <strong>must</strong> remove the patch before your application exits. Do <strong>not</strong> use this mechanism to permanently patch system traps as it may cause unpredictable results for the system and other applications.<hr><br></blockquote></dl></dl></dl><a name="925643"> </a><br> <br> <br><h3> SysStringByIndex</h3><dl><dl><a name="925644"> </a><h4>Purpose </h4><dl><a name="925645"> </a><p></p><dt>Copy a string out of a string list resource by index. String list resources are of type 'tSTL' and contain a list of strings and a prefix string. <a name="925646"> </a><p></p><dt>ResEdit always displays the items in the list as starting at 1, not 0. Consider this when creating your string list.</dl><a name="925647"> </a><h4>Prototype </h4><dl><a name="925649"> </a><dt><code>Char* SysStringByIndex (UInt16&nbsp;resID, UInt16&nbsp;index, Char*&nbsp;strP, UInt16&nbsp;maxLen)</code></dl></dl><dl><a name="925650"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925651"> </a><CODE><code>resID</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Resource ID of the string list.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925652"> </a><CODE><code>index</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>String to get out of the list.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925653"> </a><CODE><code>strP</code> </CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to space to form the string.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925654"> </a><CODE><code>maxLen</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Size of <code>strP</code> buffer.<br></TD></TR></TABLE></dl><dl><a name="925655"> </a><h4>Result </h4><dl><a name="925656"> </a><p></p><dt>Returns a pointer to the copied string. The string returned from this call will be the prefix string appended with the designated index string. Indices are 0-based; index 0 is the first string in the resource. </dl></dl><dl><a name="925657"> </a><h4>Compatibility </h4><dl><a name="925661"> </a><p></p><dt>Implemented only if <a href="CompatibilityApdx.html#483165">2.0 New Feature Set</a> is present.</dl></dl></dl><a name="925663"> </a><br> <br> <br><h3> SysTaskDelay</h3><dl><dl><a name="925664"> </a><h4>Purpose </h4><dl><a name="925666"> </a><p></p><dt>Put the processor into doze mode for the specified number of ticks.</dl><a name="925667"> </a><h4>Prototype </h4><dl><a name="925669"> </a><dt><code>Err SysTaskDelay (Int32&nbsp;delay)</code></dl></dl><dl><a name="925670"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925671"> </a><CODE><code>delay</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Number of ticks to wait (see <code><a href="SystemManager.html#925683"></code>SysTicksPerSecond<code></a></code>)<br></TD></TR></TABLE></dl><dl><a name="925675"> </a><h4>Result </h4><dl><a name="925676"> </a><p></p><dt>Returns 0 if no error.</dl></dl><dl><a name="925677"> </a><h4>See Also </h4><dl><a name="925681"> </a><p></p><dt><code><a href="SystemEventManager.html#925143"></code>EvtGetEvent<code></a></code></dl></dl></dl><a name="925683"> </a><br> <br> <br><h3> SysTicksPerSecond</h3><dl><dl><a name="925684"> </a><h4>Purpose </h4><dl><a name="925685"> </a><p></p><dt>Return the number of ticks per second. This routine allows applications to be tolerant of changes to the ticks per second rate in the system. </dl><a name="925686"> </a><h4>Prototype </h4><dl><a name="925688"> </a><dt><code>UInt16 SysTicksPerSecond (void)</code></dl></dl><dl><a name="925689"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925690"> </a><CODE></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><br></TD></TR></TABLE></dl><dl><a name="925691"> </a><h4>Result </h4><dl><a name="925692"> </a><p></p><dt>Returns the number of ticks per second.</dl></dl><dl><a name="925693"> </a><h4>Compatibility </h4><dl><a name="925697"> </a><p></p><dt>Implemented only if <a href="CompatibilityApdx.html#483165">2.0 New Feature Set</a> is present.</dl></dl></dl><a name="925699"> </a><br> <br> <br><h3> SysUIAppSwitch</h3><dl><dl><a name="925700"> </a><h4>Purpose </h4><dl><a name="925701"> </a><p></p><dt>Try to make the current UI application quit and then launch the UI application specified by card number and database ID.</dl><a name="925702"> </a><h4>Prototype </h4><dl><a name="925704"> </a><dt><code>Err SysUIAppSwitch (UInt16&nbsp;cardNo, LocalID&nbsp;dbID, UInt16&nbsp;cmd, MemPtr&nbsp;cmdPBP)</code></dl></dl><dl><a name="925705"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925706"> </a><CODE><code>cardNo</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Card number for the new application; currently only card 0 is valid.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925707"> </a><CODE><code>dbID</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>ID of the new application.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925708"> </a><CODE><code>cmd</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Action code (launch code). <br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925709"> </a><CODE><code>cmdPBP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Action code (launch code) parameter block.<br></TD></TR></TABLE></dl><dl><a name="925710"> </a><h4>Result </h4><dl><a name="925711"> </a><p></p><dt>Returns 0 if no error.</dl></dl><dl><a name="925712"> </a><h4>Comments </h4><dl><a name="925713"> </a><p></p><dt>Do not use this function to open the system-supplied Application Launcher application. If another application has replaced the default launcher with one of its own, this function will open the custom launcher instead of the system-supplied one. To open the system-supplied launcher reliably, enqueue a <code>keyDownEvent</code> that contains a <code>launchChr</code>, as shown in the section <a href="UserInterface.html#926561">"Application Launcher"</a> of the user interface chapter in the <em>Palm OS Programmer's Companion</em>.<a name="925717"> </a><p></p><dt>If you are passing a parameter block (the <code>cmdPBP</code> parameter), you must set the owner of the parameter block chunk to the operating system. To do this, and for more information, see <code><a href="MemoryManager.html#925698"></code>MemPtrSetOwner<code></a></code>. If the parameter block structure contains references by pointer or handle to any other chunks, you also must set the owner of those chunks by using <code><a href="MemoryManager.html#955510"></code>MemHandleSetOwner<code></a></code> or <code>MemPtrSetOwner</code>.</dl><a name="933712"> </a><h4>See Also </h4><dl><a name="933719"> </a><p></p><dt><code><a href="SystemManager.html#924917"></code>SysAppLaunch<code></a></code>, <a href="AppStartupAndStop.html#924904">Chapter 3, "Application Startup and Stop."</a> in the <em>Palm OS Programmer's Companion</em>.<p><a name="928755"> </a> <strong></strong></p></dl></dl></dl><hr><br><center><B>Palm OS SDK Reference</B></center><br><TABLE WIDTH="100%">  <TR>    <TD WIDTH=10%>&nbsp</TD>    <TD WIDTH=20%><a href="SystemEventManager.html"><IMG SRC="images/prev.html" BORDER=0 ALT="Previous Page"></TD>    <TD WIDTH=20%><a href="ReferenceTOC.html"><IMG SRC="images/content.gif" BORDER=0 ALT="Table of Contents"></TD>    <TD WIDTH=20%><a href="ReferenceIX.html"><IMG SRC="images/index.gif" BORDER=0 ALT="Index"></TD>    <TD WIDTH=20%><a href="TextMgr.html"><IMG SRC="images/next.html" BORDER=0 ALT="Next Page"></TD>    <TD WIDTH=10%>&nbsp</TD>  </TR></TABLE><br><small><em>This is page 48 of 85 in this book</em></small><hr><br><address><a href="http://www.palmos.com/dev/">Palm Computing Platform Development Zone</a></address><i>Copyright &#169; 2000, Palm, Inc.   All rightsreserved.</i><!-- This file was created with Quadralay WebWorks Publisher 5.0.2 --><!-- --><!-- For more information on how this document, and how the rest of --><!-- this server was created, email devsupp@palm.com --><!-- --><!-- Last updated: 03/27/00 21:28:48 --></body>
<!-- Mirrored from users.fuw.edu.pl/~michalj/palmos/SystemManager.html by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 17 Feb 2015 19:10:02 GMT -->
</html>