<html>
<!-- Mirrored from users.fuw.edu.pl/~michalj/palmos/SystemEventManager.html by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 17 Feb 2015 19:10:02 GMT -->
<head><title>System Event Manager</title></head><body bgcolor="#ffffff"><TABLE WIDTH="100%">  <TR>    <TD WIDTH=25%><a href="StringManager.html"><IMG SRC="images/prev.html" BORDER=0 ALT="Previous Page"></TD>    <TD WIDTH=25%><a href="ReferenceTOC.html"><IMG SRC="images/content.gif" BORDER=0 ALT="Table of Contents"></TD>    <TD WIDTH=25%><a href="ReferenceIX.html"><IMG SRC="images/index.gif" BORDER=0 ALT="Index"></TD>    <TD WIDTH=25%><a href="SystemManager.html"><IMG SRC="images/next.html" BORDER=0 ALT="Next Page"></TD>  </TR></TABLE><br><center><B>Palm OS SDK Reference</B></center><hr><br><a name="924904"> </a><h1><IMG SRC="images/PCPplain.gif" ALT="Palm Logo" WIDTH="45" HEIGHT="44"> <a name="924903"> </a>45 System Event Manager</h1><dl><a name="924905"> </a><p></p><dt>This chapter describes functions available in the system event manager. The system event manager API is declared in the header files <code>Event.h</code> and <code>SysEvtMgr.h</code>. <a name="924908"> </a><p></p><dt>For more information on the system event manager, see the chapter <a href="EventLoop.html#924905">"Event Loop"</a> in the <em>Palm OS Programmer's Companion</em>. The reference for specific events sent by the system are documented in <a href="EventRef.html#924906">Palm OS Events</a>.</dl><a name="924915"> </a><h2> System Event Manager Data Structures</h2><dl><a name="924916"> </a><p></p><dt>The following system event manager data structures are documented elsewhere:<ul type="SQUARE"><a name="924920"> </a><br><li><a href="EventRef.html#925112">eventsEnum</a>fs<br><a name="924924"> </a><br><li><a href="EventRef.html#925156">EventType</a><br><a name="932384"> </a><br><li><a href="EventRef.html#934260">EventPtr</a><br></ul></dl><a name="924936"> </a><h2> System Event Manager Functions</h2><a name="924939"> </a><br> <br> <br><h3> EvtAddEventToQueue</h3><dl><dl><a name="924940"> </a><h4>Purpose </h4><dl><a name="924942"> </a><p></p><dt>Add an event to the event queue.</dl><a name="924943"> </a><h4>Prototype </h4><dl><a name="924944"> </a><dt><code>void EvtAddEventToQueue (const&nbsp;EventType&nbsp;*event)</code></dl></dl><dl><a name="924945"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="924946"> </a><CODE><code>event</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to the structure that contains the event.<br></TD></TR></TABLE></dl><dl><a name="924948"> </a><h4>Result </h4><dl><a name="924949"> </a><p></p><dt>Returns nothing.</dl></dl></dl><a name="924952"> </a><br> <br> <br><h3> EvtAddUniqueEventToQueue</h3><dl><dl><a name="924953"> </a><h4>Purpose </h4><dl><a name="924954"> </a><p></p><dt>Look for an event in the event queue of the same event type and ID (if specified). The routine replaces it with the new event, if found. <a name="924955"> </a><p></p><dt>If no existing event is found, the new event is added. <a name="924956"> </a><p></p><dt>If an existing event is found, the routine proceeds as follows:<ul type="SQUARE"><a name="924957"> </a><br><li>If <code>inPlace</code> is <code>true</code>, the existing event is replaced with the new event.<br><a name="924958"> </a><br><li>If <code>inPlace</code> is <code>false</code>, the existing event is removed and the new event will be added to the end.<br></ul></dl><a name="924959"> </a><h4>Prototype </h4><dl><a name="924960"> </a><dt><code>void EvtAddUniqueEventToQueue (const&nbsp;EventType&nbsp;*eventP, UInt32&nbsp;id, Boolean&nbsp;inPlace)</code></dl></dl><dl><a name="924961"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="924962"> </a><CODE><code>eventP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to the structure that contains the event<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="924963"> </a><CODE><code>id</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>ID of the event. 0 means match only on the type.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="924964"> </a><CODE><code>inPlace</CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT></code>If <code>true</code>, existing event are replaced. If <code>false</code>, existing event is deleted and new event added to end of queue.<br></TD></TR></TABLE></dl><dl><a name="924966"> </a><h4>Result </h4><dl><a name="924967"> </a><p></p><dt>Returns nothing.</dl></dl><dl><a name="924968"> </a><h4>Compatibility </h4><dl><a name="924972"> </a><p></p><dt>Implemented only if <a href="CompatibilityApdx.html#483165">2.0 New Feature Set</a> is present.</dl></dl></dl><a name="924975"> </a><br> <br> <br><h3> EvtCopyEvent</h3><dl><dl><a name="924976"> </a><h4>Purpose </h4><dl><a name="924977"> </a><p></p><dt>Copy an event.</dl><a name="924978"> </a><h4>Prototype </h4><dl><a name="924979"> </a><dt><code>void EvtCopyEvent (const&nbsp;EventType&nbsp;*source, EventType&nbsp;*dest)</code></dl></dl><dl><a name="924980"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="924981"> </a><CODE><code>source</CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT></code>Pointer to the structure containing the event to copy.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="924982"> </a><CODE><code>dest</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to the structure to copy the event to.<br></TD></TR></TABLE></dl><dl><a name="924983"> </a><h4>Result </h4><dl><a name="924984"> </a><p></p><dt>Returns nothing.</dl></dl></dl><a name="924987"> </a><br> <br> <br><h3> EvtDequeuePenPoint</h3><dl><dl><a name="924988"> </a><h4>Purpose </h4><dl><a name="924989"> </a><p></p><dt>Get the next pen point out of the pen queue. This function is called by recognizers. </dl><a name="924990"> </a><h4>Prototype </h4><dl><a name="924991"> </a><dt><code>Err EvtDequeuePenPoint (PointType*&nbsp;retP)</code></dl></dl><dl><a name="924992"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="924993"> </a><CODE><code>retP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Return point.<br></TD></TR></TABLE></dl><dl><a name="924994"> </a><h4>Result </h4><dl><a name="924995"> </a><p></p><dt>Always returns 0.</dl></dl><dl><a name="924996"> </a><h4>Comments </h4><dl><a name="924997"> </a><p></p><dt>Called by a recognizer that wishes to extract the points of a stroke. Returns the point (-1, -1) at the end of a stroke.<a name="924998"> </a><p></p><dt>Before calling this routine, you must call <a href="SystemEventManager.html#925004">EvtDequeuePenStrokeInfo</a>.</dl><a name="930224"> </a><h4>See Also </h4><dl><a name="930228"> </a><p></p><dt><code><a href="SystemEventManager.html#925004"></code>EvtDequeuePenStrokeInfo<code></a></code></dl></dl></dl><a name="925004"> </a><br> <br> <br><h3> EvtDequeuePenStrokeInfo</h3><dl><dl><a name="925005"> </a><h4>Purpose </h4><dl><a name="925006"> </a><p></p><dt>Initiate the extraction of a stroke from the pen queue. </dl><a name="925007"> </a><h4>Prototype </h4><dl><a name="925008"> </a><dt><code>Err EvtDequeuePenStrokeInfo (PointType*&nbsp;startPtP, PointType*&nbsp;endPtP)</code></dl></dl><dl><a name="925009"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925010"> </a><CODE><code>startPtP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Start point returned here.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925011"> </a><CODE><code>endPtP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>End point returned here.<br></TD></TR></TABLE></dl><dl><a name="925012"> </a><h4>Result </h4><dl><a name="925013"> </a><p></p><dt>Always returns 0.</dl></dl><dl><a name="925014"> </a><h4>Comments </h4><dl><a name="925015"> </a><p></p><dt>Called by the system function <code>EvtGetSysEvent</code> when a <code>penUp</code> event is being generated. This routine must be called before <a href="SystemEventManager.html#924987">EvtDequeuePenPoint</a> is called. <a name="925022"> </a><p></p><dt>Subsequent calls to <a href="SystemEventManager.html#924987">EvtDequeuePenPoint</a> return points at the starting point in the stroke and including the end point. After the end point is returned, the next call to <a href="SystemEventManager.html#924987">EvtDequeuePenPoint</a> returns the point -1, -1.</dl><a name="931701"> </a><h4>See Also </h4><dl><a name="931782"> </a><p></p><dt><a href="SystemEventManager.html#924987">EvtDequeuePenPoint</a></dl></dl></dl><a name="925028"> </a><br> <br> <br><h3> EvtEnableGraffiti</h3><dl><dl><a name="925029"> </a><h4>Purpose </h4><dl><a name="925030"> </a><p></p><dt>Set Graffiti<sup>&#174;</sup> enabled or disabled.</dl><a name="925031"> </a><h4>Prototype </h4><dl><a name="925032"> </a><dt><code>void EvtEnableGraffiti (Boolean&nbsp;enable)</code></dl></dl><dl><a name="925033"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925034"> </a><CODE><code>enable</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><code>true</code> to enable Graffiti, <code>false</code> to disable Graffiti.<br></TD></TR></TABLE></dl><dl><a name="925035"> </a><h4>Result </h4><dl><a name="925036"> </a><p></p><dt>Returns nothing.</dl></dl></dl><a name="925039"> </a><br> <br> <br><h3> EvtEnqueueKey</h3><dl><dl><a name="925040"> </a><h4>Purpose </h4><dl><a name="925041"> </a><p></p><dt>Place keys into the key queue. </dl><a name="925042"> </a><h4>Prototype </h4><dl><a name="925043"> </a><dt><code>Err EvtEnqueueKey (WChar&nbsp;ascii, UInt16&nbsp;keycode, UInt16&nbsp;modifiers)</code></dl></dl><dl><a name="925044"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925045"> </a><CODE><code>ascii</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>ASCII code of key.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925046"> </a><CODE><code>keycode</CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT></code>Virtual key code of key.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925047"> </a><CODE><code>modifiers</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Modifiers for key event.<br></TD></TR></TABLE></dl><dl><a name="925048"> </a><h4>Result </h4><dl><a name="925049"> </a><p></p><dt>Returns 0 if successful, or <code>evtErrParamErr</code> if an error occurs.</dl></dl><dl><a name="925050"> </a><h4>Comments </h4><dl><a name="925051"> </a><p></p><dt>Called by the keyboard interrupt routine and the Graffiti and soft key recognizers. Note that because both interrupt- and noninterrupt-level code can post keys into the queue, this routine disables interrupts while the queue header is being modified.<a name="925052"> </a><p></p><dt>Most keys in the queue take only 1 byte if they have no modifiers and no virtual key code, and are 8-bit ASCII. If a key event in the queue has modifiers or is a non-standard ASCII code, it takes up to 7 bytes of storage and has the following format:<p><a name="925071"> </a> </p><p><div> <table border="3"><caption><B></B></caption><tr><td><a name="925056"> </a>evtKeyStringEscape</td><td><a name="925058"> </a>1 byte</td></tr><tr><td><a name="925060"> </a>ASCII code</td><td><a name="925062"> </a>2 bytes</td></tr><tr><td><a name="925064"> </a>virtual key code</td><td><a name="925066"> </a>2 bytes</td></tr><tr><td><a name="925068"> </a>modifiers</td><td><a name="925070"> </a>2 bytes</td></tr></table><table><tr><td></table></div></p></dl></dl></dl><a name="925074"> </a><br> <br> <br><h3> EvtEventAvail</h3><dl><dl><a name="925075"> </a><h4>Purpose </h4><dl><a name="925076"> </a><p></p><dt>Return <code>true</code> if an event is available.</dl><a name="925077"> </a><h4>Prototype </h4><dl><a name="925078"> </a><dt><code>Boolean EvtEventAvail (void)</code></dl></dl><dl><a name="925079"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925080"> </a><CODE></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><br></TD></TR></TABLE></dl><dl><a name="925082"> </a><h4>Result </h4><dl><a name="925083"> </a><p></p><dt>Returns <code>true</code> if an event is available, <code>false</code> otherwise. </dl></dl><dl><a name="925084"> </a><h4>Compatibility </h4><dl><a name="925088"> </a><p></p><dt>Implemented only if <a href="CompatibilityApdx.html#483165">2.0 New Feature Set</a> is present.</dl></dl></dl><a name="925091"> </a><br> <br> <br><h3> EvtFlushKeyQueue</h3><dl><dl><a name="925092"> </a><h4>Purpose </h4><dl><a name="925093"> </a><p></p><dt>Flush all keys out of the key queue.</dl><a name="925094"> </a><h4>Prototype </h4><dl><a name="925095"> </a><dt><code>Err EvtFlushKeyQueue (void)</code></dl></dl><dl><a name="925096"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925097"> </a><CODE></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><br></TD></TR></TABLE></dl><dl><a name="925098"> </a><h4>Result </h4><dl><a name="925099"> </a><p></p><dt>Always returns 0.</dl></dl><dl><a name="925100"> </a><h4>Comments </h4><dl><a name="925101"> </a><p></p><dt>Called by the system function <code>EvtSetPenQueuePtr</code>. </dl></dl></dl><a name="925104"> </a><br> <br> <br><h3> EvtFlushNextPenStroke</h3><dl><dl><a name="925105"> </a><h4>Purpose </h4><dl><a name="925106"> </a><p></p><dt>Flush the next stroke out of the pen queue. </dl><a name="925107"> </a><h4>Prototype </h4><dl><a name="925108"> </a><dt><code>Err EvtFlushNextPenStroke (void)</code></dl></dl><dl><a name="925109"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925110"> </a><CODE></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><br></TD></TR></TABLE></dl><dl><a name="925111"> </a><h4>Result </h4><dl><a name="925112"> </a><p></p><dt>Always returns 0.</dl></dl><dl><a name="925113"> </a><h4>Comments </h4><dl><a name="925114"> </a><p></p><dt>Called by recognizers that need only the start and end points of a stroke. If a stroke has already been partially dequeued (by <code><a href="SystemEventManager.html#925004"></code>EvtDequeuePenStrokeInfo<code></a></code>) this routine finishes the stroke dequeueing. Otherwise, this routine flushes the next stroke in the queue.</dl><a name="925118"> </a><h4>See Also </h4><dl><a name="925122"> </a><p></p><dt><code><a href="SystemEventManager.html#924987"></code>EvtDequeuePenPoint<code></a> </code></dl></dl></dl><a name="925125"> </a><br> <br> <br><h3> EvtFlushPenQueue</h3><dl><dl><a name="925126"> </a><h4>Purpose </h4><dl><a name="925128"> </a><p></p><dt>Flush all points out of the pen queue.</dl><a name="925129"> </a><h4>Prototype </h4><dl><a name="925130"> </a><dt><code>Err EvtFlushPenQueue (void)</code></dl></dl><dl><a name="925131"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925132"> </a><CODE></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><br></TD></TR></TABLE></dl><dl><a name="925133"> </a><h4>Result </h4><dl><a name="925134"> </a><p></p><dt>Always returns 0.</dl></dl><dl><a name="925135"> </a><h4>Comments </h4><dl><a name="925136"> </a><p></p><dt>Called by the system function <code>EvtSetKeyQueuePtr</code>.</dl><a name="925137"> </a><h4>See Also </h4><dl><a name="925141"> </a><p></p><dt><code><a href="SystemEventManager.html#925224"></code>EvtPenQueueSize<code></a> </code></dl></dl></dl><a name="925143"> </a><br> <br> <br><h3> EvtGetEvent</h3><dl><dl><a name="925144"> </a><h4>Purpose </h4><dl><a name="925145"> </a><p></p><dt>Return the next available event.</dl><a name="925146"> </a><h4>Prototype </h4><dl><a name="925147"> </a><dt><code>void EvtGetEvent (EventType&nbsp;*event, Int32&nbsp;timeout)</code></dl></dl><dl><a name="925148"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925149"> </a><CODE><code>event</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to the structure to hold the event returned.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925150"> </a><CODE><code>timeout</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Maximum number of ticks to wait before an event is returned (-1 means wait indefinitely).<br></TD></TR></TABLE></dl><dl><a name="925151"> </a><h4>Comments </h4><dl><a name="925152"> </a><p></p><dt>Pass <code>timeout</code>= -1 in most instances. When running on the device, this makes the CPU go into doze mode until the user provides input. For applications that do animation, pass <code>timeout</code> &gt;= 0.</dl></dl><dl><a name="925153"> </a><h4>Result </h4><dl><a name="925154"> </a><p></p><dt>Returns nothing.</dl></dl></dl><a name="925157"> </a><br> <br> <br><h3> EvtGetPen</h3><dl><dl><a name="925158"> </a><h4>Purpose </h4><dl><a name="925160"> </a><p></p><dt>Return the current status of the pen.</dl><a name="925161"> </a><h4>Prototype </h4><dl><a name="925162"> </a><dt><code>void EvtGetPen (Int16&nbsp;*pScreenX, Int16&nbsp;*pScreenY, Boolean&nbsp;*pPenDown)</code></dl></dl><dl><a name="925163"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925164"> </a><CODE><code>pScreenX</CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT></code>x location relative to display.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925165"> </a><CODE><code>pScreenY</CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT></code>y location relative to display.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925166"> </a><CODE><code>pPenDown</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><code>true</code> or <code>false</code>.<br></TD></TR></TABLE></dl><dl><a name="925167"> </a><h4>Result </h4><dl><a name="925168"> </a><p></p><dt>Returns nothing.</dl></dl><dl><a name="925169"> </a><h4>Comments </h4><dl><a name="925170"> </a><p></p><dt>Called by various UI routines.</dl><a name="925171"> </a><h4>See Also </h4><dl><a name="925175"> </a><p></p><dt><code><a href="KeyManager.html#924914"></code>KeyCurrentState<code></a></code> </dl></dl></dl><a name="925178"> </a><br> <br> <br><h3> EvtGetPenBtnList</h3><dl><dl><a name="925179"> </a><h4>Purpose </h4><dl><a name="925181"> </a><p></p><dt>Return a pointer to the silk-screen button array. </dl><a name="925182"> </a><h4>Prototype </h4><dl><a name="925183"> </a><dt><code>const PenBtnInfoType* EvtGetPenBtnList (UInt16*&nbsp;numButtons) </code></dl></dl><dl><a name="925184"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925185"> </a><CODE><code>numButtons</CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT></code>Pointer to the variable to contain the number of buttons in the array.<br></TD></TR></TABLE></dl><dl><a name="925186"> </a><h4>Result </h4><dl><a name="925187"> </a><p></p><dt>Returns a pointer to the array.</dl></dl><dl><a name="925188"> </a><h4>Comments </h4><dl><a name="925189"> </a><p></p><dt>The array returned contains the bounds of each silk-screened button and the ASCII code and modifiers byte to generate for each button.</dl><a name="925190"> </a><h4>See Also </h4><dl><a name="925194"> </a><p></p><dt><code><a href="SystemEventManager.html#925238"></code>EvtProcessSoftKeyStroke<code></a></code></dl></dl></dl><a name="930119"> </a><br> <br> <br><h3> EvtGetSilkscreenAreaList</h3><dl><dl><a name="930120"> </a><h4>Purpose </h4><dl><a name="930121"> </a><p></p><dt>Returns a pointer to the silk screen area array. This array contains the bounds of each silk screen area.</dl><a name="930122"> </a><h4>Prototype </h4><dl><a name="930123"> </a><dt><code>*const SilkscreenAreaType* EvtGetSilkscreenAreaList(UInt16* numAreas)</code></dl></dl><dl><a name="930124"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="930125"> </a><CODE><code>numAreas</code> </CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>pointer to area count variable<br></TD></TR></TABLE></dl><dl><a name="930126"> </a><h4>Result </h4><dl><a name="930127"> </a><p></p><dt>returns a pointer to the array and the number of elements in the array.</dl></dl></dl><a name="930128"> </a><br> <br> <br><h3> EvtKeydownIsVirtual</h3><dl><dl><a name="930129"> </a><h4>Purpose </h4><dl><a name="930130"> </a><p></p><dt>Macro that indicates if <code>eventP</code> is a pointer to a virtual character key down event.</dl><a name="930131"> </a><h4>Prototype </h4><dl><a name="930132"> </a><dt><code>#define	 EvtKeydownIsVirtual(eventP)<br>(((eventP)-&gt;data.keyDown.modifiers &amp; virtualKeyMask) != 0)</code></dl></dl><dl><a name="930133"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="930134"> </a><CODE><code>eventP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>pointer to the structure that contains the event.<br></TD></TR></TABLE></dl><dl><a name="930135"> </a><h4>Result </h4><dl><a name="930136"> </a><p></p><dt>Returns <code>true</code> if the character is a letter in an alphabet or a numeric digit, <code>false</code> otherwise.</dl></dl><dl><a name="930137"> </a><h4>Comments </h4><dl><a name="930138"> </a><p></p><dt>The macro assumes that the caller has already determined the event is a key down. With earlier versions of the OS, use <code><a href="PalmOSGlueLib.html#925303"></code>TxtGlueCharIsVirtual<code></a></code> in the <a href="PalmOSGlueLib.html#924904">PalmOSGlue Library</a>.</dl><a name="930145"> </a><h4>Compatibility </h4><dl><a name="930146"> </a><p></p><dt>Implemented in the Palm OS<sup>&#174;</sup> 3.5 SDK, but will work on older devices (at least on 3.0, perhaps on 2.0 and 1.0.) </dl><a name="930147"> </a><h4>See Also </h4><dl><a name="930151"> </a><p></p><dt><code><a href="PalmOSGlueLib.html#925303"></code>TxtGlueCharIsVirtual<code></a></code></dl></dl></dl><a name="925197"> </a><br> <br> <br><h3> EvtKeyQueueEmpty</h3><dl><dl><a name="925198"> </a><h4>Purpose </h4><dl><a name="925199"> </a><p></p><dt>Return <code>true</code> if the key queue is currently empty.</dl><a name="925200"> </a><h4>Prototype </h4><dl><a name="925201"> </a><dt><code>Boolean EvtKeyQueueEmpty (void)</code></dl></dl><dl><a name="925202"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925203"> </a><CODE></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><br></TD></TR></TABLE></dl><dl><a name="925204"> </a><h4>Result </h4><dl><a name="925205"> </a><p></p><dt>Returns <code>true</code> if the key queue is currently empty, otherwise returns <code>false</code>.</dl></dl><dl><a name="925206"> </a><h4>Comments </h4><dl><a name="925207"> </a><p></p><dt>Usually called by the key manager to determine if it should enqueue auto-repeat keys.</dl></dl></dl><a name="925210"> </a><br> <br> <br><h3> EvtKeyQueueSize</h3><dl><dl><a name="925211"> </a><h4>Purpose </h4><dl><a name="925213"> </a><p></p><dt>Return the size of the current key queue in bytes.</dl><a name="925214"> </a><h4>Prototype </h4><dl><a name="925215"> </a><dt><code>UInt32 EvtKeyQueueSize (void)</code></dl></dl><dl><a name="925216"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925217"> </a><CODE></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><br></TD></TR></TABLE></dl><dl><a name="925218"> </a><h4>Result </h4><dl><a name="925219"> </a><p></p><dt>Returns size of queue in bytes.</dl></dl><dl><a name="925220"> </a><h4>Comments </h4><dl><a name="925221"> </a><p></p><dt>Called by applications that wish to see how large the current key queue is.</dl></dl></dl><a name="925224"> </a><br> <br> <br><h3> EvtPenQueueSize</h3><dl><dl><a name="925225"> </a><h4>Purpose </h4><dl><a name="925227"> </a><p></p><dt>Return the size of the current pen queue in bytes.</dl><a name="925228"> </a><h4>Prototype </h4><dl><a name="925229"> </a><dt><code>UInt32 EvtPenQueueSize (void)</code></dl></dl><dl><a name="925230"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925231"> </a><CODE></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><br></TD></TR></TABLE></dl><dl><a name="925232"> </a><h4>Result </h4><dl><a name="925233"> </a><p></p><dt>Returns size of queue in bytes.</dl></dl><dl><a name="925234"> </a><h4>Comments </h4><dl><a name="925235"> </a><p></p><dt>Call this function to see how large the current pen queue is.</dl></dl></dl><a name="925238"> </a><br> <br> <br><h3> EvtProcessSoftKeyStroke</h3><dl><dl><a name="925239"> </a><h4>Purpose </h4><dl><a name="925241"> </a><p></p><dt>Translate a stroke in the system area of the digitizer and enqueue the appropriate key events in to the key queue.</dl><a name="925242"> </a><h4>Prototype </h4><dl><a name="925243"> </a><dt><code>Err EvtProcessSoftKeyStroke(PointType*&nbsp;startPtP, PointType*&nbsp;endPtP)</code></dl></dl><dl><a name="925244"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925245"> </a><CODE><code>startPtP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Start point of stroke.<br></TD></TR></TABLE><dl><a name="925246"> </a><p></p><dt><code>endPtP	 	 </code>	 End point of stroke.</dl></dl><dl><a name="925247"> </a><h4>Result </h4><dl><a name="925248"> </a><p></p><dt>Returns 0 if recognized, -1 if not recognized.</dl></dl><dl><a name="925249"> </a><h4>See Also </h4><dl><a name="925256"> </a><p></p><dt><code><a href="SystemEventManager.html#925178"></code>EvtGetPenBtnList<code></a></code>, <code><a href="GraffitiManager.html#925236"></code>GrfProcessStroke<code></a></code> </dl></dl></dl><a name="925260"> </a><br> <br> <br><h3> EvtResetAutoOffTimer</h3><dl><dl><a name="925261"> </a><h4>Purpose </h4><dl><a name="925262"> </a><p></p><dt>Reset the auto-off timer to assure that the device doesn't automatically power off during a long operation without user input (for example, serial port activity).</dl><a name="925263"> </a><h4>Prototype </h4><dl><a name="925264"> </a><dt><code>Err EvtResetAutoOffTimer (void)</code></dl></dl><dl><a name="925265"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925266"> </a><CODE></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><br></TD></TR></TABLE></dl><dl><a name="925267"> </a><h4>Result </h4><dl><a name="925268"> </a><p></p><dt>Always returns 0.</dl></dl><dl><a name="925269"> </a><h4>Comments </h4><dl><a name="925270"> </a><p></p><dt>Called by the serial link manager; can be called periodically by other managers. <code>EvtResetAutoOffTimer </code>just resets the timer, while <code>EvtSetAutoOffTimer </code>allows you to specify a time.</dl><a name="930096"> </a><h4>See Also </h4><dl><a name="930103"> </a><p></p><dt><code><a href="SystemManager.html#925613"></code>SysSetAutoOffTime<code></a> <a href="SystemEventManager.html#930105"></code>EvtSetAutoOffTimer<code></a></code></dl></dl></dl><a name="930105"> </a><br> <br> <br><h3> EvtSetAutoOffTimer</h3><dl><dl><a name="930106"> </a><h4>Purpose </h4><dl><a name="930107"> </a><p></p><dt><code>EvtSetAutoOffTimer</code><strong> </strong>can be called periodically by other managers to reset the auto-off timer. </dl><a name="933243"> </a><h4>Prototype </h4><dl><a name="930031"> </a><dt><code>Err EvtSetAutoOffTimer(EvtSetAutoOffCmd cmd, UInt16 timeoutSecs)</code></dl></dl><dl><a name="930032"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="930033"> </a><CODE><code>cmd</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>One of the defined commands.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="930034"> </a><CODE><code>timeout</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>A new timeout in seconds, ignored for the 'reset' command.<br></TD></TR></TABLE></dl><dl><a name="930035"> </a><h4>Result </h4><dl><a name="930036"> </a><p></p><dt>Returns 0 if no error.</dl></dl><dl><a name="933140"> </a><h4>Comments </h4><dl><a name="933284"> </a><p></p><dt>This assures that the device doesn't automatically power off during a long operation that doesn't have user input (like a lot of serial port activity, for example). It is also used to manage the auto-off timer in general.<dl><a name="933268"> </a><p></p><dt>These commands are currently defined:<TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="933347"> </a><CODE>SetAtLeast</CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Turn off in at least xxx seconds<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="933911"> </a><CODE>SetExactly:</CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Set the timer to turn off in xxx seconds<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="933348"> </a><CODE>SetAtMost:</CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Set the device to turn off in &lt;= xxx seconds<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="933349"> </a><CODE>SetDefault:</CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Change default auto-off timeout to xxx seconds<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="933350"> </a><CODE>ResetTimer:</CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Reset the auto off timer.<br></TD></TR></TABLE><a name="936304"> </a><blockquote><hr><strong>NOTE: &nbsp</strong><p></p>This functionality is only available in Palm OS 3.5 and later.<hr><br></blockquote></dl></dl><a name="930037"> </a><h4>See Also </h4><dl><a name="930044"> </a><p></p><dt><code><a href="SystemEventManager.html#925260"></code>EvtResetAutoOffTimer<code></a></code> <code><a href="SystemManager.html#925613"></code>SysSetAutoOffTime<code></a></code></dl></dl></dl><a name="930045"> </a><br> <br> <br><h3> EvtSetNullEventTick</h3><dl><dl><a name="930046"> </a><h4>Purpose </h4><dl><a name="930047"> </a><p></p><dt>Set the tick when a null event is due, unless one is due sooner.</dl><a name="930048"> </a><h4>Prototype </h4><dl><a name="930049"> </a><dt><code>Boolean EvtSetNullEventTick(UInt32 tick)</code></dl></dl><dl><a name="933932"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="933933"> </a><CODE><code>tick</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>the tick when a null event should occur.<br></TD></TR></TABLE></dl><dl><a name="933934"> </a><h4>Result </h4><dl><a name="930053"> </a><p></p><dt>Returns true if null tick count setting changed.</dl></dl></dl><a name="932680"> </a><br> <br> <br><h3> EvtSysEventAvail</h3><dl><dl><a name="925279"> </a><h4>Purpose </h4><dl><a name="925281"> </a><p></p><dt>Return <code>true</code> if a low-level system event (such as a pen or key event) is available.</dl><a name="925282"> </a><h4>Prototype </h4><dl><a name="925283"> </a><dt><code>Boolean EvtSysEventAvail (Boolean&nbsp;ignorePenUps)</code></dl></dl><dl><a name="925284"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925285"> </a><CODE><code>ignorePenUps</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>If <code>true</code>, this routine ignores pen-up events when determining if there are any system events available.<br></TD></TR></TABLE></dl><dl><a name="925286"> </a><h4>Result </h4><dl><a name="925287"> </a><p></p><dt>Returns <code>true</code> if a system event is available.</dl></dl><dl><a name="925288"> </a><h4> Comment</h4><dl><a name="925292"> </a><p></p><dt>Call <a href="SystemEventManager.html#925074">EvtEventAvail</a> to determine whether high-level software events are available.</dl><a name="925293"> </a><h4>Compatibility </h4><dl><a name="925297"> </a><p></p><dt>Implemented only if <a href="CompatibilityApdx.html#483165">2.0 New Feature Set</a> is present.</dl></dl></dl><a name="925299"> </a><br> <br> <br><h3> EvtWakeup</h3><dl><dl><a name="925300"> </a><h4>Purpose </h4><dl><a name="925305"> </a><p></p><dt>Force the event manager to wake up and send a <code><a href="EventRef.html#926050"></code>nilEvent<code></a></code> to the current application. </dl><a name="925306"> </a><h4>Prototype </h4><dl><a name="925308"> </a><dt><code>Err EvtWakeup (void)</code></dl></dl><dl><a name="925309"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925310"> </a><CODE></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><br></TD></TR></TABLE></dl><dl><a name="925311"> </a><h4>Result </h4><dl><a name="925312"> </a><p></p><dt>Always returns 0.</dl></dl><dl><a name="925313"> </a><h4>Comments </h4><dl><a name="925314"> </a><p></p><dt>Called by interrupt routines, like the sound manager and alarm manager.<a name="932288"> </a><p></p><dt><strong></strong></dl></dl></dl><hr><br><center><B>Palm OS SDK Reference</B></center><br><TABLE WIDTH="100%">  <TR>    <TD WIDTH=10%>&nbsp</TD>    <TD WIDTH=20%><a href="StringManager.html"><IMG SRC="images/prev.html" BORDER=0 ALT="Previous Page"></TD>    <TD WIDTH=20%><a href="ReferenceTOC.html"><IMG SRC="images/content.gif" BORDER=0 ALT="Table of Contents"></TD>    <TD WIDTH=20%><a href="ReferenceIX.html"><IMG SRC="images/index.gif" BORDER=0 ALT="Index"></TD>    <TD WIDTH=20%><a href="SystemManager.html"><IMG SRC="images/next.html" BORDER=0 ALT="Next Page"></TD>    <TD WIDTH=10%>&nbsp</TD>  </TR></TABLE><br><small><em>This is page 47 of 85 in this book</em></small><hr><br><address><a href="http://www.palmos.com/dev/">Palm Computing Platform Development Zone</a></address><i>Copyright &#169; 2000, Palm, Inc.   All rightsreserved.</i><!-- This file was created with Quadralay WebWorks Publisher 5.0.2 --><!-- --><!-- For more information on how this document, and how the rest of --><!-- this server was created, email devsupp@palm.com --><!-- --><!-- Last updated: 03/27/00 21:28:47 --></body>
<!-- Mirrored from users.fuw.edu.pl/~michalj/palmos/SystemEventManager.html by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 17 Feb 2015 19:10:02 GMT -->
</html>