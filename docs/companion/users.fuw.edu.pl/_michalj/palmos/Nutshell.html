<html>
<!-- Mirrored from users.fuw.edu.pl/~michalj/palmos/Nutshell.html by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 17 Feb 2015 19:10:02 GMT -->
<head><title>Programming Palm OS in a Nutshell</title></head><body bgcolor="#ffffff"><TABLE WIDTH="100%">  <TR>    <TD WIDTH=25%><a href="CompanionAbout.html"><IMG SRC="images/prev.html" BORDER=0 ALT="Previous Page"></TD>    <TD WIDTH=25%><a href="CompanionTOC.html"><IMG SRC="images/content.gif" BORDER=0 ALT="Table of Contents"></TD>    <TD WIDTH=25%><a href="CompanionIX.html"><IMG SRC="images/index.gif" BORDER=0 ALT="Index"></TD>    <TD WIDTH=25%><a href="Design.html"><IMG SRC="images/next.html" BORDER=0 ALT="Next Page"></TD>  </TR></TABLE><br><center><B>Palm OS Programmer's Companion</B></center><hr><br><a name="924905"> </a><h1><IMG SRC="images/PCPplain.gif" ALT="Palm Logo" WIDTH="45" HEIGHT="44"> <a name="924903"> </a>1 Programming Palm OS in a Nutshell</h1><dl><a name="924906"> </a><p></p><dt>This chapter is the place to start if you're new to Palm programming. It summarizes what's unique about writing applications for Palm Computing<sup>&#174;</sup> platform devices and tells you where to go for more in-depth information. It covers:<ul type="SQUARE"><a name="924913"> </a><br><li><a href="Nutshell.html#924928"></a><a href="Nutshell.html#924928">Why Programming for Palm OS Is Different</a><br><a name="924917"> </a><br><li><a href="Nutshell.html#924985">Palm OS Programming Concepts</a><br><a name="924921"> </a><br><li><a href="Nutshell.html#925024">Programming Tools</a><br><a name="924925"> </a><br><li><a href="Nutshell.html#925036">Where to Go From Here</a><br></ul><a name="924926"> </a><p></p><dt>Read this chapter for a high-level introduction to Palm programming. The rest of this book provides the details.</dl><a name="924928"> </a><h2> Why Programming for Palm OS Is Different</h2><dl><a name="924929"> </a><p></p><dt>Like most programmers, you have probably written a desktop application--an application that is run on a desktop computer such as a PC or a Macintosh computer. Writing applications for handhelds, specifically Palm Computing platform devices, is a bit different from writing desktop applications because the Palm Computing platform device is designed differently than a desktop computer. Also, users simply interact with the device differently than they do desktop computers. <a name="924930"> </a><p></p><dt>This section describes how these differences affect the design of a Palm OS<sup>&#174;</sup> application. </dl><a name="924932"> </a><h3> Screen Size</h3><dl><a name="924933"> </a><p></p><dt>The Palm OS device's screen is only 160x160 pixels, so the amount of information you can display at one time is limited. <a name="924934"> </a><p></p><dt>For this reason, you must design your user interface carefully with different priorities and goals than are used for large screens. Strive for a balance between providing enough information and overcrowding the screen. See the section <a href="Design.html#925197">"User Interface Guidelines"</a> in the chapter <a href="Design.html#924905">"Good Design Practices"</a> for more detailed guidelines on designing the user interface. <a name="924941"> </a><p></p><dt>Note that screen sizes of future Palm OS devices may vary. </dl><a name="924942"> </a><h3> Quick Turnaround Expected</h3><dl><a name="924943"> </a><p></p><dt>On a PC, users don't mind waiting a few seconds while an application loads because they plan to use the application for an extended amount of time. <a name="924944"> </a><p></p><dt>By contrast, the average Palm user uses a Palm application 15 to 20 times per day for much briefer periods of time, usually just a few seconds. Speed is therefore a critical design objective for hand-held organizers and is not limited to execution speed of the code. The total time needed to navigate, select, and execute commands can have a big impact on overall efficiency. (Also consider that the Palm OS does not provide a wait cursor.)<a name="924947"> </a><p></p><dt>To maximize performance, the user interface should minimize navigation between windows, opening of dialog boxes, and so on. The layout of application screens needs to be simple so that the user can pick up the product and use it effectively after a short time. It's especially helpful if the user interface of your application is consistent with other applications on the device so users work with familiar patterns. <a name="924948"> </a><p></p><dt>The Palm OS development team has put together a set of design guidelines that were used as the basis for the applications resident on the device (MemoPad, Address Book, etc.). These guidelines are summarized in the chapter <a href="Design.html#924905">"Good Design Practices"</a> in this book. </dl><a name="924953"> </a><h3> PC Connectivity</h3><dl><a name="924955"> </a><p></p><dt>PC connectivity is an integral component of the Palm Computing platform device. The device comes with a cradle that connects to a desktop PC and with software for the PC that provides "one-button" backup and synchronization of all data on the device with the user's PC. <a name="924956"> </a><p></p><dt>Many Palm OS applications have a corresponding application on the desktop. To share data between the device's application and the desktop's application, you must write a <strong>conduit</strong>. A conduit is a plug-in to the HotSync<sup>&#174;</sup> technology that runs when you press the HotSync button. A conduit synchronizes data between the application on the desktop and the application on the hand-held device. To write a conduit, you use the Conduit SDK, which provides its own documentation. </dl><a name="924959"> </a><h3> Input Methods</h3><dl><a name="924960"> </a><p></p><dt>Handheld users don't have a keyboard or mouse. Users enter data into the device using a pen. They can either write Graffiti<sup>&#174;</sup> strokes or use the keyboard dialog provided on the device. <a name="924961"> </a><p></p><dt>While Graffiti strokes and the keyboard dialog are useful ways of entering data, they are not as convenient as using the full-sized desktop computer with its keyboard and mouse. Therefore, you should not require users to enter a lot of data on the device itself. </dl><a name="924963"> </a><h3> Power</h3><dl><a name="924964"> </a><p></p><dt>The Palm Computing platform device runs on batteries and thus does not have the same processing power as a desktop PC. It is intended as a satellite viewer for corresponding desktop applications. <a name="924965"> </a><p></p><dt>If your application needs to perform a computationally intensive task, you should implement that task in the desktop application instead of the device application. </dl><a name="924966"> </a><h3> Memory</h3><dl><a name="924967"> </a><p></p><dt>The Palm OS device has limited heap space and storage space. Different versions of the device have between 512K and 8MB total of dynamic memory and storage available. The device does not have a disk drive or PCMCIA support.<a name="924969"> </a><p></p><dt>Because of the limited space and power, optimization is critical. To make your application as fast and efficient as possible, optimize for heap space first, speed second, code size third.</dl><a name="924970"> </a><h3> File System</h3><dl><a name="924971"> </a><p></p><dt>Because of the limited storage space, and to make synchronization with the desktop computer more efficient, Palm OS does not use a traditional file system. You store data in memory chunks called <strong>records</strong>, which are grouped into <strong>databases</strong>. A database is analogous to a file. The difference is that data is broken down into multiple records instead of being stored in one contiguous chunk. To save space, you edit a database in place in memory instead of creating it in RAM and then writing it out to storage. </dl><a name="924976"> </a><h3> Backward Compatibility</h3><dl><a name="924977"> </a><p></p><dt>Different versions of the Palm Computing platform device are available, and each runs a different version of the Palm OS. Users are not expected to upgrade their versions of the Palm OS as rapidly as they would an operating system on a desktop computer. Updates to the OS are designed in such a way that you can easily maintain backward compatibility with previous versions of the OS, and thus, your application is available to more users. See <a href="Design.html#925567">"Making Your Application Run on Different Devices"</a> in the chapter <a href="Design.html#924905">"Good Design Practices"</a> for details. </dl><a name="924985"> </a><h2> Palm OS Programming Concepts</h2><dl><a name="924988"> </a><p></p><dt>Palm OS applications are generally single-threaded, event-driven programs. Only one program runs at a time. To successfully build a Palm OS application, you have to understand how the system itself is structured and how to structure your application. <ul type="SQUARE"><a name="924990"> </a><br><li>Each application has a <code>PilotMain</code> function that is equivalent to <code>main</code> in C programs. To launch an application, the system calls <code>PilotMain</code> and sends it a <strong>launch code</strong>. The launch code may specify that the application is to become active and display its user interface (called a normal launch), or it may specify that the application should simply perform a small task and exit without displaying its user interface. <br><dl><a name="924991"> </a><p></p><dt>The sole purpose of the <code>PilotMain</code> function is to receive launch codes and respond to them. (See <a href="AppStartupAndStop.html#924904">Chapter 3, "Application Startup and Stop."</a>)</dl><a name="924995"> </a><br><li>Palm OS is an event-based operating system, so Palm OS applications contain an event loop; however, this event loop is only started in response to the normal launch. Your application may perform work outside the event loop in response to other launch codes. <a href="EventLoop.html#924903">Chapter 4, </a>"<a href="EventLoop.html#924905">Event Loop</a>," describes the main event loop.<br><a name="925002"> </a><br><li>Most Palm OS applications contain a user interface made up of <strong>forms</strong>, which are analogous to windows in a desktop application. The user interface may contain both predefined UI elements (sometimes referred to as <strong>UI objects</strong>), and custom UI elements. (See <a href="UserInterface.html#924904">Chapter 5, "User Interface."</a>)<br><a name="925008"> </a><br><li>All applications should use the memory and data management facilities provided by the system. (See <a href="Memory.html#924904">Chapter 6, "Memory."</a> and <a href="FilesAndDatabases.html#924904">Chapter 7, "Files and Databases."</a>)<br><a name="925015"> </a><br><li>You implement an application's features by calling Palm OS functions. Palm OS consists of several managers, which are groups of functions that work together to implement a feature. As a rule, all functions that belong to one manager use the same prefix and work together to implement a certain aspect of functionality. <br><dl><a name="925016"> </a><p></p><dt>Managers are available to, for example, generate sounds, send alarms, perform network communication, and beam information through an infrared port. A good way to find out the capabilities of the Palm OS is to scan the <a href="CompanionTOC.html#40789">Table of Contents</a> of this guide. <a name="925021"> </a><blockquote><br><hr><br><em><strong>IMPORTANT:  </strong></em>The ANSI C libraries are not part of the Palm development platform. In many cases, you can perform the same function using a Palm OS API call as you can with a call to a ANSI C function. For example, the Palm OS provides a string manager that performs many of the string functions you'd expect to be able to perform in an ANSI C program. If you do use a standard C function, the code for the function is linked into your application and results in a bigger executable.<br><hr><br></blockquote></dl></ul></dl><a name="925024"> </a><h2> Programming Tools</h2><dl><a name="925025"> </a><p></p><dt>Several tools are available that help you build, test, and debug Palm OS applications. The most widely used tool is the CodeWarrior Interactive Development Environment (IDE) from 3Com<sup>&#174;</sup> Corporation. Documentation for the CodeWarrior IDE is provided with CodeWarrior. (See <code>http://www.palm.com</code> for information about other development tools.)<a name="925027"> </a><p></p><dt>As with most applications, the user interface is generally stored in one or more resource files. You use the Palm OS Constructor to create these resources. To learn how, refer to the Constructor documentation. <a name="925029"> </a><p></p><dt>To debug and test your application, there are several tools available: <ul type="SQUARE"><a name="925030"> </a><br><li>The CodeWarrior Debugger handles source-level debugging. You can use it with an application running on the Palm OS device, or you can use it in conjunction with one of the other debugging tools below. <br><a name="925031"> </a><br><li>The Palm OS Emulator (POSE) tests your application on the desktop computer before downloading it onto the device. <br><a name="925032"> </a><br><li>On the Macintosh, you can build a Simulator version of your application to test it. This is a standalone Mac OS application that runs your Palm OS application on a Macintosh computer. <br><a name="925033"> </a><br><li>The Palm Debugger is an assembly-level tool. You can also use it to enter commands directly to the Palm device. <br></ul><a name="925034"> </a><p></p><dt>The book <em>Palm OS Programming Development Tools Guide</em> describes the Palm-provided debugging tools available on your development platform. For CodeWarrior Debugger documentation, refer to the CodeWarrior CD. </dl><a name="925036"> </a><h2> Where to Go From Here</h2><dl><a name="925037"> </a><p></p><dt>This chapter provided you only with a general outline of the issues involved in writing a Palm OS application. To learn the specifics, refer to the following resources: <ul type="SQUARE"><a name="925038"> </a><br><li>This book<br><dl><a name="925039"> </a><p></p><dt>The rest of this book provides details on how to implement common application features using the Palm OS SDK. If you're new to Palm OS programming, you need to read the next three chapters to learn the principles of Palm OS application and UI design, how to implement the main function, and how to implement the standard event loop. The remaining chapters you can read on an as-needed basis. </dl><a name="925040"> </a><br><li>Example applications<br><dl><a name="925041"> </a><p></p><dt>The actual source code for the applications on the Palm OS device is included as examples on your SDK CD. The code can be a valuable aid when you develop your own program. The software development kit provides a royalty-free license that permits you to use any or all of the source code from the examples in your application. </dl><a name="925044"> </a><br><li><em>Palm OS Programming Development Tools Guide</em><br><dl><a name="925045"> </a><p></p><dt>The <em>Palm OS Programming Development Tools Guide</em> provides more details on using the tools to debug programs. (You might also be interested in the <a href="DebuggingStrats.html#924904">"Debugging Strategies"</a> chapter in this book, which describes programmatic debugging solutions.) </dl><a name="925049"> </a><br><li><em>Palm OS SDK Reference</em> <br><dl><a name="925050"> </a><p></p><dt>The reference book provides the details on all of the public data structures and API calls. </dl><a name="925051"> </a><br><li>Conduit Development Kits and documentation<br><dl><a name="925052"> </a><p></p><dt>If you need to write a conduit for your application, see the documentation provided with the Conduit Development Kits. </dl></ul><a name="925053"> </a><p></p><dt><a name="925064"> </a><p></p><dt><strong></strong></dl><hr><br><center><B>Palm OS Programmer's Companion</B></center><br><TABLE WIDTH="100%">  <TR>    <TD WIDTH=10%>&nbsp</TD>    <TD WIDTH=20%><a href="CompanionAbout.html"><IMG SRC="images/prev.html" BORDER=0 ALT="Previous Page"></TD>    <TD WIDTH=20%><a href="CompanionTOC.html"><IMG SRC="images/content.gif" BORDER=0 ALT="Table of Contents"></TD>    <TD WIDTH=20%><a href="CompanionIX.html"><IMG SRC="images/index.gif" BORDER=0 ALT="Index"></TD>    <TD WIDTH=20%><a href="Design.html"><IMG SRC="images/next.html" BORDER=0 ALT="Next Page"></TD>    <TD WIDTH=10%>&nbsp</TD>  </TR></TABLE><br><small><em>This is page 70 of 85 in this book</em></small><hr><br><address><a href="http://www.palmos.com/dev/">Palm Computing Platform Development Zone</a></address><i>Copyright &#169; 2000, Palm, Inc.   All rightsreserved.</i><!-- This file was created with Quadralay WebWorks Publisher 5.0.2 --><!-- --><!-- For more information on how this document, and how the rest of --><!-- this server was created, email devsupp@palm.com --><!-- --><!-- Last updated: 03/27/00 21:29:31 --></body>
<!-- Mirrored from users.fuw.edu.pl/~michalj/palmos/Nutshell.html by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 17 Feb 2015 19:10:02 GMT -->
</html>