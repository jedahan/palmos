<html>
<!-- Mirrored from users.fuw.edu.pl/~michalj/palmos/DataAndResourceManager.html by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 17 Feb 2015 19:10:01 GMT -->
<head><title>Data and Resource Manager</title></head><body bgcolor="#ffffff"><TABLE WIDTH="100%">  <TR>    <TD WIDTH=25%><a href="CharacterAttributes.html"><IMG SRC="images/prev.html" BORDER=0 ALT="Previous Page"></TD>    <TD WIDTH=25%><a href="ReferenceTOC.html"><IMG SRC="images/content.gif" BORDER=0 ALT="Table of Contents"></TD>    <TD WIDTH=25%><a href="ReferenceIX.html"><IMG SRC="images/index.gif" BORDER=0 ALT="Index"></TD>    <TD WIDTH=25%><a href="DateAndTimeManager.html"><IMG SRC="images/next.html" BORDER=0 ALT="Next Page"></TD>  </TR></TABLE><br><center><B>Palm OS SDK Reference</B></center><hr><br><a name="924905"> </a><h1><IMG SRC="images/PCPplain.gif" ALT="Palm Logo" WIDTH="45" HEIGHT="44"> <a name="924903"> </a>26 Data and Resource Manager</h1><dl><a name="924906"> </a><p></p><dt>This chapter describes the data manager and the resource manager API declared in the header file <code>DataMgr.h</code>. It discusses the following topics:<ul type="SQUARE"><a name="924910"> </a><br><li><a href="DataAndResourceManager.html#924930">Data Manager Data Structures</a><br><a name="924914"> </a><br><li><a href="DataAndResourceManager.html#924966">Data Manager Constants</a><br><a name="924918"> </a><br><li><a href="DataAndResourceManager.html#976658">Data Manager Functions</a><br><a name="924922"> </a><br><li><a href="DataAndResourceManager.html#927494">Application-Defined Functions</a><br></ul><a name="924925"> </a><p></p><dt>For more information on the data and resource managers, see the chapter <a href="FilesAndDatabases.html#924904">"Files and Databases"</a> in the <em>Palm OS Programmer's Companion</em>. </dl><a name="924930"> </a><h2> Data Manager Data Structures</h2><a name="924931"> </a><h3> DmOpenRef</h3><dl><a name="924933"> </a><p></p><dt>The <code>DmOpenRef</code> type defines a pointer to an open database. The database pointer is created and returned by <code><a href="DataAndResourceManager.html#926691"></code>DmOpenDatabase<code></a></code>. It is used in any function that requires access to an open database. <dl><a name="924937"> </a><br><code>typedef void* DmOpenRef</code><br></dl></dl><a name="947029"> </a><h3> DmResID</h3><dl><a name="947429"> </a><p></p><dt>The <code>DmResID</code> type defines a resource identifier. You assign each resource an ID at creation time. Note that resource IDs greater than 10000 are reserved for system use. <dl><a name="964806"> </a><br><code>typedef UInt16 DmResID;</code><br></dl></dl><a name="947030"> </a><h3> DmResType</h3><dl><a name="947460"> </a><p></p><dt>The <code>DmResType</code> type defines the type of a resource. The resource type is a four-character code such as <code>'Tbmp'</code> for bitmap resources. <dl><a name="964959"> </a><br><code>typedef UInt32 DmResType;</code><br></dl></dl><a name="924939"> </a><h3> SortRecordInfoType</h3><dl><a name="924941"> </a><p></p><dt>The <code>SortRecordInfoType</code> structure specifies information that might be used to sort a record. It is used in the database sorting functions. To create this structure, you can call <code><a href="DataAndResourceManager.html#926934"></code>DmRecordInfo<code></a></code>, which returns these values for a given record. <dl><a name="924945"> </a><br><code>typedef struct {</code><br></dl><dl><a name="924946"> </a><code>&nbsp&nbsp&nbsp UInt8 attributes;</code><br><a name="924947"> </a><code>&nbsp&nbsp&nbsp UInt8 uniqueID[3];</code><br><a name="924948"> </a><code>} SortRecordInfoType;</code><br><a name="924949"> </a><code></code><br><a name="924950"> </a><code>typedef SortRecordInfoType * SortRecordInfoPtr;</code><br></dl></dl><a name="924951"> </a><h4> Field Descriptions</h4><p><a name="924964"> </a> </p><p><div> <table border="3"><caption><B></B></caption><tr><td><a name="924954"> </a><code>attributes</code> </td><td><a name="924958"> </a>The record's attributes. See "<a href="DataAndResourceManager.html#924997">Record Attribute Constants</a>."</td></tr><tr><td><a name="924961"> </a><code>uniqueID</code> </td><td><a name="924963"> </a>The unique identifier for the record. </td></tr></table><table><tr><td></table></div></p><a name="924966"> </a><h2> Data Manager Constants</h2><a name="924967"> </a><h3> Category Constants</h3><dl><a name="924968"> </a><p></p><dt>The following constants are used to specify information about categories:<p><a name="924995"> </a> </p><p><div> <table border="3"><caption><B></B></caption><tr><th><a name="972523"> </a><strong>Constant</strong></th><th><a name="972525"> </a><strong>Value</strong></th><th><a name="972527"> </a><strong>Description</strong></th></tr><tr><td><a name="924972"> </a><code>dmAllCategories</code> </td><td><a name="972489"> </a>0xFF</td><td><a name="924974"> </a>A mask used to represent all categories. </td></tr><tr><td><a name="924977"> </a><code>dmCategoryLength</code> </td><td><a name="972491"> </a>16</td><td><a name="924979"> </a>The length of a category name. Currently, this is 16 bytes, which includes the null terminator. </td></tr><tr><td><a name="924982"> </a><code>dmRecAttrCategoryMask</code> </td><td><a name="972493"> </a>0x0F</td><td><a name="924984"> </a>A mask used to retrieve the category information from the record's attributes field.</td></tr><tr><td><a name="924987"> </a><code>dmRecNumCategories</code> </td><td><a name="972495"> </a>16</td><td><a name="924989"> </a>The number of categories allowed. Currently, this is 16, which includes the "Unfiled" category. </td></tr><tr><td><a name="924992"> </a><code>dmUnfiledCategory</code> </td><td><a name="972497"> </a>0</td><td><a name="924994"> </a>A mask used to indicate the Unfiled category.</td></tr></table><table><tr><td></table></div></p></dl><a name="924997"> </a><h3> Record Attribute Constants</h3><dl><a name="924998"> </a><p></p><dt>The following constants specify a database record's attributes. <p><a name="925038"> </a> </p><p><div> <table border="3"><caption><B></B></caption><tr><th><a name="972923"> </a><strong>Constant</strong></th><th><a name="972927"> </a><strong>Value</strong></th><th><a name="972925"> </a><strong>Description</strong></th></tr><tr><td><a name="925002"> </a><code>dmMaxRecordIndex</code> </td><td><a name="972929"> </a>0xFFFF</td><td><a name="925004"> </a>Indicates the highest record index allowed.</td></tr><tr><td><a name="925007"> </a><code>dmAllRecAttrs</code> </td><td><a name="972931"> </a>0xF0</td><td><a name="925009"> </a>A mask used to specify all record attributes. </td></tr><tr><td><a name="925012"> </a><code>dmRecAttrBusy</code> </td><td><a name="972933"> </a>0x20</td><td><a name="925014"> </a>Busy. (The application has locked access to this record. A call to <code><a href="DataAndResourceManager.html#926284"></code>DmGetRecord<code></a></code> fails on a record that has this bit set.)</td></tr><tr><td><a name="925020"> </a><code>dmRecAttrDelete</code> </td><td><a name="972935"> </a>0x80</td><td><a name="925022"> </a>Deleted</td></tr><tr><td><a name="925025"> </a><code>dmRecAttrDirty</code> </td><td><a name="972937"> </a>0x40</td><td><a name="925027"> </a>Dirty (has been modified since last sync)</td></tr><tr><td><a name="925030"> </a><code>dmRecAttrSecret</code> </td><td><a name="972939"> </a>0x10</td><td><a name="925032"> </a>Private</td></tr><tr><td><a name="925035"> </a><code>dmSysOnlyRecAttrs</code> </td><td><a name="972941"> </a>0x20</td><td><a name="925037"> </a>A mask used to specify record attributes that only the system can change. (In other words, the busy attribute.)</td></tr></table><table><tr><td></table></div></p></dl><a name="925040"> </a><h3> Database Attribute Constants</h3><dl><a name="925041"> </a><p></p><dt>The following constants define a database's attributes:<p><a name="925117"> </a> </p><p><div> <table border="3"><caption><B></B></caption><tr><th><a name="976101"> </a><strong>Constant</strong></th><th><a name="976103"> </a><strong>Description</strong></th></tr><tr><td><a name="925045"> </a><code>dmAllHdrAttrs</code> </td><td><a name="925047"> </a>A mask used to specify all header attributes. </td></tr><tr><td><a name="925050"> </a><code>dmDBNameLength</code> </td><td><a name="925052"> </a>Maximum length of a database's name. Currently, this is 32 bytes, which include the null terminator. Note that database names must use only 7-bit ASCII characters (0x20 through 0x7E). </td></tr><tr><td><a name="925055"> </a><code>dmHdrAttrAppInfoDirty</code> </td><td><a name="925057"> </a>The application info block is dirty (has been modified since the last sync). </td></tr><tr><td><a name="925060"> </a><code>dmHdrAttrBackup</code> </td><td><a name="925062"> </a>The database should be backed up to the desktop computer if no application-specific conduit is available. </td></tr><tr><td><a name="925065"> </a><code>dmHdrAttrCopyPrevention</code> </td><td><a name="925067"> </a>Prevents the database from being copied by methods such as IR beaming.</td></tr><tr><td><a name="925070"> </a><code>dmHdrAttrHidden</code> </td><td><a name="925072"> </a>This database should be hidden from view. For example, this attribute is set to hide some applications in the launcher's main view.<a name="925076"> </a>This attribute applies to Palm OS<sup>&#174;</sup> version 3.2 and higher. </td></tr><tr><td><a name="925079"> </a><code>dmHdrAttrLaunchableData</code> </td><td><a name="925081"> </a>This database is a data database but it can be "launched" from the launcher. For example, this attribute is set in Palm Query Applications (PQAs) launched by the Web Clipper application. </td></tr><tr><td><a name="925084"> </a><code>dmHdrAttrOpen</code> </td><td><a name="925086"> </a>The database is open.</td></tr><tr><td><a name="925089"> </a><code>dmHdrAttrOKToInstallNewer</code> </td><td><a name="925091"> </a>The backup conduit can install a newer version of this database with a different name if the current database is open. This mechanism is used to update the Graffiti<sup>&#174;</sup> Shortcuts database, for example. </td></tr><tr><td><a name="925094"> </a><code>dmHdrAttrReadOnly</code> </td><td><a name="925096"> </a>The database is a read-only database.</td></tr><tr><td><a name="925099"> </a><code>dmHdrAttrResDB</code> </td><td><a name="925101"> </a>The database is a resource database.</td></tr><tr><td><a name="925104"> </a><code>dmHdrAttrResetAfterInstall</code> </td><td><a name="925106"> </a>The device must be reset after this database is installed. That is, the HotSync<sup>&#174;</sup> application forces a reset after installing this database. </td></tr><tr><td><a name="925109"> </a><code>dmHdrAttrStream</code> </td><td><a name="925111"> </a>The database is a file stream.</td></tr><tr><td><a name="925114"> </a><code>dmSysOnlyHdrAttrs</code> </td><td><a name="925116"> </a>A mask specifying the attributes that only the system can change (open and resource database).</td></tr></table><table><tr><td></table></div></p></dl><a name="925118"> </a><h3> Error Codes</h3><dl><a name="925120"> </a><p></p><dt>The following constants define error codes that are returned by the data manager and resource manager functions. Several functions return a failure value such as <code>NULL</code> or 0 instead of an error code. In many cases, you can call <code><a href="DataAndResourceManager.html#926116"></code>DmGetLastErr<code></a></code> upon receiving this value and receive a more descriptive error code. <a name="925125"> </a><p></p><dt>Also, note that on releases prior to Palm OS release 3.5, many data manager functions display a fatal error message using the <code><a href="ErrorManager.html#925092"></code>ErrFatalDisplayIf<code></a></code> macro if certain error conditions are true. Because the Palm OS ROMs are usually shipped with error checking set to partial, you receive the fatal error message. If a ROM is built with error checking set to none, the function returns one of the error codes listed here. (Note that Palm has never released a ROM with error checking set to none and has no plans to do so.)<p><a name="925266"> </a> </p><p><div> <table border="3"><caption><B></B></caption><tr><th><a name="976549"> </a><strong>Constant</strong></th><th><a name="976551"> </a><strong>Description</strong></th></tr><tr><td><a name="925132"> </a><code>dmErrAlreadyExists</code> </td><td><a name="925134"> </a>Another database with the same name already exists in RAM store.</td></tr><tr><td><a name="925136"> </a><code>dmErrAlreadyOpenForWrites</code> </td><td><a name="925138"> </a>The database is already open with write access.</td></tr><tr><td><a name="925141"> </a><code>dmErrCantFind</code> </td><td><a name="925143"> </a>The specified resource can't be found.</td></tr><tr><td><a name="925146"> </a><code>dmErrCantOpen</code> </td><td><a name="925148"> </a>The database cannot be opened.</td></tr><tr><td><a name="925151"> </a><code>dmErrCorruptDatabase</code> </td><td><a name="925153"> </a>The database is corrupted.</td></tr><tr><td><a name="925156"> </a><code>dmErrDatabaseOpen</code> </td><td><a name="925158"> </a>The function cannot be performed on an open database, and the database is open. </td></tr><tr><td><a name="946778"> </a><code>dmErrDatabaseNotProtected</code> </td><td><a name="946780"> </a><code><a href="DataAndResourceManager.html#925592"></code>DmDatabaseProtect<code></a></code> failed to protect the specified database. </td></tr><tr><td><a name="925161"> </a><code>dmErrIndexOutOfRange</code> </td><td><a name="925163"> </a>The specified index is out of range.</td></tr><tr><td><a name="925166"> </a><code>dmErrInvalidDatabaseName</code> </td><td><a name="925168"> </a>The name you've specified for the database is invalid.</td></tr><tr><td><a name="925171"> </a><code>dmErrInvalidParam</code> </td><td><a name="925173"> </a>The function received an invalid parameter.</td></tr><tr><td><a name="925176"> </a><code>dmErrMemError</code> </td><td><a name="925178"> </a>A memory error occurred.</td></tr><tr><td><a name="925180"> </a><code>dmErrNoOpenDatabase</code> </td><td><a name="925182"> </a>The function is to search all open databases, but there are none. </td></tr><tr><td><a name="925184"> </a><code>dmErrNotRecordDB</code> </td><td><a name="925186"> </a>You've attempted to perform a record function on a resource database. </td></tr><tr><td><a name="925188"> </a><code>dmErrNotResourceDB</code> </td><td><a name="925190"> </a>You've attempted to perform a resource manager function on a record database. </td></tr><tr><td><a name="925193"> </a><code>dmErrNotValidRecord</code> </td><td><a name="925195"> </a>The record handle is invalid.</td></tr><tr><td><a name="925197"> </a><code>dmErrOpenedByAnotherTask</code> </td><td><a name="925199"> </a>You've attempted to open a database that another task already has open. </td></tr><tr><td><a name="925202"> </a><code>dmErrReadOnly</code> </td><td><dl><a name="925204"> </a><p></p><dt>You've attempted to write to or modify a database that is in read-only mode.</dl></td></tr><tr><td><a name="942105"> </a><code>dmErrRecordArchived</code> </td><td><a name="976599"> </a>The function requires that the record not be archived, but it is. </td></tr><tr><td><a name="925206"> </a><code>dmErrRecordBusy</code> </td><td><a name="925208"> </a>The function requires that the record not be busy, but it is.</td></tr><tr><td><a name="925210"> </a><code>dmErrRecordDeleted</code> </td><td><a name="925212"> </a>The record has been deleted.</td></tr><tr><td><a name="925214"> </a><code>dmErrRecordInWrongCard</code> </td><td><a name="925216"> </a>You've attempted to attach a record to a database when the record and database reside on different memory cards. </td></tr><tr><td><a name="925218"> </a><code>dmErrResourceNotFound</code> </td><td><a name="925220"> </a>The resource can't be found.</td></tr><tr><td><a name="925223"> </a><code>dmErrROMBased</code> </td><td><a name="925225"> </a>You've attempted to delete or modify a ROM-based database.</td></tr><tr><td><a name="925228"> </a><code>dmErrSeekFailed</code></td><td><a name="925230"> </a>The operation of seeking the next record in the category failed. </td></tr><tr><td><a name="925233"> </a><code>dmErrUniqueIDNotFound</code> </td><td><a name="925235"> </a>A record with the specified unique ID can't be found.</td></tr><tr><td><a name="925238"> </a><code>dmErrWriteOutOfBounds</code> </td><td><a name="925240"> </a>A write operation exceeded the bounds of the record. </td></tr><tr><td><a name="925243"> </a><code>memErrCardNotPresent</code> </td><td><a name="925245"> </a>The specified card can't be found.</td></tr><tr><td><a name="925248"> </a><code>memErrChunkLocked</code> </td><td><a name="925250"> </a>The associated memory chunk is locked. </td></tr><tr><td><a name="925253"> </a><code>memErrInvalidParam</code> <a name="925255"> </a><code>memErrNotEnoughSpace</code> </td><td><a name="925257"> </a>A memory error occurred.</td></tr><tr><td><a name="925260"> </a><code>memErrInvalidStoreHeader</code><a name="925262"> </a><code>memErrRAMOnlyCard</code> </td><td><a name="925264"> </a>The specified card has no storage RAM.</td></tr><tr><td><a name="959272"> </a><code>omErrBaseRequiresOverlay</code> </td><td><a name="959274"> </a>An attempt was made to open a stripped resource database, but no associated overlay could be found. </td></tr><tr><td><a name="959277"> </a><code>omErrUnknownLocale</code> </td><td><a name="959279"> </a>An attempt was made to open a resource database with overlays using an unknown locale. </td></tr></table><table><tr><td></table></div></p></dl><a name="957587"> </a><h3> Open Mode Constants</h3><dl><a name="976608"> </a><p></p><dt>The following constants define the mode in which a database can be opened. You pass one or more of these as a parameter to <code><a href="DataAndResourceManager.html#926691"></code>DmOpenDatabase<code></a></code>, <code><a href="DataAndResourceManager.html#926762"></code>DmOpenDatabaseByTypeCreator<code></a></code>, or <code><a href="DataAndResourceManager.html#957202"></code>DmOpenDBNoOverlay<code></a></code>: <p><a name="976656"> </a> </p><p><div> <table border="3"><caption><B></B></caption><tr><th><a name="976623"> </a><strong>Constant</strong></th><th><a name="976625"> </a><strong>Description</strong></th></tr><tr><td><a name="976628"> </a><code>dmModeReadWrite</code> </td><td><a name="976630"> </a>Read-write access.</td></tr><tr><td><a name="976633"> </a><code>dmModeReadOnly</code> </td><td><a name="976635"> </a>Read-only access.</td></tr><tr><td><a name="976638"> </a><code>dmModeWrite</code> </td><td><a name="976640"> </a>Write-only access. </td></tr><tr><td><a name="976643"> </a><code>dmModeLeaveOpen</code> </td><td><a name="976645"> </a>Leave database open even after application quits.</td></tr><tr><td><a name="976648"> </a><code>dmModeExclusive</code> </td><td><a name="976650"> </a>Don't let anyone else open this database.</td></tr><tr><td><a name="976653"> </a><code>dmModeShowSecret</code> </td><td><a name="976655"> </a>Show records marked private. </td></tr></table><table><tr><td></table></div></p></dl><a name="976658"> </a><h2> Data Manager Functions</h2><a name="925271"> </a><br> <br> <br><h3> DmArchiveRecord</h3><dl><dl><a name="925272"> </a><h4>Purpose </h4><dl><a name="925273"> </a><p></p><dt>Mark a record as archived by leaving the record's chunk intact and setting the delete bit for the next sync.</dl><a name="925275"> </a><h4>Prototype </h4><dl><a name="925277"> </a><dt><code>Err DmArchiveRecord (DmOpenRef&nbsp;dbP, UInt16&nbsp;index)</code></dl></dl><dl><a name="925278"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925279"> </a><CODE>-&gt; <code>dbP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><code>DmOpenRef</code> to open database.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925280"> </a><CODE>-&gt; <code>index</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Which record to archive.<br></TD></TR></TABLE></dl><dl><a name="925281"> </a><h4>Result </h4><dl><a name="925282"> </a><p></p><dt>Returns <code>errNone</code> if no error, or one of the following if an error occurs: <ul type="SQUARE"><a name="942034"> </a><br><li><a href="DataAndResourceManager.html#925202">dmErrReadOnly</a><br><a name="942038"> </a><br><li><a href="DataAndResourceManager.html#925161">dmErrIndexOutOfRange</a><br><a name="942124"> </a><br><li><a href="DataAndResourceManager.html#942105">dmErrRecordArchived</a><br><a name="942129"> </a><br><li><a href="DataAndResourceManager.html#925210">dmErrRecordDeleted</a><br><a name="942146"> </a><br><li><a href="DataAndResourceManager.html#925253">memErrInvalidParam</a><br><dl><a name="942033"> </a><p></p><dt>Some releases may display a fatal error message instead of returning the error code. </dl></ul></dl></dl><dl><a name="925283"> </a><h4>Comments </h4><dl><a name="925284"> </a><p></p><dt>When a record is archived, the deleted bit is set but the chunk is not freed and the local ID is preserved. This way, the next time the user synchronizes with the desktop system, the desktop can save the record data on the PC before it permanently removes the record entry and data from the Palm OS device. </dl><a name="925285"> </a><h4>See Also </h4><dl><a name="925295"> </a><p></p><dt><code><a href="DataAndResourceManager.html#927011"></code>DmRemoveRecord<code></a></code>, <code><a href="DataAndResourceManager.html#925769"></code>DmDetachRecord<code></a></code>, <code><a href="DataAndResourceManager.html#926489"></code>DmNewRecord<code></a></code>, <code><a href="DataAndResourceManager.html#925735"></code>DmDeleteRecord<code></a></code></dl></dl></dl><a name="925300"> </a><br> <br> <br><h3> DmAttachRecord</h3><dl><dl><a name="925301"> </a><h4>Purpose </h4><dl><a name="925302"> </a><p></p><dt>Attach an existing chunk ID handle to a database as a record. </dl><a name="925303"> </a><h4>Prototype </h4><dl><a name="925305"> </a><dt><code>Err DmAttachRecord (DmOpenRef&nbsp;dbP, UInt16*&nbsp;atP, MemHandle&nbsp;newH, MemHandle*&nbsp;oldHP)</code></dl></dl><dl><a name="925306"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925307"> </a><CODE>-&gt; <code>dbP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><code>DmOpenRef</code> to open database.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925308"> </a><CODE>&lt;-&gt; <code>atP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to the index where the new record should be placed. Specify the value <code>dmMaxRecordIndex</code> to add the record to the end of the database. <br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925310"> </a><CODE>-&gt; <code>newH</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Handle of the new record.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925311"> </a><CODE>&lt;-&gt; <code>oldHP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>If non-<code>NULL</code> upon entry, indicates that the record at <code>*atP</code> should be replaced. Upon return, contains the handle to the replaced record.<br></TD></TR></TABLE></dl><dl><a name="925312"> </a><h4>Result </h4><dl><a name="942673"> </a><p></p><dt>Returns <code>errNone</code> if no error, or one of the following if an error occurs: <ul type="SQUARE"><a name="925316"> </a><br><li><code><a href="DataAndResourceManager.html#925176"></code>dmErrMemError<code></a></code> <br><a name="942744"> </a><br><li><a href="DataAndResourceManager.html#925248">memErrChunkLocked</a> <br><a name="942757"> </a><br><li><a href="DataAndResourceManager.html#925253">memErrInvalidParam</a> <br><a name="942770"> </a><br><li><a href="DataAndResourceManager.html#925255">memErrNotEnoughSpace</a> <br><a name="942790"> </a><br><li><a href="DataAndResourceManager.html#925202">dmErrReadOnly</a> <br><a name="942834"> </a><br><li><a href="DataAndResourceManager.html#925184">dmErrNotRecordDB</a> <br><a name="942851"> </a><br><li><a href="DataAndResourceManager.html#925214">dmErrRecordInWrongCard</a> <br><a name="942794"> </a><br><li><a href="DataAndResourceManager.html#925161">dmErrIndexOutOfRange</a> <br><dl><a name="942886"> </a><p></p><dt>Some releases may display a fatal error message instead of returning some of these error codes. </dl></ul></dl></dl><dl><a name="925331"> </a><h4>Comments </h4><dl><a name="925332"> </a><p></p><dt>Given the handle of an existing chunk, this routine makes that chunk a new record in a database and sets the dirty bit. The parameter <code>atP</code> points to an index variable. If <code>oldHP</code> is <code>NULL</code>, the new record is inserted at index *<code>atP</code> and all record indices that follow are shifted down. If *<code>atP</code> is greater than the number of records currently in the database, the new record is appended to the end and its index is returned in *<code>atP</code>. If <code>oldHP</code> is not <code>NULL</code>, the new record replaces an existing record at index *<code>atP</code> and the handle of the old record is returned in *<code>oldHP</code> so that the application can free it or attach it to another database.<a name="925334"> </a><p></p><dt>This function is useful for cutting and pasting between databases.</dl><a name="925335"> </a><h4>See Also </h4><dl><a name="925345"> </a><p></p><dt><code><a href="DataAndResourceManager.html#925769"></code>DmDetachRecord<code></a></code>, <code><a href="DataAndResourceManager.html#926489"></code>DmNewRecord<code></a></code>, <code><a href="DataAndResourceManager.html#988344"></code>DmNewHandle<code></a></code>, <code><a href="DataAndResourceManager.html#925972"></code>DmFindSortPosition<code></a></code> </dl></dl></dl><a name="925347"> </a><br> <br> <br><h3> DmAttachResource</h3><dl><dl><a name="925348"> </a><h4>Purpose </h4><dl><a name="925349"> </a><p></p><dt>Attach an existing chunk ID to a resource database as a new resource.</dl><a name="925350"> </a><h4>Prototype </h4><dl><a name="925352"> </a><dt><code>Err DmAttachResource (DmOpenRef&nbsp;dbP, MemHandle&nbsp;newH, DmResType&nbsp;resType, DmResID&nbsp;resID)</code></dl></dl><dl><a name="925353"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925354"> </a><CODE>-&gt; <code>dbP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><code>DmOpenRef</code> to open database.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925355"> </a><CODE>-&gt; <code>newH</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Handle of new resource's data.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925356"> </a><CODE>-&gt; <code>resType</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Type of the new resource.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925357"> </a><CODE>-&gt; <code>resID</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>ID of the new resource.<br></TD></TR></TABLE></dl><dl><a name="925358"> </a><h4>Result </h4><dl><a name="942904"> </a><p></p><dt>Returns <code>errNone</code> if no error, or one of the following if an error occurs: <ul type="SQUARE"><a name="942908"> </a><br><li><code><a href="DataAndResourceManager.html#925176"></code>dmErrMemError<code></a></code> <br><a name="942912"> </a><br><li><a href="DataAndResourceManager.html#925248">memErrChunkLocked</a> <br><a name="942916"> </a><br><li><a href="DataAndResourceManager.html#925253">memErrInvalidParam</a> <br><a name="943067"> </a><br><li><a href="DataAndResourceManager.html#925255">memErrNotEnoughSpace</a> <br><a name="943071"> </a><br><li><a href="DataAndResourceManager.html#925202">dmErrReadOnly</a> <br><a name="943075"> </a><br><li><a href="DataAndResourceManager.html#925214">dmErrRecordInWrongCard</a> <br><dl><a name="942937"> </a><p></p><dt>Some releases may display a fatal error message instead of returning some of these error codes. All releases may display a fatal error message if the database is not a resource database. </dl></ul></dl></dl><dl><a name="925376"> </a><h4>Comments </h4><dl><a name="925377"> </a><p></p><dt>Given the handle of an existing chunk with resource data in it, this routine makes that chunk a new resource in a resource database. The new resource will have the given type and ID. </dl><a name="925378"> </a><h4>See Also </h4><dl><a name="925388"> </a><p></p><dt><code><a href="DataAndResourceManager.html#925808"></code>DmDetachResource<code></a></code>, <code><a href="DataAndResourceManager.html#927044"></code>DmRemoveResource<code></a></code>, <code><a href="DataAndResourceManager.html#988344"></code>DmNewHandle<code></a></code>, <code><a href="DataAndResourceManager.html#926527"></code>DmNewResource<code></a></code></dl></dl></dl><a name="925393"> </a><br> <br> <br><h3> DmCloseDatabase </h3><dl><dl><a name="925394"> </a><h4>Purpose </h4><dl><a name="925396"> </a><p></p><dt>Close a database.</dl><a name="925397"> </a><h4>Prototype </h4><dl><a name="925399"> </a><dt><code>Err DmCloseDatabase (DmOpenRef&nbsp;dbP)</code></dl></dl><dl><a name="925400"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925401"> </a><CODE>-&gt; <code>dbP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Database access pointer.<br></TD></TR></TABLE></dl><dl><a name="925402"> </a><h4>Result </h4><dl><a name="925403"> </a><p></p><dt>Returns <code>errNone</code> if no error, or <a href="DataAndResourceManager.html#925171">dmErrInvalidParam</a> if an error occurs. Some releases may display a fatal error message instead of returning the error code. </dl></dl><dl><a name="925404"> </a><h4>Comments </h4><dl><a name="925405"> </a><p></p><dt>This routine doesn't unlock any records that were left locked. Records and resources should not be left locked. If a record/resource is left locked, you should not use this reference because the record can disappear if the database is deleted by the user or during a HotSync<sup>&#174;</sup>. To prevent the database from being deleted, you can use <code><a href="DataAndResourceManager.html#925592"></code>DmDatabaseProtect<code></a></code> before closing. <a name="943478"> </a><p></p><dt>If there is an overlay associated with the database passed in, <code>DmCloseDatabase</code> closes the overlay as well. </dl><a name="925409"> </a><h4>Compatibility </h4><dl><a name="925410"> </a><p></p><dt>Starting with Palm OS 2.0, <code>DmCloseDatabase</code> updates the database's modification date. <ul type="SQUARE"><a name="925411"> </a><br><li>On Palm OS 2.0, the modification date is updated if the database was opened with write access. <br><a name="925412"> </a><br><li>On Palm OS 3.0 and higher, the modification date is updated only if a change has been made and the database was opened with write access. Changes that trigger an update include adding, deleting, archiving, rearranging, or resizing records, setting a record's dirty bit in <code><a href="DataAndResourceManager.html#926964"></code>DmReleaseRecord<code></a></code>, rearranging or deleting categories, or updating the database header fields using <code><a href="DataAndResourceManager.html#927326"></code>DmSetDatabaseInfo<code></a></code>. <br></ul><a name="925419"> </a><p></p><dt>Under Palm OS 1.0, the modification date was never updated. <a name="976803"> </a><p></p><dt>If you need to ensure that the modification date is updated the same way regardless of the operating system version, use <code><a href="DataAndResourceManager.html#927326"></code>DmSetDatabaseInfo<code></a></code> to set the modification date explicitly. </dl><a name="976807"> </a><h4>See Also </h4><dl><a name="976814"> </a><p></p><dt><code><a href="DataAndResourceManager.html#926691"></code>DmOpenDatabase<code></a></code>, <code><a href="DataAndResourceManager.html#988040"></code>DmDeleteDatabase<code></a></code>, <code><a href="DataAndResourceManager.html#926762"></code>DmOpenDatabaseByTypeCreator<code></a></code> </dl></dl></dl><a name="925437"> </a><br> <br> <br><h3> DmCreateDatabase</h3><dl><dl><a name="925438"> </a><h4>Purpose </h4><dl><a name="925439"> </a><p></p><dt>Create a new database on the specified card with the given name, creator, and type.</dl><a name="925441"> </a><h4>Prototype </h4><dl><a name="925443"> </a><dt><code>Err DmCreateDatabase (UInt16&nbsp;cardNo, const&nbsp;Char&nbsp;*&nbsp;nameP, UInt32&nbsp;creator, UInt32&nbsp;type, Boolean&nbsp;resDB)</code></dl></dl><dl><a name="925444"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925445"> </a><CODE>-&gt; <code>cardNo</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The card number to create the database on.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925446"> </a><CODE>-&gt; <code>nameP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Name of new database, up to 32 ASCII bytes long, including the null terminator (as specified by <code>dmDBNameLength</code>). Database names must use only 7-bit ASCII characters (0x20 through 0x7E). <br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925448"> </a><CODE>-&gt; <code>creator</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Creator of the database. <br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925449"> </a><CODE>-&gt; <code>type</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Type of the database.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925450"> </a><CODE>-&gt; <code>resDB</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>If <code>true</code>, create a resource database.<br></TD></TR></TABLE></dl><dl><a name="925451"> </a><h4>Result </h4><dl><a name="925455"> </a><p></p><dt>Returns <code>errNone</code> if no error, or one of the following if an error occurs: <ul type="SQUARE"><a name="943602"> </a><br><li><a href="DataAndResourceManager.html#925166">dmErrInvalidDatabaseName</a> <br><a name="946679"> </a><br><li><a href="DataAndResourceManager.html#925132">dmErrAlreadyExists</a> <br><a name="996779"> </a><br><li><a href="DataAndResourceManager.html#925243">memErrCardNotPresent</a> <br><a name="946737"> </a><br><li><a href="DataAndResourceManager.html#925176">dmErrMemError</a> <br><a name="946742"> </a><br><li><a href="DataAndResourceManager.html#925248">memErrChunkLocked</a> <br><a name="946743"> </a><br><li><a href="DataAndResourceManager.html#925253">memErrInvalidParam</a> <br><a name="946744"> </a><br><li><a href="DataAndResourceManager.html#925260">memErrInvalidStoreHeader</a> <br><a name="946746"> </a><br><li><a href="DataAndResourceManager.html#925255">memErrNotEnoughSpace</a> <br><a name="946745"> </a><br><li><a href="DataAndResourceManager.html#925262">memErrRAMOnlyCard</a> <br><dl><a name="946749"> </a><p></p><dt>May display a fatal error message if the master database list cannot be found. </dl></ul></dl></dl><dl><a name="925480"> </a><h4>Comments </h4><dl><a name="925481"> </a><p></p><dt>Call this routine to create a new database on a specific card. If another database with the same name already exists in RAM store, this routine returns a <code><a href="DataAndResourceManager.html#925132"></code>dmErrAlreadyExists<code></a></code> error code. Once created, the database ID can be retrieved by calling <code><a href="DataAndResourceManager.html#925838"></code>DmFindDatabase<code></a></code>. The database can be opened using the database ID. To create a resource database instead of a record-based database, set the <code>resDB</code> Boolean to <code>true</code>.<a name="925489"> </a><p></p><dt>After you create a database, it's recommended that you call <code><a href="DataAndResourceManager.html#927326"></code>DmSetDatabaseInfo<code></a></code> to set the version number. Databases default to version 0 if the version isn't explicitly set. </dl><a name="925493"> </a><h4>See Also </h4><dl><a name="925500"> </a><p></p><dt><code><a href="DataAndResourceManager.html#925506"></code>DmCreateDatabaseFromImage<code></a></code>, <code><a href="DataAndResourceManager.html#926691"></code>DmOpenDatabase<code></a></code>, <code><a href="DataAndResourceManager.html#988040"></code>DmDeleteDatabase<code></a></code></dl></dl></dl><a name="925506"> </a><br> <br> <br><h3> DmCreateDatabaseFromImage</h3><dl><dl><a name="925507"> </a><h4>Purpose </h4><dl><a name="925508"> </a><p></p><dt>Create an entire database from a single resource that contains an image of the database.</dl><a name="925509"> </a><h4>Prototype </h4><dl><a name="925510"> </a><dt><code>Err DmCreateDatabaseFromImage (MemPtr&nbsp;bufferP)</code></dl></dl><dl><a name="925511"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925512"> </a><CODE>-&gt; <code>bufferP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to locked resource containing database image.<br></TD></TR></TABLE></dl><dl><a name="925513"> </a><h4>Result </h4><dl><a name="925514"> </a><p></p><dt>Returns <code>errNone</code> if no error. </dl></dl><dl><a name="925515"> </a><h4>Comments </h4><dl><a name="925516"> </a><p></p><dt>An image is the same as a desktop file representation of a prc or pdb file. <a name="925517"> </a><p></p><dt>This function is intended for applications in the ROM to install default databases after a hard reset. RAM-based applications that want to install a default database should install a pdb file separately to save storage heap space. </dl><a name="925518"> </a><h4>See Also </h4><dl><a name="925525"> </a><p></p><dt><code><a href="DataAndResourceManager.html#925437"></code>DmCreateDatabase<code></a></code>, <code><a href="DataAndResourceManager.html#926691"></code>DmOpenDatabase<code></a></code></dl></dl></dl><a name="925528"> </a><br> <br> <br><h3> DmDatabaseInfo</h3><dl><dl><a name="925529"> </a><h4>Purpose </h4><dl><a name="925530"> </a><p></p><dt>Retrieve information about a database.</dl><a name="925531"> </a><h4>Prototype </h4><dl><a name="925533"> </a><dt><code>Err DmDatabaseInfo (UInt16&nbsp;cardNo, LocalID&nbsp;dbID, Char*&nbsp;nameP, UInt16*&nbsp;attributesP, UInt16*&nbsp;versionP, UInt32*&nbsp;crDateP, UInt32*&nbsp;modDateP, UInt32*&nbsp;bckUpDateP, UInt32*&nbsp;modNumP, LocalID*&nbsp;appInfoIDP, LocalID*&nbsp;sortInfoIDP, UInt32*&nbsp;typeP, UInt32*&nbsp;creatorP)</code></dl></dl><dl><a name="925534"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925535"> </a><CODE>-&gt; <code>cardNo</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Number of the card the database resides on.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925536"> </a><CODE>-&gt; <code>dbID</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Database ID of the database.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925537"> </a><CODE>&lt;- <code>nameP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The database's name. Pass a pointer to 32-byte character array for this parameter, or <code>NULL</code> if you don't care about the name.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925538"> </a><CODE>&lt;- <code>attributesP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The database's attribute flags. The section <a href="DataAndResourceManager.html#925040">"Database Attribute Constants"</a> lists constants you can use to query the values returned in this parameter. Pass <code>NULL</code> for this parameter if you don't want to retrieve it. <br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925542"> </a><CODE>&lt;- <code>versionP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The application-specific version number. The default version number is 0. Pass <code>NULL</code> for this parameter if you don't want to retrieve it. <br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925543"> </a><CODE>&lt;- <code>crDateP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The date the database was created, expressed as the number of seconds since the first instant of Jan 1, 1904. Pass <code>NULL</code> for this parameter if you don't want to retrieve it. <br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925544"> </a><CODE>&lt;- <code>modDateP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The date the database was last modified, expressed as the number of seconds since the first instant of Jan 1, 1904. Pass <code>NULL</code> for this parameter if you don't want to retrieve it. <br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925545"> </a><CODE>&lt;- <code>bckUpDateP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The date the database was backed up, expressed as the number of seconds since the first instant of Jan 1, 1904. Pass <code>NULL</code> for this parameter if you don't want to retrieve it. <br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925546"> </a><CODE>&lt;- <code>modNumP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The modification number, which is incremented every time a record in the database is added, modified, or deleted. Pass <code>NULL</code> for this parameter if you don't want to retrieve it. <br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925547"> </a><CODE>&lt;- <code>appInfoIDP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The local ID of the application info block, or <code>NULL</code>. The application info block is an optional field that the database may use to store application-specific information about the database. Pass <code>NULL</code> for this parameter if you don't want to retrieve it. <br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925548"> </a><CODE>&lt;- <code>sortInfoIDP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The local ID of the database's sort table. This is an optional field in the database header. Pass <code>NULL</code> for this parameter if you don't want to retrieve it. <br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925549"> </a><CODE>&lt;- <code>typeP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The database's type, specified when it is created. Pass <code>NULL</code> for this parameter if you don't want to retrieve it. <br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925550"> </a><CODE>&lt;- <code>creatorP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The database's creator, specified when it is created. Pass <code>NULL</code> for this parameter if you don't want to retrieve it. <br></TD></TR></TABLE></dl><dl><a name="925551"> </a><h4>Result </h4><dl><a name="925555"> </a><p></p><dt>Returns <code>errNone</code> if no error, or <code><a href="DataAndResourceManager.html#925171"></code>dmErrInvalidParam<code></a></code> if an error occurs.</dl></dl><dl><a name="925556"> </a><h4>Compatibility </h4><dl><a name="925557"> </a><p></p><dt>Updating of the modification date differs based on which version of the OS your application is running on. <ul type="SQUARE"><a name="925558"> </a><br><li>Under Palm OS 1.0, the modification date is never updated. <br><a name="925559"> </a><br><li>Under Palm OS 2.0, the modification date is updated every time a database opened with write access is closed. <br><a name="925560"> </a><br><li>Beginning with Palm OS 3.0, the modification date is updated only if a change has been made to the database opened with write access. (The update still occurs upon closing the database.) Changes that trigger an update include adding, deleting, archiving, rearranging, or resizing records, setting a record's dirty bit in <code><a href="DataAndResourceManager.html#926964"></code>DmReleaseRecord<code></a></code>, rearranging or deleting categories, or updating the database header fields using <code><a href="DataAndResourceManager.html#927326"></code>DmSetDatabaseInfo<code></a></code>. <br></ul><a name="925567"> </a><p></p><dt>If you need to ensure that the modification date is updated the same way regardless of the operating system version, use <code><a href="DataAndResourceManager.html#927326"></code>DmSetDatabaseInfo<code></a></code> to set the modification date explicitly. </dl><a name="925571"> </a><h4>See Also </h4><dl><a name="925583"> </a><p></p><dt><code><a href="DataAndResourceManager.html#927326"></code>DmSetDatabaseInfo<code></a></code>, <code><a href="DataAndResourceManager.html#925619"></code>DmDatabaseSize<code></a></code>, <code><a href="DataAndResourceManager.html#926795"></code>DmOpenDatabaseInfo<code></a></code>, <code><a href="DataAndResourceManager.html#925838"></code>DmFindDatabase<code></a></code>, <code><a href="DataAndResourceManager.html#926215"></code>DmGetNextDatabaseByTypeCreator<code></a></code>, <code><a href="DateAndTimeManager.html#925168"></code>TimSecondsToDateTime<code></a></code> </dl></dl></dl><a name="925592"> </a><br> <br> <br><h3> DmDatabaseProtect</h3><dl><dl><a name="925593"> </a><h4>Purpose </h4><dl><a name="925595"> </a><p></p><dt>Increment or decrement the database's protection count. </dl><a name="925596"> </a><h4>Prototype </h4><dl><a name="925598"> </a><dt><code>Err DmDatabaseProtect (UInt16&nbsp;cardNo, LocalID&nbsp;dbID, Boolean&nbsp;protect)</code></dl></dl><dl><a name="925599"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925600"> </a><CODE>-&gt; <code>cardNo</code> </CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Card number of database to protect/unprotect.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925601"> </a><CODE>-&gt; <code>dbID</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Local ID of database to protect/unprotect.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925602"> </a><CODE>-&gt; <code>protect</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>If <code>true</code>, <code>protect</code> count will be incremented. If <code>false</code>, <code>protect</code> count will be decremented.<br></TD></TR></TABLE></dl><dl><a name="925603"> </a><h4>Result </h4><dl><a name="947535"> </a><p></p><dt>Returns <code>errNone</code> if no error, or one of the following if an error occurs: <ul type="SQUARE"><a name="947538"> </a><br><li><a href="DataAndResourceManager.html#925243">memErrCardNotPresent</a><br><a name="947554"> </a><br><li><a href="DataAndResourceManager.html#925223">dmErrROMBased</a><br><a name="947627"> </a><br><li><a href="DataAndResourceManager.html#925141">dmErrCantFind</a><br><a name="947703"> </a><br><li><a href="DataAndResourceManager.html#925255">memErrNotEnoughSpace</a><br><a name="947771"> </a><br><li><a href="DataAndResourceManager.html#946778">dmErrDatabaseNotProtected</a><br></ul></dl></dl><dl><a name="925608"> </a><h4>Comments </h4><dl><a name="925609"> </a><p></p><dt>This routine can be used to prevent a database from being deleted (by passing <code>true</code> for the <code>protect</code> parameter). It increments the protect count if <code>protect</code> is <code>true</code> and decrements it if <code>protect</code> is <code>false</code>. All <code>true</code> calls should be balanced by <code>false</code> calls before the application terminates. <a name="925611"> </a><p></p><dt>Use this function if you want to keep a particular record or resource in a database locked down but don't want to keep the database open. This information is kept in the dynamic heap, so all databases are "unprotected" at system reset. <a name="965409"> </a><p></p><dt>If the database is a resource database that has an overlay associated with it for the current locale, the overlay is also protected or unprotected by this call. </dl><a name="925612"> </a><h4>Compatibility </h4><dl><a name="925616"> </a><p></p><dt>Implemented only if <a href="CompatibilityApdx.html#483165">2.0 New Feature Set</a> is present. Overlay support is only available if <a href="CompatibilityApdx.html#486514">3.5 New Feature Set</a> is present.</dl></dl></dl><a name="925619"> </a><br> <br> <br><h3> DmDatabaseSize</h3><dl><dl><a name="925620"> </a><h4>Purpose </h4><dl><a name="925621"> </a><p></p><dt>Retrieve size information on a database.</dl><a name="925622"> </a><h4>Prototype </h4><dl><a name="925624"> </a><dt><code>Err DmDatabaseSize (UInt16&nbsp;cardNo, LocalID&nbsp;dbID, UInt32*&nbsp;numRecordsP, UInt32*&nbsp;totalBytesP, UInt32*&nbsp;dataBytesP)</code></dl></dl><dl><a name="925625"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925626"> </a><CODE>-&gt; <code>cardNo</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Card number the database resides on.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925627"> </a><CODE>-&gt; <code>dbID</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Database ID of the database.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925628"> </a><CODE>&lt;- <code>numRecordsP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The total number of records in the database. Pass <code>NULL</code> for this parameter if you don't want to retrieve it.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925629"> </a><CODE>&lt;- <code>totalBytesP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The total number of bytes used by the database including the overhead. Pass <code>NULL</code> for this parameter if you don't want to retrieve it.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925630"> </a><CODE>&lt;- <code>dataBytesP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The total number of bytes used to store just each record's data, not including overhead. Pass <code>NULL</code> for this parameter if you don't want to retrieve it.<br></TD></TR></TABLE></dl><dl><a name="925631"> </a><h4>Result </h4><dl><a name="925635"> </a><p></p><dt>Returns <code>errNone</code> if no error, or <code><a href="DataAndResourceManager.html#925176"></code>dmErrMemError<code></a></code> if an error occurs. </dl></dl><dl><a name="925636"> </a><h4>See Also </h4><dl><a name="925646"> </a><p></p><dt><code><a href="DataAndResourceManager.html#925528"></code>DmDatabaseInfo<code></a></code>, <code><a href="DataAndResourceManager.html#926795"></code>DmOpenDatabaseInfo<code></a></code>, <code><a href="DataAndResourceManager.html#925838"></code>DmFindDatabase<code></a></code>, <code><a href="DataAndResourceManager.html#926215"></code>DmGetNextDatabaseByTypeCreator<code></a></code></dl></dl></dl><a name="925651"> </a><br> <br> <br><h3> DmDeleteCategory</h3><dl><dl><a name="925652"> </a><h4>Purpose </h4><dl><a name="925653"> </a><p></p><dt>Delete all records in a category. The category name is not changed.</dl><a name="925654"> </a><h4>Prototype </h4><dl><a name="925656"> </a><dt><code>Err DmDeleteCategory (DmOpenRef&nbsp;dbR, UInt16&nbsp;categoryNum)</code></dl></dl><dl><a name="925657"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925658"> </a><CODE>-&gt; <code>dbR</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Database access pointer.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925659"> </a><CODE>-&gt; <code>categoryNum</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Category of records to delete. Category masks such as <code>dmAllCategories</code> are invalid. <br></TD></TR></TABLE></dl><dl><a name="925660"> </a><h4>Result </h4><dl><a name="925661"> </a><p></p><dt>Returns <code>errNone</code> if no error, or one of the following if an error occurs: <ul type="SQUARE"><a name="948094"> </a><br><li><a href="DataAndResourceManager.html#925202">dmErrReadOnly</a><br><a name="948097"> </a><br><li><a href="DataAndResourceManager.html#925253">memErrInvalidParam</a><br><dl><a name="948171"> </a><p></p><dt>Some releases may display a fatal error message instead of returning the error code. </dl></ul></dl></dl><dl><a name="987119"> </a><h4>Comments </h4><dl><a name="987579"> </a><p></p><dt>This function deletes all records in a category, but does not delete the category itself. For each record in the category, <code>DmDeleteCategory</code> marks the <code>delete</code> bit in the database header for the record and disposes of the record's data chunk. The record entry in the database header remains, but its <code>localChunkID</code> is set to <code>NULL</code>. <a name="987896"> </a><p></p><dt>If the category contains no records, this function does nothing and returns <code>errNone</code> to indicate success. The <code>categoryNum</code> parameter is assumed to represent a single category. If you pass a category mask to specify more than one category, this function interprets that value as a single category, finds no records to delete in that category, and returns <code>errNone</code>. <a name="988117"> </a><p></p><dt>You can use the <code><a href="DataAndResourceManager.html#926934"></code>DmRecordInfo<code></a></code> call to obtain a category index from a given record. For example: </dl></dl><dl><a name="988118"> </a><br><code>DmOpenRef myDB;</code><br></dl><dl><a name="988119"> </a><code>UInt16 record, attr, category, total;</code><br><a name="988120"> </a><code></code><br><a name="988121"> </a><code>DmRecordInfo(myDB, record, &amp;attr, NULL, NULL);</code><br><a name="988122"> </a><code>category = attr &amp; dmRecAttrCategoryMask;</code><br><a name="988123"> </a><code>err = DmDeleteCategory(myDB, category);</code><br></dl><dl><a name="988033"> </a><h4>Compatibility </h4><dl><a name="988037"> </a><p></p><dt>Implemented only if <a href="CompatibilityApdx.html#483165">2.0 New Feature Set</a> is present.</dl></dl></dl><a name="988040"> </a><br> <br> <br><h3> DmDeleteDatabase</h3><dl><dl><a name="925670"> </a><h4>Purpose </h4><dl><a name="925671"> </a><p></p><dt>Delete a database and all its records.</dl><a name="925672"> </a><h4>Prototype </h4><dl><a name="925674"> </a><dt><code>Err DmDeleteDatabase (UInt16&nbsp;cardNo, LocalID&nbsp;dbID)</code></dl></dl><dl><a name="925675"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925676"> </a><CODE>-&gt; <code>cardNo</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Card number the database resides on.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925677"> </a><CODE>-&gt; <code>dbID</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Database ID.<br></TD></TR></TABLE></dl><dl><a name="925678"> </a><h4>Result </h4><dl><a name="925685"> </a><p></p><dt>Returns <code>errNone</code> if no error, or one of the following if an error occurs: <ul type="SQUARE"><a name="948258"> </a><br><li><a href="DataAndResourceManager.html#925141">dmErrCantFind</a> <br><a name="950935"> </a><br><li><a href="DataAndResourceManager.html#925146">dmErrCantOpen</a> <br><a name="950968"> </a><br><li><a href="DataAndResourceManager.html#925248">memErrChunkLocked</a> <br><a name="951001"> </a><br><li><a href="DataAndResourceManager.html#925156">dmErrDatabaseOpen</a> <br><a name="951005"> </a><br><li><a href="DataAndResourceManager.html#925223">dmErrROMBased</a> <br><a name="951006"> </a><br><li><a href="DataAndResourceManager.html#925253">memErrInvalidParam</a> <br><a name="951007"> </a><br><li><a href="DataAndResourceManager.html#925255">memErrNotEnoughSpace</a> <br></ul></dl></dl><dl><a name="925701"> </a><h4>Comments </h4><dl><a name="925702"> </a><p></p><dt>Call this routine to delete a database. This routine deletes the database, the application info block, the sort info block, and any other overhead information that is associated with this database. <a name="953761"> </a><p></p><dt>If the database has an overlay associated with it, this function does <strong>not</strong> delete the overlay. You can delete the overlay with a separate call to <code>DmDeleteDatabase</code>. <a name="925703"> </a><p></p><dt>This routine accepts a database ID as a parameter. To determine the database ID, call either <code><a href="DataAndResourceManager.html#925838"></code>DmFindDatabase<code></a></code> or <code><a href="DataAndResourceManager.html#926063"></code>DmGetDatabase<code></a></code> with a database index.</dl><a name="925713"> </a><h4>See Also </h4><dl><a name="925723"> </a><p></p><dt><code><a href="DataAndResourceManager.html#925735"></code>DmDeleteRecord<code></a></code>, <code><a href="DataAndResourceManager.html#927011"></code>DmRemoveRecord<code></a></code>, <code><a href="DataAndResourceManager.html#927044"></code>DmRemoveResource<code></a></code>, <code><a href="DataAndResourceManager.html#925437"></code>DmCreateDatabase<code></a></code>, <code><a href="DataAndResourceManager.html#926215"></code>DmGetNextDatabaseByTypeCreator<code></a></code>, <code><a href="DataAndResourceManager.html#925838"></code>DmFindDatabase<code></a></code></dl></dl></dl><a name="925735"> </a><br> <br> <br><h3> DmDeleteRecord</h3><dl><dl><a name="925736"> </a><h4>Purpose </h4><dl><a name="925737"> </a><p></p><dt>Delete a record's chunk from a database but leave the record entry in the header and set the <code>delete</code> bit for the next sync.</dl><a name="925739"> </a><h4>Prototype </h4><dl><a name="925741"> </a><dt><code>Err DmDeleteRecord (DmOpenRef&nbsp;dbP, UInt16&nbsp;index)</code></dl></dl><dl><a name="925742"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925743"> </a><CODE>-&gt; <code>dbP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><code>DmOpenRef</code> to open database.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925744"> </a><CODE>-&gt; <code>index</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Which record to delete.<br></TD></TR></TABLE></dl><dl><a name="925745"> </a><h4>Result </h4><dl><a name="925746"> </a><p></p><dt>Returns <code>errNone</code> if no error, or one of the following if an error occurs: <ul type="SQUARE"><a name="925747"> </a><br><li><a href="DataAndResourceManager.html#925202">dmErrReadOnly</a><br><a name="925748"> </a><br><li><a href="DataAndResourceManager.html#925161">dmErrIndexOutOfRange</a><br><a name="953786"> </a><br><li><a href="DataAndResourceManager.html#942105">dmErrRecordArchived</a><br><a name="954106"> </a><br><li><a href="DataAndResourceManager.html#925210">dmErrRecordDeleted</a><br><a name="925749"> </a><br><li><a href="DataAndResourceManager.html#925253">memErrInvalidParam</a><br><dl><a name="953778"> </a><p></p><dt>Some releases may display a fatal error message instead of returning the error code. </dl></ul></dl></dl><dl><a name="925750"> </a><h4>Comments </h4><dl><a name="925752"> </a><p></p><dt>Marks the <code>delete</code> bit in the database header for the record and disposes of the record's data chunk. Does not remove the record entry from the database header, but simply sets the <code>localChunkID</code> of the record entry to <code>NULL</code>.</dl><a name="925753"> </a><h4>See Also </h4><dl><a name="925763"> </a><p></p><dt><code><a href="DataAndResourceManager.html#925769"></code>DmDetachRecord<code></a></code>, <code><a href="DataAndResourceManager.html#927011"></code>DmRemoveRecord<code></a></code>, <code><a href="DataAndResourceManager.html#925271"></code>DmArchiveRecord<code></a></code>, <code><a href="DataAndResourceManager.html#926489"></code>DmNewRecord<code></a></code></dl></dl></dl><a name="925769"> </a><br> <br> <br><h3> DmDetachRecord</h3><dl><dl><a name="925770"> </a><h4>Purpose </h4><dl><a name="925771"> </a><p></p><dt>Detach and orphan a record from a database but don't delete the record's chunk.</dl><a name="925772"> </a><h4>Prototype </h4><dl><a name="925774"> </a><dt><code>Err DmDetachRecord (DmOpenRef&nbsp;dbP, UInt16&nbsp;index, MemHandle*&nbsp;oldHP)</code></dl></dl><dl><a name="925775"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925776"> </a><CODE>-&gt; <code>dbP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><code>DmOpenRef</code> to open.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925777"> </a><CODE>-&gt; <code>index</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Index of the record to detach.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925778"> </a><CODE>&lt;-&gt; <code>oldHP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to return handle of the detached record.<br></TD></TR></TABLE></dl><dl><a name="925779"> </a><h4>Result </h4><dl><a name="954111"> </a><p></p><dt>Returns <code>errNone</code> if no error, or one of the following if an error occurs: <ul type="SQUARE"><a name="954115"> </a><br><li><a href="DataAndResourceManager.html#925202">dmErrReadOnly</a><br><a name="954119"> </a><br><li><a href="DataAndResourceManager.html#925161">dmErrIndexOutOfRange</a><br><a name="925782"> </a><br><li><a href="DataAndResourceManager.html#925184">dmErrNotRecordDB</a><br><a name="925784"> </a><br><li><a href="DataAndResourceManager.html#925248">memErrChunkLocked</a><br><a name="925785"> </a><br><li><a href="DataAndResourceManager.html#925253">memErrInvalidParam</a><br><dl><a name="954314"> </a><p></p><dt>Some releases may display a fatal error message instead of returning the error code. </dl></ul></dl></dl><dl><a name="925786"> </a><h4>Comments </h4><dl><a name="925788"> </a><p></p><dt>This routine detaches a record from a database by removing its entry from the database header and returns the handle of the record's data chunk in <code>*oldHP</code>. Unlike <code><a href="DataAndResourceManager.html#925735"></code>DmDeleteRecord<code></a></code>, this routine removes its entry in the database header but it does not delete the actual record.</dl><a name="925792"> </a><h4>See Also </h4><dl><a name="925802"> </a><p></p><dt><code><a href="DataAndResourceManager.html#925300"></code>DmAttachRecord<code></a></code>, <code><a href="DataAndResourceManager.html#927011"></code>DmRemoveRecord<code></a></code>, <code><a href="DataAndResourceManager.html#925271"></code>DmArchiveRecord<code></a></code>, <code><a href="DataAndResourceManager.html#925735"></code>DmDeleteRecord<code></a></code></dl></dl></dl><a name="925808"> </a><br> <br> <br><h3> DmDetachResource</h3><dl><dl><a name="925809"> </a><h4>Purpose </h4><dl><a name="925810"> </a><p></p><dt>Detach a resource from a database and return the handle of the resource's data.</dl><a name="925811"> </a><h4>Prototype </h4><dl><a name="925813"> </a><dt><code>Err DmDetachResource (DmOpenRef&nbsp;dbP, UInt16&nbsp;index, MemHandle*&nbsp;oldHP)</code></dl></dl><dl><a name="925814"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925815"> </a><CODE>-&gt; <code>dbP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><code>DmOpenRef</code> to open database.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925816"> </a><CODE>-&gt; <code>index</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Index of resource to detach.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925817"> </a><CODE>&lt;-&gt; <code>oldHP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to return handle of the detached record.<br></TD></TR></TABLE></dl><dl><a name="925818"> </a><h4>Result </h4><dl><a name="954362"> </a><p></p><dt>Returns <code>errNone</code> if no error, or one of the following if an error occurs: <ul type="SQUARE"><a name="925821"> </a><br><li><a href="DataAndResourceManager.html#925202">dmErrReadOnly</a><br><a name="925822"> </a><br><li><a href="DataAndResourceManager.html#925161">dmErrIndexOutOfRange</a><br><a name="925823"> </a><br><li><a href="DataAndResourceManager.html#925151">dmErrCorruptDatabase</a><br><a name="954386"> </a><br><li><a href="DataAndResourceManager.html#925248">memErrChunkLocked</a><br><a name="954390"> </a><br><li><a href="DataAndResourceManager.html#925253">memErrInvalidParam</a><br><dl><a name="954324"> </a><p></p><dt>Some releases may display a fatal error message instead of returning the error code. All releases may display a fatal error message if the database is not a resource database. </dl></ul></dl></dl><dl><a name="925826"> </a><h4>Comments </h4><dl><a name="986168"> </a><p></p><dt>This routine detaches a resource from a database by removing its entry from the database header and returns the handle of the resource's data chunk in *<code>oldHP</code>. </dl><a name="986169"> </a><h4>See Also </h4><dl><a name="925835"> </a><p></p><dt><code><a href="DataAndResourceManager.html#925347"></code>DmAttachResource<code></a></code>, <code><a href="DataAndResourceManager.html#927044"></code>DmRemoveResource<code></a></code></dl></dl></dl><a name="925838"> </a><br> <br> <br><h3> DmFindDatabase</h3><dl><dl><a name="925839"> </a><h4>Purpose </h4><dl><a name="925841"> </a><p></p><dt>Return the database ID of a database by card number and name.</dl><a name="925842"> </a><h4>Prototype </h4><dl><a name="925844"> </a><dt><code>LocalID DmFindDatabase (UInt16&nbsp;cardNo, const&nbsp;Char*&nbsp;nameP)</code></dl></dl><dl><a name="925845"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925846"> </a><CODE>-&gt; <code>cardNo</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Number of card to search.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925847"> </a><CODE>-&gt; <code>nameP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Name of the database to look for.<br></TD></TR></TABLE></dl><dl><a name="925848"> </a><h4>Result </h4><dl><a name="925849"> </a><p></p><dt>Returns the database ID. If the database can't be found, this function returns 0, and <code><a href="DataAndResourceManager.html#926116"></code>DmGetLastErr<code></a></code> returns an error code indicating the reason for failure.</dl></dl><dl><a name="925853"> </a><h4>See Also </h4><dl><a name="925860"> </a><p></p><dt><code><a href="DataAndResourceManager.html#926215"></code>DmGetNextDatabaseByTypeCreator<code></a></code>, <code><a href="DataAndResourceManager.html#925528"></code>DmDatabaseInfo<code></a></code>, <code><a href="DataAndResourceManager.html#926691"></code>DmOpenDatabase<code></a></code></dl></dl></dl><a name="925865"> </a><br> <br> <br><h3> DmFindRecordByID</h3><dl><dl><a name="925866"> </a><h4>Purpose </h4><dl><a name="925868"> </a><p></p><dt>Return the index of the record with the given unique ID.</dl><a name="925869"> </a><h4>Prototype </h4><dl><a name="925871"> </a><dt><code>Err DmFindRecordByID (DmOpenRef&nbsp;dbP, UInt32&nbsp;uniqueID, UInt16*&nbsp;indexP)</code></dl></dl><dl><a name="925872"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925873"> </a><CODE>-&gt; <code>dbP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Database access pointer.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925874"> </a><CODE>-&gt; <code>uniqueID</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Unique ID to search for.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925875"> </a><CODE>&lt;- <code>indexP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Return index.<br></TD></TR></TABLE></dl><dl><a name="925876"> </a><h4>Result </h4><dl><a name="925880"> </a><p></p><dt>Returns 0 if found, otherwise <code><a href="DataAndResourceManager.html#925233"></code>dmErrUniqueIDNotFound<code></a></code>. May display a fatal error message if the unique ID is invalid. </dl></dl><dl><a name="925881"> </a><h4>See Also </h4><dl><a name="925891"> </a><p></p><dt><code><a href="DataAndResourceManager.html#926888"></code>DmQueryRecord<code></a></code>, <code><a href="DataAndResourceManager.html#926284"></code>DmGetRecord<code></a></code>, <code><a href="DataAndResourceManager.html#926934"></code>DmRecordInfo<code></a></code></dl></dl></dl><a name="925894"> </a><br> <br> <br><h3> DmFindResource</h3><dl><dl><a name="925895"> </a><h4>Purpose </h4><dl><a name="925896"> </a><p></p><dt>Search the given database for a resource by type and ID, or by pointer if it is non-<code>NULL</code>.</dl><a name="925897"> </a><h4>Prototype </h4><dl><a name="925899"> </a><dt><code>UInt16 DmFindResource (DmOpenRef&nbsp;dbP, DmResType&nbsp;resType, DmResID&nbsp;resID, MemHandle&nbsp;resH)</code></dl></dl><dl><a name="925900"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925901"> </a><CODE>-&gt; <code>dbP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Open resource database access pointer.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925902"> </a><CODE>-&gt; <code>resType</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Type of resource to search for.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925903"> </a><CODE>-&gt; <code>resID</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>ID of resource to search for.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925904"> </a><CODE>-&gt;<code>resH</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to locked resource, or <code>NULL</code>.<br></TD></TR></TABLE></dl><dl><a name="925905"> </a><h4>Result </h4><dl><a name="925906"> </a><p></p><dt>Returns index of resource in resource database, or -1 if not found.<dl><a name="925907"> </a><p></p><dt>May display a fatal error message if the database is not a resource database. </dl></dl></dl><dl><a name="925908"> </a><h4>Comments </h4><dl><a name="925909"> </a><p></p><dt>Use this routine to find a resource in a particular resource database by type and ID or by pointer. It is particularly useful when you want to search only one database for a resource and that database is not the topmost one. <a name="963928"> </a><blockquote><br><hr><br><em><strong>IMPORTANT:  </strong></em>This function searches for the resource only in the database you specify. If you pass a pointer to a base resource database, its overlay is <strong>not</strong> searched. To search both a base database and its overlay for a localized resource, use <code><a href="DataAndResourceManager.html#964506"></code>DmGet1Resource<code></a></code> instead of this function.<br><hr><br></blockquote><a name="925910"> </a><p></p><dt>If <code>resH</code> is <code>NULL</code>, the resource is searched for by type and ID.<a name="925911"> </a><p></p><dt>If <code>resH</code> is not <code>NULL</code>, <code>resType</code> and <code>resID</code> are ignored and the index of the given locked resource is returned. <a name="925912"> </a><p></p><dt>Once the index of a resource is determined, it can be locked down and accessed by calling <code><a href="DataAndResourceManager.html#926356"></code>DmGetResourceIndex<code></a></code>. </dl><a name="925916"> </a><h4>See Also </h4><dl><a name="925926"> </a><p></p><dt><code><a href="DataAndResourceManager.html#926326"></code>DmGetResource<code></a></code>, <code><a href="DataAndResourceManager.html#927232"></code>DmSearchResource<code></a></code>, <code><a href="DataAndResourceManager.html#927172"></code>DmResourceInfo<code></a></code>, <code><a href="DataAndResourceManager.html#926356"></code>DmGetResourceIndex<code></a></code>, <code><a href="DataAndResourceManager.html#925935"></code>DmFindResourceType<code></a></code></dl></dl></dl><a name="925935"> </a><br> <br> <br><h3> DmFindResourceType</h3><dl><dl><a name="925936"> </a><h4>Purpose </h4><dl><a name="925938"> </a><p></p><dt>Search the given database for a resource by type and type index.</dl><a name="925939"> </a><h4>Prototype </h4><dl><a name="925941"> </a><dt><code>UInt16 DmFindResourceType (DmOpenRef&nbsp;dbP, DmResType&nbsp;resType, UInt16&nbsp;typeIndex)</code></dl></dl><dl><a name="925942"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925943"> </a><CODE>-&gt; <code>dbP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Open resource database access pointer.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925944"> </a><CODE>-&gt; <code>resType</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Type of resource to search for.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925945"> </a><CODE>-&gt; <code>typeIndex</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Index of given resource type.<br></TD></TR></TABLE></dl><dl><a name="925946"> </a><h4>Result </h4><dl><a name="925947"> </a><p></p><dt>Index of resource in resource database, or -1 if not found.<dl><a name="925948"> </a><p></p><dt>May display a fatal error message if the database is not a resource database. </dl></dl></dl><dl><a name="925949"> </a><h4>Comments </h4><dl><a name="925950"> </a><p></p><dt>Use this routine to retrieve all the resources of a given type in a resource database. By starting at <code>typeIndex</code> 0 and incrementing until an error is returned, the total number of resources of a given type and the index of each of these resources can be determined. Once the index of a resource is determined, it can be locked down and accessed by calling <code><a href="DataAndResourceManager.html#926356"></code>DmGetResourceIndex<code></a></code>.<a name="977049"> </a><blockquote><br><hr><br><em><strong>IMPORTANT:  </strong></em>This function searches for resources only in the database you specify. If you pass a pointer to a base resource database, its overlay is <strong>not</strong> searched. To search both a base database and its overlay for a localized resource, use <code><a href="DataAndResourceManager.html#964506"></code>DmGet1Resource<code></a></code> instead of this function.<br><hr><br></blockquote></dl><a name="925954"> </a><h4>See Also </h4><dl><a name="925964"> </a><p></p><dt><code><a href="DataAndResourceManager.html#926326"></code>DmGetResource<code></a></code>, <code><a href="DataAndResourceManager.html#927232"></code>DmSearchResource<code></a></code>, <code><a href="DataAndResourceManager.html#927172"></code>DmResourceInfo<code></a></code>, <code><a href="DataAndResourceManager.html#926356"></code>DmGetResourceIndex<code></a></code>, <code><a href="DataAndResourceManager.html#925894"></code>DmFindResource<code></a></code></dl></dl></dl><a name="925972"> </a><br> <br> <br><h3> DmFindSortPosition</h3><dl><dl><a name="925973"> </a><h4>Purpose </h4><dl><a name="925974"> </a><p></p><dt>Return where a record should be. Useful to find where to insert a record with <code><a href="DataAndResourceManager.html#925300"></code>DmAttachRecord<code></a></code>. Uses a binary search.</dl><a name="925978"> </a><h4>Prototype </h4><dl><a name="925980"> </a><dt><code>UInt16 DmFindSortPosition (DmOpenRef&nbsp;dbP, void*&nbsp;newRecord, SortRecordInfoPtr&nbsp;newRecordInfo, DmComparF&nbsp;*compar, Int16&nbsp;other)</code></dl></dl><dl><a name="925981"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925982"> </a><CODE>-&gt; <code>dbP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Database access pointer. <br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925983"> </a><CODE>-&gt; <code>newRecord</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to the new record. <br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925984"> </a><CODE>-&gt; <code>newRecordInfo</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Sort information about the new record. See <code><a href="DataAndResourceManager.html#924939"></code>SortRecordInfoType<code></a></code>.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925988"> </a><CODE>-&gt; <code>compar</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to comparison function. See <code><a href="DataAndResourceManager.html#927497"></code>DmComparF<code></a></code>.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925992"> </a><CODE>-&gt; <code>other</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Any value the application wants to pass to the comparison function.<br></TD></TR></TABLE></dl><dl><a name="925993"> </a><h4>Result </h4><dl><a name="925994"> </a><p></p><dt>The position where the record should be inserted.<a name="925995"> </a><p></p><dt>The position should be viewed as between the record returned and the record before it. Note that the return value may be one greater than the number of records.</dl></dl><dl><a name="925996"> </a><h4>Comments </h4><dl><a name="925997"> </a><p></p><dt>If <code>newRecord</code> has the same key as another record in the database, <code>DmFindSortPosition</code> assumes that <code>newRecord</code> should be inserted after that record. If there are several records with the same key, <code>newRecord</code> is inserted after all of them. For this reason, if you use <code>DmFindSortPosition</code> to search for the location of a record that you know is already in the database, you must subtract 1 from the result. (Be sure to check that the value is not 0.)<a name="925998"> </a><p></p><dt>If there are deleted records in the database, <code>DmFindSortPosition</code> only works if those records are at the end of the database. <code>DmFindSortPosition</code> always assumes that a deleted record is greater than or equal to any other record.</dl><a name="925999"> </a><h4>Compatibility </h4><dl><a name="926003"> </a><p></p><dt>Implemented only if <a href="CompatibilityApdx.html#483165">2.0 New Feature Set</a> is present.</dl><a name="926004"> </a><h4>See Also </h4><dl><a name="926008"> </a><p></p><dt><code><a href="DataAndResourceManager.html#926011"></code>DmFindSortPositionV10<code></a></code> </dl></dl></dl><a name="926011"> </a><br> <br> <br><h3> DmFindSortPositionV10</h3><dl><dl><a name="926012"> </a><h4>Purpose </h4><dl><a name="977130"> </a><p></p><dt>Return where a record should be. Useful to find where to insert a record with <code><a href="DataAndResourceManager.html#925300"></code>DmAttachRecord<code></a></code>. Uses a binary search.</dl><a name="926015"> </a><h4>Prototype </h4><dl><a name="926016"> </a><dt><code>UInt16 DmFindSortPositionV10 (DmOpenRef&nbsp;dbP, void*&nbsp;newRecord, DmComparF&nbsp;*compar, Int16&nbsp;other)</code></dl></dl><dl><a name="926017"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926018"> </a><CODE>-&gt; <code>dbP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Database access pointer.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926019"> </a><CODE>-&gt; <code>newRecord</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to the new record.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926020"> </a><CODE>-&gt; <code>compar</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to comparison function. See <code><a href="DataAndResourceManager.html#927497"></code>DmComparF<code></a></code>.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926024"> </a><CODE>-&gt; <code>other</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Any value the application wants to pass to the comparison function.<br></TD></TR></TABLE></dl><dl><a name="926025"> </a><h4>Result </h4><dl><a name="926026"> </a><p></p><dt>Returns the position where the record should be inserted. The position should be viewed as between the record returned and the record before it. Note that the return value may be one greater than the number of records.</dl></dl><dl><a name="926027"> </a><h4>Comments </h4><dl><a name="926028"> </a><p></p><dt>If there are deleted records in the database, <code>DmFindSortPositionV10</code> only works if those records are at the end of the database. <code>DmFindSortPositionV10</code> always assumes that a deleted record is greater than or equal to any other record.</dl><a name="926029"> </a><h4>Compatibility </h4><dl><a name="926030"> </a><p></p><dt>This function corresponds to the 1.0 version of <code>DmFindSortPosition</code>.</dl><a name="926031"> </a><h4>See Also </h4><dl><a name="926041"> </a><p></p><dt><code><a href="DataAndResourceManager.html#925972"></code>DmFindSortPosition<code></a></code>, <code><a href="DataAndResourceManager.html#926904"></code>DmQuickSort<code></a></code>, <code><a href="DataAndResourceManager.html#926411"></code>DmInsertionSort<code></a></code></dl></dl></dl><a name="926043"> </a><br> <br> <br><h3> DmGetAppInfoID</h3><dl><dl><a name="926044"> </a><h4>Purpose </h4><dl><a name="926045"> </a><p></p><dt>Return the local ID of the application info block.</dl><a name="926046"> </a><h4>Prototype </h4><dl><a name="926048"> </a><dt><code>LocalID DmGetAppInfoID (DmOpenRef&nbsp;dbP).</code></dl></dl><dl><a name="926049"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926050"> </a><CODE>-&gt; <code>dbP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Database access pointer.<br></TD></TR></TABLE></dl><dl><a name="926051"> </a><h4>Result </h4><dl><a name="926052"> </a><p></p><dt>Returns local ID of the application info block.</dl></dl><dl><a name="926053"> </a><h4>See Also </h4><dl><a name="926060"> </a><p></p><dt><code><a href="DataAndResourceManager.html#925528"></code>DmDatabaseInfo<code></a></code>, <code><a href="DataAndResourceManager.html#926691"></code>DmOpenDatabase<code></a></code></dl></dl></dl><a name="926063"> </a><br> <br> <br><h3> DmGetDatabase</h3><dl><dl><a name="926064"> </a><h4>Purpose </h4><dl><a name="926065"> </a><p></p><dt>Return the database header ID of a database by index and card number.</dl><a name="926066"> </a><h4>Prototype </h4><dl><a name="926068"> </a><dt><code>LocalID DmGetDatabase (UInt16&nbsp;cardNo, UInt16&nbsp;index)</code></dl></dl><dl><a name="926069"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926070"> </a><CODE>-&gt; <code>cardNo</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Card number of database. <br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926071"> </a><CODE>-&gt; <code>index</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Index of database.<br></TD></TR></TABLE></dl><dl><a name="926072"> </a><h4>Result </h4><dl><a name="926073"> </a><p></p><dt>Returns the database ID, or 0 if an invalid parameter is passed.</dl></dl><dl><a name="926074"> </a><h4>Comments </h4><dl><a name="926075"> </a><p></p><dt>Call this routine to retrieve the database ID of a database by index. The index should range from 0 to <code><a href="DataAndResourceManager.html#926599"></code>DmNumDatabases<code></a></code>-1. <a name="977242"> </a><p></p><dt>This routine is useful for getting a directory of all databases on a card. The databases returned may reside in either the ROM or the RAM. The order in which databases are returned is not fixed; therefore, you should not rely on receiving a list of databases in a particular order. </dl><a name="926079"> </a><h4>See Also </h4><dl><a name="926089"> </a><p></p><dt><code><a href="DataAndResourceManager.html#926691"></code>DmOpenDatabase<code></a></code>, <code><a href="DataAndResourceManager.html#926599"></code>DmNumDatabases<code></a></code>, <code><a href="DataAndResourceManager.html#925528"></code>DmDatabaseInfo<code></a></code>, <code><a href="DataAndResourceManager.html#925619"></code>DmDatabaseSize<code></a></code></dl></dl></dl><a name="926095"> </a><br> <br> <br><h3> DmGetDatabaseLockState</h3><dl><dl><a name="926096"> </a><h4>Purpose </h4><dl><a name="926097"> </a><p></p><dt>Return information about the number of locked and busy records in a database.</dl><a name="926098"> </a><h4>Prototype </h4><dl><a name="926099"> </a><dt><code>void DmGetDatabaseLockState (DmOpenRef&nbsp;dbR, UInt8*&nbsp;highest, UInt32*&nbsp;count, UInt32*&nbsp;busy)</code></dl></dl><dl><a name="926100"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926101"> </a><CODE>-&gt; <code>dbR</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Database access pointer.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926102"> </a><CODE>&lt;- <code>highest</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The highest lock count found for all of the records in the database. If a database has two records, one has a lock count of 2 and one has a lock count of 1, the highest lock count is 2. Pass <code>NULL</code> for this parameter if you don't want to retrieve it. <br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926103"> </a><CODE>&lt;- <code>count</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The number of records that have the lock count that is returned in the <code>highest</code> parameter. Pass <code>NULL</code> for this parameter if you don't want to retrieve it. <br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926104"> </a><CODE>&lt;- <code>busy</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The number of records that have the busy bit set. Pass <code>NULL</code> for this parameter if you don't want to retrieve it. <br></TD></TR></TABLE></dl><dl><a name="926105"> </a><h4>Result </h4><dl><a name="926106"> </a><p></p><dt>No return value. Returns all information in the parameters you pass. </dl></dl><dl><a name="926107"> </a><h4>Comments </h4><dl><a name="926108"> </a><p></p><dt>This function is intended to be used for debugging purposes. You can use it to obtain information about how many records are busy and how much locking occurs. </dl><a name="926109"> </a><h4>Compatibility </h4><dl><a name="926113"> </a><p></p><dt>Implemented only if <a href="CompatibilityApdx.html#484253">3.2 New Feature Set</a> is present.</dl></dl></dl><a name="926116"> </a><br> <br> <br><h3> DmGetLastErr</h3><dl><dl><a name="926117"> </a><h4>Purpose </h4><dl><a name="926119"> </a><p></p><dt>Return error code from last data manager call.</dl><a name="926120"> </a><h4>Prototype </h4><dl><a name="926122"> </a><dt><code>Err DmGetLastErr (void)</code></dl></dl><dl><a name="926123"> </a><h4>Parameters </h4><dl><a name="926124"> </a><p></p><dt>None.</dl></dl><dl><a name="926125"> </a><h4>Result </h4><dl><a name="926126"> </a><p></p><dt>Error code from last unsuccessful data manager call.</dl></dl><dl><a name="926127"> </a><h4>Comments </h4><dl><a name="926128"> </a><p></p><dt>Use this routine to determine why a data manager call failed. In particular, calls like <code><a href="DataAndResourceManager.html#926284"></code>DmGetRecord<code></a></code> return 0 if unsuccessful, so calling <code><a href="DataAndResourceManager.html#926116"></code>DmGetLastErr<code></a></code> is the only way to determine why they failed.<a name="926136"> </a><p></p><dt>Note that <code>DmGetLastErr</code> does not always reflect the error status of the last data manager call. Rather, it reflects the error status of data manager calls that don't return an error code. For some of those calls, the saved error code value is not set to 0 when the call is successful. <a name="926140"> </a><p></p><dt>For example, if a call to <code><a href="DataAndResourceManager.html#926762"></code>DmOpenDatabaseByTypeCreator<code></a></code> returns <code>NULL</code> for database reference (that is, it fails), <code>DmGetLastErr</code> returns something meaningful; otherwise, it returns the error value of some previous data manager call. <a name="926141"> </a><p></p><dt>Only the following data manager functions currently affect the value returned by <code>DmGetLastErr</code>:<p><a name="926213"> </a> </p><p><div> <table border="3"><caption><B></B></caption><tr><td><a name="926147"> </a><code><a href="DataAndResourceManager.html#925838"></code>DmFindDatabase<code></a></code></td><td><a name="926152"> </a><code><a href="DataAndResourceManager.html#926762"></code>DmOpenDatabaseByTypeCreator<code></a></code></td></tr><tr><td><a name="926157"> </a><code><a href="DataAndResourceManager.html#926691"></code>DmOpenDatabase<code></a></code></td><td><a name="926162"> </a><code><a href="DataAndResourceManager.html#926489"></code>DmNewRecord<code></a></code></td></tr><tr><td><a name="926167"> </a><code><a href="DataAndResourceManager.html#926888"></code>DmQueryRecord<code></a></code></td><td><a name="926172"> </a><code><a href="DataAndResourceManager.html#926284"></code>DmGetRecord<code></a></code></td></tr><tr><td><a name="926177"> </a><code><a href="DataAndResourceManager.html#926854"></code>DmQueryNextInCategory<code></a></code></td><td><a name="926182"> </a><code><a href="DataAndResourceManager.html#926822"></code>DmPositionInCategory<code></a></code></td></tr><tr><td><a name="926187"> </a><code><a href="DataAndResourceManager.html#927265"></code>DmSeekRecordInCategory<code></a></code></td><td><a name="926192"> </a><code><a href="DataAndResourceManager.html#927127"></code>DmResizeRecord<code></a></code></td></tr><tr><td><a name="926197"> </a><code><a href="DataAndResourceManager.html#926326"></code>DmGetResource<code></a></code></td><td><a name="926202"> </a><code><a href="DataAndResourceManager.html#964506"></code>DmGet1Resource<code></a></code></td></tr><tr><td><a name="926207"> </a><code><a href="DataAndResourceManager.html#926527"></code>DmNewResource<code></a></code></td><td><a name="926212"> </a><code><a href="DataAndResourceManager.html#926356"></code>DmGetResourceIndex<code></a></code></td></tr><tr><td><a name="955325"> </a><a href="DataAndResourceManager.html#988344">DmNewHandle</a></td><td><a name="955327"> </a><a href="DataAndResourceManager.html#957202">DmOpenDBNoOverlay</a> </td></tr><tr><td><a name="982224"> </a><a href="DataAndResourceManager.html#927150">DmResizeResource</a></td><td><a name="982226"> </a></td></tr></table><table><tr><td></table></div></p></dl></dl></dl><a name="926215"> </a><br> <br> <br><h3> DmGetNextDatabaseByTypeCreator</h3><dl><dl><a name="926216"> </a><h4>Purpose </h4><dl><a name="926217"> </a><p></p><dt>Return a database header ID and card number given the type and/or creator. This routine searches all memory cards for a match. </dl><a name="926218"> </a><h4>Prototype </h4><dl><a name="926220"> </a><dt><code>Err DmGetNextDatabaseByTypeCreator (Boolean&nbsp;newSearch, DmSearchStatePtr&nbsp;stateInfoP, UInt32&nbsp;type, UInt32&nbsp;creator, Boolean&nbsp;onlyLatestVers, UInt16*&nbsp;cardNoP, LocalID*&nbsp;dbIDP)</code></dl></dl><dl><a name="926221"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926222"> </a><CODE>-&gt; <code>newSearch</code> </CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><code>true</code> if starting a new search.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926223"> </a><CODE>&lt;-&gt; <code>stateInfoP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>If <code>newSearch</code> is <code>false</code>, this must point to the same data used for the previous invocation. <br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926224"> </a><CODE>-&gt; <code>type</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Type of database to search for, pass 0 as a wildcard.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926225"> </a><CODE>-&gt; <code>creator</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Creator of database to search for, pass 0 as a wildcard.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926226"> </a><CODE>-&gt; <code>onlyLatestVers</code> </CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT> If <code>true</code>, only the latest version of a database with a given type and creator is returned.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926227"> </a><CODE>&lt;- <code>cardNoP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>On exit, the card number of the found database. <br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926228"> </a><CODE>&lt;- <code>dbIDP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Database local ID of the found database.<br></TD></TR></TABLE></dl><dl><a name="926229"> </a><h4>Result </h4><dl><a name="926233"> </a><p></p><dt>Returns <code>errNone</code> if no error, or <code><a href="DataAndResourceManager.html#925141"></code>dmErrCantFind<code></a></code> if no matches were found.</dl></dl><dl><a name="926234"> </a><h4>Comments </h4><dl><a name="926235"> </a><p></p><dt>You may need to call this function successively to discover all databases having a specified type/creator pair. <a name="926236"> </a><p></p><dt>To start the search, pass <code>true</code> for <code>newSearch</code>. Allocate a <code>DmSearchStateType</code> structure and pass it as the <code>stateInfoP</code> parameter. <code>DmGetNextDatabaseByTypeCreator</code> stores private information in <code>stateInfoP</code> and uses it if the search is continued. <a name="926238"> </a><p></p><dt>To continue a search where the previous one left off, pass <code>false</code> for <code>newSearch</code> and pass the same <code>stateInfoP</code> that you used during the previous call to this function. <a name="926239"> </a><p></p><dt>You can pass <code>NULL</code> as a wildcard operator for the <code>type</code> or <code>creator</code> parameter to conduct searches of wider scope. If the <code>type</code> parameter is <code>NULL</code>, this routine can be called successively to return all databases of the given creator. If the <code>creator</code> parameter is <code>NULL</code>, this routine can be called successively to return all databases of the given type. You can also pass <code>NULL</code> as the value for both of these parameters to return all available databases without regard to type or creator.<a name="926240"> </a><p></p><dt>Because databases are scattered freely throughout memory space, they are not returned in any particular order--any database matching the specified type/creator criteria can be returned.Thus, if the value of the <code>onlyLatestVers</code> parameter is <code>false</code>, this function may return a database which is not the most recent version matching the specified type/creator pair. To obtain only the latest version of a database matching the search criteria, set the value of the <code>onlyLatestVers</code> parameter to <code>true</code>. <a name="926241"> </a><p></p><dt>When determining which is the latest version of the database, RAM databases are considered newer than ROM databases that have the same version number. Because of this, you can replace any ROM-based application with your own version of it. Also, a RAM database on card 1 is considered newer than a RAM database on card 0 if the version numbers are identical. </dl><a name="926242"> </a><h4>Compatibility </h4><dl><a name="926243"> </a><p></p><dt>In Palm OS version 3.1 and higher, if <code>onlyLatestVers</code> is <code>true</code>, you only receive one matching database for each type/creator pair. In version 3.0 and earlier, you could receive multiple matching databases if <code>onlyLatestVers</code> was <code>true</code>. <a name="926244"> </a><p></p><dt>Note that the behavior is different only when you have specified a value for both <code>type</code> and <code>creator</code> and <code>onlyLatestVers</code> is <code>true</code>.<a name="926245"> </a><p></p><dt>For example, suppose your application maintains three databases that all have the same type, creator, and version number and you write this code to process them in some way:</dl></dl><dl><a name="926246"> </a><br><code>DmSearchStateType state;</code><br></dl><dl><a name="926247"> </a><code>Boolean latestVer;</code><br><a name="926248"> </a><code>UInt16 card;</code><br><a name="926249"> </a><code>LocalID currentDB = 0;</code><br><a name="926250"> </a><code></code><br><a name="926251"> </a><code>theErr = DmGetNextDatabaseByTypeCreator(true, </code><br><a name="926252"> </a><code>&nbsp&nbsp&nbsp &amp;state, myType, myCreator, latestVer, &amp;card, </code><br><a name="926253"> </a><code>&nbsp&nbsp&nbsp &amp;currentDB);</code><br><a name="926254"> </a><code>while (!theErr &amp;&amp; currentDB) {</code><br><a name="926255"> </a><code>&nbsp&nbsp&nbsp /* do something with currentDB */</code><br><a name="926256"> </a><code>&nbsp&nbsp&nbsp /* now get the next DB */</code><br><a name="926257"> </a><code>&nbsp&nbsp&nbsp theErr = DmGetNextDatabaseByTypeCreator(</code><br><a name="926258"> </a><code>&nbsp&nbsp&nbsp 	 false, &amp;state, myType, myCreator, </code><br><a name="926259"> </a><code>&nbsp&nbsp&nbsp 	 latestVer, &amp;card, &amp;currentDB);</code><br><a name="926260"> </a><code>}</code><br><dl><a name="926261"> </a><p></p><dt>If <code>latestVer</code> is <code>false</code>, then your code will work the same on all versions of Palm OS and will return all three databases whose type and creator match those specified. If <code>latestVer</code> is <code>true</code>, this code returns all three databases on Palm OS version 3.0 and earlier, but only returns one database on version 3.1 and higher. (Exactly which database it returns is unspecified.) <a name="926262"> </a><p></p><dt>If you expect multiple databases to match your search criteria, make sure you call <code>DmGetNextDatabaseByTypeCreator</code> in one of the following ways to ensure that your code operates the same on all Palm OS versions:<ul type="SQUARE"><a name="926263"> </a><br><li>Set <code>onlyLatestVers</code> to <code>false</code> if you specify both a <code>type</code> and <code>creator</code>. <br><a name="926264"> </a><br><li>Specify <code>NULL</code> for either the <code>type</code> or <code>creator</code> parameter (or both). <br></ul></dl></dl><dl><a name="926265"> </a><h4>See Also </h4><dl><a name="926275"> </a><p></p><dt><code><a href="DataAndResourceManager.html#926063"></code>DmGetDatabase<code></a></code>, <code><a href="DataAndResourceManager.html#925838"></code>DmFindDatabase<code></a></code>, <code><a href="DataAndResourceManager.html#925528"></code>DmDatabaseInfo<code></a></code>, <code><a href="DataAndResourceManager.html#926762"></code>DmOpenDatabaseByTypeCreator<code></a></code>, <code><a href="DataAndResourceManager.html#925619"></code>DmDatabaseSize<code></a></code></dl></dl></dl><a name="926284"> </a><br> <br> <br><h3> DmGetRecord</h3><dl><dl><a name="926285"> </a><h4>Purpose </h4><dl><a name="926286"> </a><p></p><dt>Return a handle to a record by index and mark the record busy.</dl><a name="926287"> </a><h4>Prototype </h4><dl><a name="926289"> </a><dt><code>MemHandle DmGetRecord (DmOpenRef&nbsp;dbP, UInt16&nbsp;index)</code></dl></dl><dl><a name="926290"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926291"> </a><CODE>-&gt; <code>dbP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><code>DmOpenRef</code> to open database.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926292"> </a><CODE>-&gt; <code>index</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Which record to retrieve.<br></TD></TR></TABLE></dl><dl><a name="926293"> </a><h4>Result </h4><dl><a name="926294"> </a><p></p><dt>Returns a handle to record data. If another call to <code>DmGetRecord</code> for the same record is attempted before the record is released, <code>NULL</code> is returned and <code><a href="DataAndResourceManager.html#926116"></code>DmGetLastErr<code></a></code> returns an error code indicating the reason for failure.</dl></dl><dl><a name="926299"> </a><h4>Comments </h4><dl><a name="926300"> </a><p></p><dt>Returns a handle to given record and sets the <code>busy</code> bit for the record. <a name="926301"> </a><p></p><dt>If the record is ROM-based (pointer accessed), this routine makes a fake handle to it and stores this handle in the <code>DmAccessType</code> structure.<a name="926306"> </a><p></p><dt><code><a href="DataAndResourceManager.html#926964"></code>DmReleaseRecord<code></a></code> should be called as soon as the caller finishes viewing or editing the record.</dl><a name="926307"> </a><h4>See Also </h4><dl><a name="926317"> </a><p></p><dt><code><a href="DataAndResourceManager.html#927208"></code>DmSearchRecord<code></a></code>, <code><a href="DataAndResourceManager.html#925865"></code>DmFindRecordByID<code></a></code>, <code><a href="DataAndResourceManager.html#926934"></code>DmRecordInfo<code></a></code>, <code><a href="DataAndResourceManager.html#926964"></code>DmReleaseRecord<code></a></code>, <code><a href="DataAndResourceManager.html#926888"></code>DmQueryRecord<code></a></code></dl></dl></dl><a name="926326"> </a><br> <br> <br><h3> DmGetResource</h3><dl><dl><a name="926327"> </a><h4>Purpose </h4><dl><a name="926328"> </a><p></p><dt>Search all open resource databases and return a handle to a resource, given the resource type and ID.</dl><a name="926330"> </a><h4>Prototype </h4><dl><a name="926332"> </a><dt><code>MemHandle DmGetResource (DmResType&nbsp;type, DmResID&nbsp;resID)</code></dl></dl><dl><a name="926333"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926334"> </a><CODE>-&gt; <code>type</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The resource type.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926335"> </a><CODE>-&gt;<code>resID</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The resource ID.<br></TD></TR></TABLE></dl><dl><a name="926336"> </a><h4>Result </h4><dl><a name="926337"> </a><p></p><dt>Handle to resource data. If the specified resource cannot be found, this function returns <code>NULL</code> and <code><a href="DataAndResourceManager.html#926116"></code>DmGetLastErr<code></a></code> returns an error code indicating the reason for failure.</dl></dl><dl><a name="926341"> </a><h4>Comments </h4><dl><a name="926342"> </a><p></p><dt>Searches all open resource databases starting with the most recently opened one for a resource of the given type and ID. If found, the resource handle is returned. The application should call <code><a href="DataAndResourceManager.html#926987"></code>DmReleaseResource<code></a></code> as soon as it finishes accessing the resource data. The resource handle is not locked by this function. <a name="970497"> </a><p></p><dt>This function always returns the resource located in the overlay if any open overlay has a resource matching that type and ID. If there is no overlay version of the resource, this function returns the resource from the base database. </dl><a name="926346"> </a><h4>See Also </h4><dl><a name="926353"> </a><p></p><dt><code><a href="DataAndResourceManager.html#964506"></code>DmGet1Resource<code></a></code>, <code><a href="DataAndResourceManager.html#926987"></code>DmReleaseResource<code></a></code>, <code><a href="MiscUI.html#926305"></code>ResLoadConstant<code></a></code> </dl></dl></dl><a name="926356"> </a><br> <br> <br><h3> DmGetResourceIndex</h3><dl><dl><a name="926357"> </a><h4>Purpose </h4><dl><a name="926358"> </a><p></p><dt>Return a handle to a resource by index.</dl><a name="926359"> </a><h4>Prototype </h4><dl><a name="926361"> </a><dt><code>MemHandle DmGetResourceIndex (DmOpenRef&nbsp;dbP, UInt16&nbsp;index)</code></dl></dl><dl><a name="926362"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926363"> </a><CODE>-&gt; <code>dbP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Access pointer to open database.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926364"> </a><CODE>-&gt; <code>index</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Index of resource to lock down.<br></TD></TR></TABLE></dl><dl><a name="926365"> </a><h4>Result </h4><dl><a name="926366"> </a><p></p><dt>Handle to resource data. If the specified index is out of range, this function returns <code>NULL</code> and <code><a href="DataAndResourceManager.html#926116"></code>DmGetLastErr<code></a></code> returns an error code indicating the reason for failure.<dl><a name="954470"> </a><p></p><dt>May display a fatal error message if the database is not a resource database. <a name="977594"> </a><blockquote><br><hr><br><em><strong>IMPORTANT:  </strong></em>This function accesses the resource only in the database you specify. If you pass a pointer to a base resource database, its overlay is <strong>not</strong> accessed. Therefore, you should use care when using this function to access a potentially localized resource. You can use <code><a href="DataAndResourceManager.html#927232"></code>DmSearchResource<code></a></code> to obtain a pointer to the overlay database if the resource is localized; however, it's more convenient to use <code><a href="DataAndResourceManager.html#926326"></code>DmGetResource<code></a></code> or <code><a href="DataAndResourceManager.html#964506"></code>DmGet1Resource<code></a></code>. <br><hr><br></blockquote></dl></dl></dl><dl><a name="964493"> </a><h4>See Also </h4><dl><a name="964503"> </a><p></p><dt><code><a href="DataAndResourceManager.html#925894"></code>DmFindResource<code></a></code>, <code><a href="DataAndResourceManager.html#925935"></code>DmFindResourceType<code></a></code>, <code><a href="DataAndResourceManager.html#927232"></code>DmSearchResource<code></a></code></dl></dl></dl><a name="964506"> </a><br> <br> <br><h3> DmGet1Resource</h3><dl><dl><a name="926384"> </a><h4>Purpose </h4><dl><a name="926385"> </a><p></p><dt>Search the most recently opened resource database and return a handle to a resource given the resource type and ID.</dl><a name="926386"> </a><h4>Prototype </h4><dl><a name="926388"> </a><dt><code>MemHandle DmGet1Resource (DmResType&nbsp;type, DmResID&nbsp;resID)</code></dl></dl><dl><a name="926389"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926390"> </a><CODE>-&gt; <code>type</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The resource type.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926391"> </a><CODE>-&gt; <code>resID</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The resource ID.<br></TD></TR></TABLE></dl><dl><a name="926392"> </a><h4>Result </h4><dl><a name="926393"> </a><p></p><dt>Handle to resource data. If unsuccessful, this function returns <code>NULL</code> and <code><a href="DataAndResourceManager.html#926116"></code>DmGetLastErr<code></a></code> returns an error code indicating the reason for failure.</dl></dl><dl><a name="926397"> </a><h4>Comments </h4><dl><a name="926398"> </a><p></p><dt>Searches the most recently opened resource database for a resource of the given type and ID. If the database has an overlay associated with it, the overlay is searched first, and then the base database is searched if the overlay does not contain the resource. If found, the resource handle is returned. The application should call <code><a href="DataAndResourceManager.html#926987"></code>DmReleaseResource<code></a></code> as soon as it finishes accessing the resource data. The resource handle is not locked by this function. </dl><a name="926402"> </a><h4>See Also </h4><dl><a name="926409"> </a><p></p><dt><code><a href="DataAndResourceManager.html#926326"></code>DmGetResource<code></a></code>, <code><a href="DataAndResourceManager.html#926987"></code>DmReleaseResource<code></a></code>, <code><a href="MiscUI.html#926305"></code>ResLoadConstant<code></a></code> </dl></dl></dl><a name="926411"> </a><br> <br> <br><h3> DmInsertionSort</h3><dl><dl><a name="926412"> </a><h4>Purpose </h4><dl><a name="926413"> </a><p></p><dt>Sort records in a database. </dl><a name="926414"> </a><h4>Prototype </h4><dl><a name="926416"> </a><dt><code>Err DmInsertionSort (DmOpenRef&nbsp;dbR, DmComparF&nbsp;*compar, Int16&nbsp;other)</code></dl></dl><dl><a name="926417"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926418"> </a><CODE>-&gt; <code>dbR</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Database access pointer.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926422"> </a><CODE>-&gt; <code>compar</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Comparison function. See <code><a href="DataAndResourceManager.html#927497"></code>DmComparF<code></a></code>.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926423"> </a><CODE>-&gt; <code>other</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Any value the application wants to pass to the comparison function.<br></TD></TR></TABLE></dl><dl><a name="926424"> </a><h4>Result </h4><dl><a name="954624"> </a><p></p><dt>Returns <code>errNone</code> if no error, or one of the following if an error occurs: <ul type="SQUARE"><a name="954628"> </a><br><li><a href="DataAndResourceManager.html#925202">dmErrReadOnly</a><br><a name="954636"> </a><br><li><a href="DataAndResourceManager.html#925184">dmErrNotRecordDB</a><br><dl><a name="954645"> </a><p></p><dt>Some releases may display a fatal error message instead of returning the error code. </dl></ul></dl></dl><dl><a name="926426"> </a><h4>Comments </h4><dl><a name="926427"> </a><p></p><dt>Deleted records are placed last in any order. All others are sorted according to the passed comparison function. Only records which are out of order move. Moved records are moved to the end of the range of equal records. If a large number of records are being sorted, try to use the quick sort.<a name="926428"> </a><p></p><dt>The following insertion-sort algorithm is used: Starting with the second record, each record is compared to the preceding record. Each record not greater than the last is inserted into sorted position within those already sorted. A binary insertion is performed. A moved record is inserted after any other equal records.</dl><a name="926429"> </a><h4>See Also </h4><dl><a name="926433"> </a><p></p><dt><code><a href="DataAndResourceManager.html#926904"></code>DmQuickSort<code></a></code> </dl></dl></dl><a name="926435"> </a><br> <br> <br><h3> DmMoveCategory</h3><dl><dl><a name="926436"> </a><h4>Purpose </h4><dl><a name="926438"> </a><p></p><dt>Move all records in a category to another category. </dl><a name="926439"> </a><h4>Prototype </h4><dl><a name="926441"> </a><dt><code>Err DmMoveCategory (DmOpenRef&nbsp;dbP, UInt16&nbsp;toCategory, UInt16&nbsp;fromCategory, Boolean&nbsp;dirty)</code></dl></dl><dl><a name="926442"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926443"> </a><CODE>-&gt; <code>dbP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><code>DmOpenRef</code> to open database.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926444"> </a><CODE>-&gt;<code>toCategory</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Category to which the records should be added.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926445"> </a><CODE>-&gt; <code>fromCategory</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Category from which to remove records.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926446"> </a><CODE>-&gt; <code>dirty</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>If <code>true</code>, set the dirty bit.<br></TD></TR></TABLE></dl><dl><a name="926447"> </a><h4>Result </h4><dl><a name="926448"> </a><p></p><dt>Returns 0 if successful, or <a href="DataAndResourceManager.html#925202">dmErrReadOnly</a> if the database is in read-only mode. Some releases may display a fatal error message instead of returning the error code. </dl></dl><dl><a name="926449"> </a><h4>Comments </h4><dl><a name="926450"> </a><p></p><dt>If <code>dirty</code> is <code>true</code>, the moved records are marked as dirty.<a name="977813"> </a><p></p><dt>The <code>toCategory</code> and <code>fromCategory</code> parameters hold category index values. You can learn which category a record is in with the <code><a href="DataAndResourceManager.html#926934"></code>DmRecordInfo<code></a></code> call and use that value in this function. For example, the following code, ensures that the records rec1 and rec2 are in the same category: </dl></dl><dl><a name="977927"> </a><br><code>DmOpenRef myDB;</code><br></dl><dl><a name="977982"> </a><code>UInt16 rec1, rec2;</code><br><a name="978042"> </a><code>UInt16 rec1Attr, rec2Attr;</code><br><a name="978164"> </a><code>UInt16 category1, category2;</code><br><a name="978197"> </a><code></code><br><a name="977843"> </a><code>DmRecordInfo (myDB, rec1, &amp;rec1Attr, NULL, </code><br><a name="978145"> </a><code>&nbsp&nbsp&nbsp NULL);</code><br><a name="977818"> </a><code>category1 = rec1Attr &amp; dmRecAttrCategoryMask;</code><br><a name="978210"> </a><code>DmRecordInfo(myDB, rec2, &amp;rec2Attr, NULL, </code><br><a name="978223"> </a><code>&nbsp&nbsp&nbsp NULL);</code><br><a name="978236"> </a><code>category2 = rec2Attr &amp; dmRecAttrCategoryMask;</code><br><a name="978242"> </a><code>if (category1 != category2) </code><br><a name="978247"> </a><code>&nbsp&nbsp&nbsp DmMoveCategory(myDB, category1, category2, </code><br><a name="978248"> </a><code>&nbsp&nbsp&nbsp 	 true);</code><br></dl></dl><a name="926453"> </a><br> <br> <br><h3> DmMoveRecord</h3><dl><dl><a name="926454"> </a><h4>Purpose </h4><dl><a name="926455"> </a><p></p><dt>Move a record from one index to another. </dl><a name="926456"> </a><h4>Prototype </h4><dl><a name="926458"> </a><dt><code>Err DmMoveRecord (DmOpenRef&nbsp;dbP, UInt16&nbsp;from, UInt16&nbsp;to)</code></dl></dl><dl><a name="926459"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926460"> </a><CODE>-&gt; <code>dbP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><code>DmOpenRef</code> to open database.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926461"> </a><CODE>-&gt; <code>from</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Index of record to move.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926462"> </a><CODE>-&gt; <code>to</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Where to move the record.<br></TD></TR></TABLE></dl><dl><a name="926463"> </a><h4>Result </h4><dl><a name="954747"> </a><p></p><dt>Returns <code>errNone</code> if no error, or one of the following if an error occurs: <ul type="SQUARE"><a name="954751"> </a><br><li><a href="DataAndResourceManager.html#925202">dmErrReadOnly</a><br><a name="954765"> </a><br><li><a href="DataAndResourceManager.html#925161">dmErrIndexOutOfRange</a><br><a name="954755"> </a><br><li><a href="DataAndResourceManager.html#925184">dmErrNotRecordDB</a><br><a name="954783"> </a><br><li><a href="DataAndResourceManager.html#925176">dmErrMemError</a><br><a name="954787"> </a><br><li><a href="DataAndResourceManager.html#925253">memErrInvalidParam</a><br><a name="954791"> </a><br><li><a href="DataAndResourceManager.html#925248">memErrChunkLocked</a><br><dl><a name="954756"> </a><p></p><dt>Some releases may display a fatal error message instead of returning the error code. </dl></ul></dl></dl><dl><a name="926469"> </a><h4>Comments </h4><dl><a name="988341"> </a><p></p><dt>Insert the record at the <code>to</code> index and move other records down. The <code>to</code> position should be viewed as an insertion position. This value may be one greater than the index of the last record in the database. In cases where <code>to</code> is greater than <code>from</code>, the new index of the record becomes <code>to</code>-1 after the move is complete. </dl></dl></dl><a name="988344"> </a><br> <br> <br><h3> DmNewHandle</h3><dl><dl><a name="926474"> </a><h4>Purpose </h4><dl><a name="926475"> </a><p></p><dt>Attempt to allocate a new chunk in the same data heap or card as the database header of the passed database access pointer. If there is not enough space in that data heap, try other heaps.</dl><a name="926476"> </a><h4>Prototype </h4><dl><a name="926478"> </a><dt><code>MemHandle DmNewHandle (DmOpenRef&nbsp;dbP, UInt32&nbsp;size) </code></dl></dl><dl><a name="926479"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926480"> </a><CODE>-&gt; <code>dbP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><code>DmOpenRef</code> to open database.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926481"> </a><CODE>-&gt; <code>size</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Size of new handle.<br></TD></TR></TABLE></dl><dl><a name="926482"> </a><h4>Result </h4><dl><a name="926483"> </a><p></p><dt>Returns the <code>chunkID</code> of new chunk. If an error occurs, returns 0, and <code><a href="DataAndResourceManager.html#926116"></code>DmGetLastErr<code></a></code> returns an error code indicating the reason for failure. </dl></dl><dl><a name="926484"> </a><h4>Comments </h4><dl><a name="926485"> </a><p></p><dt>Allocates a new handle of the given size. Ensures that the new handle is in the same memory card as the given database. This guarantees that you can attach the handle to the database as a record to obtain and save its <code>LocalID</code> in the <code>appInfoID</code> or <code>sortInfoID</code> fields of the header.<a name="926486"> </a><p></p><dt>The handle should be attached to a database as soon as possible. If it is not attached to a database and the application crashes, the memory used by the new handle is unavailable until the next soft reset. </dl></dl></dl><a name="926489"> </a><br> <br> <br><h3> DmNewRecord</h3><dl><dl><a name="926490"> </a><h4>Purpose </h4><dl><a name="926491"> </a><p></p><dt>Return a handle to a new record in the database and mark the record busy.</dl><a name="926492"> </a><h4>Prototype </h4><dl><a name="926494"> </a><dt><code>MemHandle DmNewRecord (DmOpenRef&nbsp;dbP, UInt16*&nbsp;atP, UInt32&nbsp;size)</code></dl></dl><dl><a name="926495"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926496"> </a><CODE>-&gt; <code>dbP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><code>DmOpenRef</code> to open database.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926497"> </a><CODE>&lt;-&gt; <code>atP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to index where new record should be placed. Specify the value <code>dmMaxRecordIndex</code> to add the record to the end of the database. <br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926499"> </a><CODE>-&gt; <code>size</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Size of new record.<br></TD></TR></TABLE></dl><dl><a name="926500"> </a><h4>Result </h4><dl><a name="926501"> </a><p></p><dt>Handle to record data. If an error occurs, this function returns 0 and <code><a href="DataAndResourceManager.html#926116"></code>DmGetLastErr<code></a></code> returns an error code indicating the reason for failure. <dl><a name="957095"> </a><p></p><dt>Some releases may display a fatal error message if the database is opened in read-only mode or it is a resource database. </dl></dl></dl><dl><a name="926506"> </a><h4>Comments </h4><dl><a name="926507"> </a><p></p><dt>Allocates a new record of the given size, and returns a handle to the record data. The parameter <code>atP</code> points to an index variable. The new record is inserted at index <code>*atP</code> and all record indices that follow are shifted down. If <code>*atP</code> is greater than the number of records currently in the database, the new record is appended to the end and its index is returned in <code>*atP</code>. <a name="926508"> </a><p></p><dt>Both the <code>busy</code> and <code>dirty</code> bits are set for the new record and a unique ID is automatically created. <a name="926513"> </a><p></p><dt><code><a href="DataAndResourceManager.html#926964"></code>DmReleaseRecord<code></a></code> should be called as soon as the caller finishes viewing or editing the record.</dl><a name="926514"> </a><h4>See Also </h4><dl><a name="926524"> </a><p></p><dt><code><a href="DataAndResourceManager.html#925300"></code>DmAttachRecord<code></a></code>, <code><a href="DataAndResourceManager.html#927011"></code>DmRemoveRecord<code></a></code>, <code><a href="DataAndResourceManager.html#925735"></code>DmDeleteRecord<code></a></code></dl></dl></dl><a name="926527"> </a><br> <br> <br><h3> DmNewResource</h3><dl><dl><a name="926528"> </a><h4>Purpose </h4><dl><a name="926529"> </a><p></p><dt>Allocate and add a new resource to a resource database.</dl><a name="926530"> </a><h4>Prototype </h4><dl><a name="926532"> </a><dt><code>MemHandle DmNewResource (DmOpenRef&nbsp;dbP, DmResType&nbsp;resType, DmResID&nbsp;resID, UInt32&nbsp;size)</code></dl></dl><dl><a name="926533"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926534"> </a><CODE>-&gt; <code>dbP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><code>DmOpenRef</code> to open database.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926535"> </a><CODE>-&gt; <code>resType</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Type of the new resource.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926536"> </a><CODE>-&gt; <code>resID</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>ID of the new resource.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926537"> </a><CODE>-&gt; <code>size</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Desired size of the new resource.<br></TD></TR></TABLE></dl><dl><a name="926538"> </a><h4>Result </h4><dl><a name="926539"> </a><p></p><dt>Returns a handle to the new resource. If an error occurs, this function returns <code>NULL</code> and <code><a href="DataAndResourceManager.html#926116"></code>DmGetLastErr<code></a></code> returns an error code indicating the reason for failure.<dl><a name="957158"> </a><p></p><dt>May display a fatal error message if the database is not a resource database. </dl></dl></dl><dl><a name="926543"> </a><h4>Comments </h4><dl><a name="926544"> </a><p></p><dt>Allocates a memory chunk for a new resource and adds it to the given resource database. The new resource has the given type and ID. If successful, the application should call <code><a href="DataAndResourceManager.html#926987"></code>DmReleaseResource<code></a></code> as soon as it finishes initializing the resource.</dl><a name="926549"> </a><h4>See Also </h4><dl><a name="926556"> </a><p></p><dt><code><a href="DataAndResourceManager.html#925347"></code>DmAttachResource<code></a></code>, <code><a href="DataAndResourceManager.html#927044"></code>DmRemoveResource<code></a></code></dl></dl></dl><a name="926559"> </a><br> <br> <br><h3> DmNextOpenDatabase</h3><dl><dl><a name="926560"> </a><h4>Purpose </h4><dl><a name="926561"> </a><p></p><dt>Return <code>DmOpenRef</code> to next open database for the current task.</dl><a name="926562"> </a><h4>Prototype </h4><dl><a name="926564"> </a><dt><code>DmOpenRef DmNextOpenDatabase (DmOpenRef&nbsp;currentP)</code></dl></dl><dl><a name="926565"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926566"> </a><CODE>-&gt; <code>currentP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Current database access pointer or <code>NULL</code>.<br></TD></TR></TABLE></dl><dl><a name="926567"> </a><h4>Result </h4><dl><a name="926568"> </a><p></p><dt><code>DmOpenRef</code> to next open database, or <code>NULL</code> if there are no more.</dl></dl><dl><a name="926569"> </a><h4>Comments </h4><dl><a name="926570"> </a><p></p><dt>Call this routine successively to get the <code>DmOpenRefs</code> of all open databases. Pass <code>NULL</code> for <code>currentP</code> to get the first one. Applications don't usually call this function, but is useful for system information.</dl><a name="926571"> </a><h4>See Also </h4><dl><a name="926578"> </a><p></p><dt><code><a href="DataAndResourceManager.html#926795"></code>DmOpenDatabaseInfo<code></a></code>, <code><a href="DataAndResourceManager.html#925528"></code>DmDatabaseInfo<code></a></code></dl></dl></dl><a name="926581"> </a><br> <br> <br><h3> DmNextOpenResDatabase</h3><dl><dl><a name="926582"> </a><h4>Purpose </h4><dl><a name="926583"> </a><p></p><dt>Return access pointer to next open resource database in the search chain.</dl><a name="926584"> </a><h4>Prototype </h4><dl><a name="926586"> </a><dt><code>DmOpenRef DmNextOpenResDatabase (DmOpenRef&nbsp;dbP) </code></dl></dl><dl><a name="926587"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926588"> </a><CODE>-&gt; <code>dbP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Database reference, or 0 to start search from the top.<br></TD></TR></TABLE></dl><dl><a name="926589"> </a><h4>Result </h4><dl><a name="926590"> </a><p></p><dt>Pointer to next open resource database.</dl></dl><dl><a name="926591"> </a><h4>Comments </h4><dl><a name="926592"> </a><p></p><dt>Returns pointer to next open resource database. To get a pointer to the first one in the search chain, pass <code>NULL</code> for <code>dbP</code>. This is the database that is searched when <code><a href="DataAndResourceManager.html#964506"></code>DmGet1Resource<code></a></code> is called. <a name="980057"> </a><p></p><dt>If you use this function to access a resource database that might have an overlay associated with it, be careful how you use the result. The <code>DmOpenRef</code> returned by this function is a pointer to the overlay database, not the base database. If you subsequently pass this pointer to <code><a href="DataAndResourceManager.html#925894"></code>DmFindResource<code></a></code>, you'll receive a handle to the overlaid resource. If you're searching for a resource that is found only in the base, you won't find it. Instead, always use <code><a href="DataAndResourceManager.html#926326"></code>DmGetResource<code></a></code> or <code><a href="DataAndResourceManager.html#964506"></code>DmGet1Resource<code></a></code> to obtain a resource. Both of those functions search both the overlay databases and their associated base databases. </dl></dl></dl><a name="926599"> </a><br> <br> <br><h3> DmNumDatabases</h3><dl><dl><a name="926600"> </a><h4>Purpose </h4><dl><a name="926601"> </a><p></p><dt>Determine how many databases reside on a memory card.</dl><a name="926602"> </a><h4>Prototype </h4><dl><a name="926604"> </a><dt><code>UInt16 DmNumDatabases (UInt16&nbsp;cardNo)</code></dl></dl><dl><a name="926605"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926606"> </a><CODE>-&gt; <code>cardNo</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Number of the card to check. <br></TD></TR></TABLE></dl><dl><a name="926607"> </a><h4>Result </h4><dl><a name="926608"> </a><p></p><dt>The number of databases found.</dl></dl><dl><a name="926609"> </a><h4>Comments </h4><dl><a name="926610"> </a><p></p><dt>This routine is helpful for getting a directory of all databases on a card. The routine <code><a href="DataAndResourceManager.html#926063"></code>DmGetDatabase<code></a></code> accepts an index from 0 to <code><a href="DataAndResourceManager.html#926599"></code>DmNumDatabases<code></a></code> -1 and returns a database ID by index.</dl><a name="926617"> </a><h4>See Also </h4><dl><a name="926621"> </a><p></p><dt><code><a href="DataAndResourceManager.html#926063"></code>DmGetDatabase<code></a></code> </dl></dl></dl><a name="926624"> </a><br> <br> <br><h3> DmNumRecords</h3><dl><dl><a name="926625"> </a><h4>Purpose </h4><dl><a name="926626"> </a><p></p><dt>Return the number of records in a database.</dl><a name="926627"> </a><h4>Prototype </h4><dl><a name="926629"> </a><dt><code>UInt16 DmNumRecords (DmOpenRef&nbsp;dbP)</code></dl></dl><dl><a name="926630"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926631"> </a><CODE>-&gt; <code>dbP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><code>DmOpenRef</code> to open database.<br></TD></TR></TABLE></dl><dl><a name="926632"> </a><h4>Result </h4><dl><a name="926633"> </a><p></p><dt>The number of records in a database.</dl></dl><dl><a name="963200"> </a><h4>Comments </h4><dl><a name="963261"> </a><p></p><dt>Records that have that have the <code>deleted</code> bit set (that is, records that will be deleted during the next synchronization because the user has marked them deleted) are included in the count. If you want to exclude these records from your count, use <code><a href="DataAndResourceManager.html#926646"></code>DmNumRecordsInCategory<code></a></code> and pass <code>dmAllCategories</code> as the category.</dl><a name="926634"> </a><h4>See Also </h4><dl><a name="926644"> </a><p></p><dt><code><a href="DataAndResourceManager.html#926646"></code>DmNumRecordsInCategory<code></a></code>, <code><a href="DataAndResourceManager.html#926934"></code>DmRecordInfo<code></a></code>, <code><a href="DataAndResourceManager.html#927381"></code>DmSetRecordInfo<code></a></code></dl></dl></dl><a name="926646"> </a><br> <br> <br><h3> DmNumRecordsInCategory</h3><dl><dl><a name="926647"> </a><h4>Purpose </h4><dl><a name="926648"> </a><p></p><dt>Return the number of records of a specified category in a database. </dl><a name="926649"> </a><h4>Prototype </h4><dl><a name="926651"> </a><dt><code>UInt16 DmNumRecordsInCategory (DmOpenRef&nbsp;dbP, UInt16&nbsp;category)</code></dl></dl><dl><a name="926652"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926653"> </a><CODE>-&gt; <code>dbP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><code>DmOpenRef</code> to open database.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926654"> </a><CODE>-&gt; <code>category</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Category index.<br></TD></TR></TABLE></dl><dl><a name="926655"> </a><h4>Result </h4><dl><a name="926656"> </a><p></p><dt>The number of records in the category.</dl></dl><dl><a name="926657"> </a><h4>Comments </h4><dl><a name="926658"> </a><p></p><dt>Because this function must examine all records in the database, it can be slow to return, especially when called on a large database.<a name="963143"> </a><p></p><dt>Records that have the <code>deleted</code> bit set are not counted, and if the user has specified to hide or mask private records, private records are not counted either. <a name="980552"> </a><p></p><dt>You can use the <code><a href="DataAndResourceManager.html#926934"></code>DmRecordInfo<code></a></code> call to obtain a category index from a given record. For example: </dl></dl><dl><a name="980568"> </a><br><code>DmOpenRef myDB;</code><br></dl><dl><a name="980651"> </a><code>UInt16 record, attr, category, total;</code><br><a name="980652"> </a><code></code><br><a name="980660"> </a><code>DmRecordInfo(myDB, record, &amp;attr, NULL, NULL);</code><br><a name="980670"> </a><code>category = attr &amp; dmRecAttrCategoryMask;</code><br><a name="980683"> </a><code>total = DmNumRecordsInCategory(myDB, category);</code><br></dl><dl><a name="926659"> </a><h4>See Also </h4><dl><a name="926666"> </a><p></p><dt><code><a href="DataAndResourceManager.html#926624"></code>DmNumRecords<code></a></code>, <code><a href="DataAndResourceManager.html#926854"></code>DmQueryNextInCategory<code></a></code>, <code><a href="DataAndResourceManager.html#926822"></code>DmPositionInCategory<code></a></code>, <code><a href="DataAndResourceManager.html#927265"></code>DmSeekRecordInCategory<code></a></code>, <code><a href="DataAndResourceManager.html#926435"></code>DmMoveCategory<code></a></code></dl></dl></dl><a name="926678"> </a><br> <br> <br><h3> DmNumResources</h3><dl><dl><a name="926679"> </a><h4>Purpose </h4><dl><a name="926680"> </a><p></p><dt>Return the total number of resources in a given resource database.</dl><a name="926681"> </a><h4>Prototype </h4><dl><a name="926683"> </a><dt><code>UInt16 DmNumResources (DmOpenRef&nbsp;dbP)</code></dl></dl><dl><a name="926684"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926685"> </a><CODE>-&gt; <code>dbP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><code>DmOpenRef</code> to open database.<br></TD></TR></TABLE></dl><dl><a name="926686"> </a><h4>Result </h4><dl><a name="926687"> </a><p></p><dt>The total number of resources in the given database.<dl><a name="926688"> </a><p></p><dt>May display a fatal error message if the database is not a resource database. </dl></dl></dl><dl><a name="986474"> </a><h4>Comments </h4><dl><a name="986481"> </a><p></p><dt><code>DmNumResources</code> only counts the resources in the database indicated by the <code>DmOpenRef</code> parameter. If the database is a resource database that has an overlay associated with it, this function only returns the number of resources in the base database, not in the overlay. </dl></dl></dl><a name="926691"> </a><br> <br> <br><h3> DmOpenDatabase</h3><dl><dl><a name="926692"> </a><h4>Purpose </h4><dl><a name="926693"> </a><p></p><dt>Open a database and return a reference to it. If the database is a resource database, also open its overlay for the current locale. </dl><a name="926694"> </a><h4>Prototype </h4><dl><a name="926696"> </a><dt><code>DmOpenRef DmOpenDatabase (UInt16&nbsp;cardNo, LocalID&nbsp;dbID, UInt16&nbsp;mode)</code></dl></dl><dl><a name="926697"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926698"> </a><CODE>-&gt; <code>cardNo</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Card number database resides on.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926699"> </a><CODE>-&gt; <code>dbID</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The database ID of the database.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926700"> </a><CODE>-&gt; <code>mode</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Which mode to open database in (see <a href="DataAndResourceManager.html#957587">"Open Mode Constants"</a>).<br></TD></TR></TABLE></dl><dl><a name="926701"> </a><h4>Result </h4><dl><a name="926702"> </a><p></p><dt>Returns <code>DmOpenRef</code> to open database. May display a fatal error message if the database parameter is <code>NULL</code>. On all other errors, this function returns 0 and <code><a href="DataAndResourceManager.html#926116"></code>DmGetLastErr<code></a></code> returns an error code indicating the reason for failure.</dl></dl><dl><a name="926706"> </a><h4>Comments </h4><dl><a name="926707"> </a><p></p><dt>Call this routine to open a database for reading or writing. <a name="980745"> </a><p></p><dt>This routine returns a <code>DmOpenRef</code> which must be used to access particular records in a database. If unsuccessful, 0 is returned and the cause of the error can be determined by calling <code><a href="DataAndResourceManager.html#926116"></code>DmGetLastErr<code></a></code>.<a name="959010"> </a><p></p><dt>When you use this routine to open a resource database in read-only mode, it also opens the overlay associated with this database for the current locale, if it exists. (The function <code><a href="OverlayMgr.html#993255"></code>OmGetCurrentLocale<code></a></code> returns the current locale.) Overlays are resource databases typically used to localize applications, shared libraries, and panels. They have the same creator as the base database, a type of <code>'ovly'</code> (symbolically named <code>omOverlayDBType</code>), and contain resources with the same IDs and types as the resources in the base database. When you request a resource from the database using <code><a href="DataAndResourceManager.html#926326"></code>DmGetResource<code></a></code> or <code><a href="DataAndResourceManager.html#964506"></code>DmGet1Resource<code></a></code>, the overlay is searched first. If the overlay contains a resource for the given ID, it is returned. If not, the resource from the base database is returned. <a name="965488"> </a><p></p><dt>The <code>DmOpenRef</code> returned by this function is the pointer to the base database, not to the overlay database, so care should be taken when passing this pointer to functions such as <code><a href="DataAndResourceManager.html#925894"></code>DmFindResource<code></a></code> because this circumvents the overlay. <a name="965514"> </a><p></p><dt>It's possible to create a "stripped" base resource database, one that does not contain any user interface resources. <code>DmOpenDatabase</code> only opens a stripped database if its corresponding overlay exists. If the overlay does not exist or if the overlay doesn't match the resource database, <code>DmOpenDatabase</code> returns <code>NULL</code> and <code><a href="DataAndResourceManager.html#926116"></code>DmGetLastErr<code></a></code> returns the error code <a href="DataAndResourceManager.html#959272">omErrBaseRequiresOverlay</a>.<a name="986885"> </a><p></p><dt>If you open a resource database in a writable mode, the associated overlay is not opened. If you make changes to the resource database, the overlay database is invalidated if those changes affect any resources that are also in the overlay. This means that on future occasions where you open the resource database in read-only mode, the overlay will not be opened because Palm OS considers it to be invalid. <a name="966118"> </a><blockquote><br><hr><br><em>TIP:  </em>If you want to prevent your resource database from being overlaid, include an <code>'xprf'</code> resource (symbolically named <code>sysResTExtPrefs</code>) in the database with the ID 0 (<code>sysResIDExtPrefs</code>) and set its <code>disableOverlays</code> flag. This resource is defined in <code>UIResources.r</code>. <br><hr><br></blockquote></dl><a name="959534"> </a><h4>Compatibility </h4><dl><a name="959535"> </a><p></p><dt>Overlay support is only available if <a href="CompatibilityApdx.html#486514">3.5 New Feature Set</a> is present. On earlier releases, this function opens resource databases without looking for an associated overlay. </dl><a name="926744"> </a><h4>See Also </h4><dl><a name="926754"> </a><p></p><dt><code><a href="DataAndResourceManager.html#925393"></code>DmCloseDatabase<code></a></code>, <code><a href="DataAndResourceManager.html#925437"></code>DmCreateDatabase<code></a></code>, <code><a href="DataAndResourceManager.html#925838"></code>DmFindDatabase<code></a></code>, <code><a href="DataAndResourceManager.html#926762"></code>DmOpenDatabaseByTypeCreator<code></a></code>, <code><a href="DataAndResourceManager.html#988040"></code>DmDeleteDatabase<code></a></code>, <code><a href="DataAndResourceManager.html#957202"></code>DmOpenDBNoOverlay<code></a></code> </dl></dl></dl><a name="926762"> </a><br> <br> <br><h3> DmOpenDatabaseByTypeCreator</h3><dl><dl><a name="926763"> </a><h4>Purpose </h4><dl><a name="926764"> </a><p></p><dt>Open the most recent revision of a database with the given type and creator. If the database is a resource database, also open its overlay for the current locale. </dl><a name="926765"> </a><h4>Prototype </h4><dl><a name="926767"> </a><dt><code>DmOpenRef DmOpenDatabaseByTypeCreator (UInt32&nbsp;type, UInt32&nbsp;creator, UInt16&nbsp;mode)</code></dl></dl><dl><a name="926768"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926769"> </a><CODE>-&gt; <code>type</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Type of database.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926770"> </a><CODE>-&gt; <code>creator</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Creator of database.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="959883"> </a><CODE>-&gt; <code>mode</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Which mode to open database in (see <a href="DataAndResourceManager.html#957587">"Open Mode Constants"</a>).<br></TD></TR></TABLE></dl><dl><a name="926775"> </a><h4>Result </h4><dl><a name="926776"> </a><p></p><dt><code>DmOpenRef</code> to open database. If the database couldn't be found, this function returns 0 and <code><a href="DataAndResourceManager.html#926116"></code>DmGetLastErr<code></a></code> returns an error code indicating the reason for failure.</dl></dl><dl><a name="966821"> </a><h4>Comments </h4><dl><a name="966854"> </a><p></p><dt>If you use this routine to open a resource database in read-only mode, it also opens the overlay associated with this database for the current locale. See <code><a href="DataAndResourceManager.html#926691"></code>DmOpenDatabase<code></a></code> for more information on overlays and resource databases. </dl><a name="980766"> </a><h4>Compatibility </h4><dl><a name="980770"> </a><p></p><dt>Overlay support is only available if <a href="CompatibilityApdx.html#486514">3.5 New Feature Set</a> is present. On earlier releases, this function opens resource databases without looking for an associated overlay. </dl><a name="926780"> </a><h4>See Also </h4><dl><a name="926790"> </a><p></p><dt><code><a href="DataAndResourceManager.html#925437"></code>DmCreateDatabase<code></a></code>, <code><a href="DataAndResourceManager.html#926691"></code>DmOpenDatabase<code></a></code>, <code><a href="DataAndResourceManager.html#926795"></code>DmOpenDatabaseInfo<code></a></code>, <code><a href="DataAndResourceManager.html#925393"></code>DmCloseDatabase<code></a></code>, <code><a href="DataAndResourceManager.html#957202"></code>DmOpenDBNoOverlay<code></a></code> </dl></dl></dl><a name="926795"> </a><br> <br> <br><h3> DmOpenDatabaseInfo</h3><dl><dl><a name="926796"> </a><h4>Purpose </h4><dl><a name="926797"> </a><p></p><dt>Retrieve information about an open database.</dl><a name="926798"> </a><h4>Prototype </h4><dl><a name="926800"> </a><dt><code>Err DmOpenDatabaseInfo (DmOpenRef&nbsp;dbP, LocalID*&nbsp;dbIDP, UInt16*&nbsp;openCountP, UInt16*&nbsp;modeP, UInt16*&nbsp;cardNoP, Boolean*&nbsp;resDBP)</code></dl></dl><dl><a name="926801"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926802"> </a><CODE>-&gt; <code>dbP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><code>DmOpenRef</code> to open database.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926803"> </a><CODE>&lt;- <code>dbIDP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The ID of the database. Pass <code>NULL</code> for this parameter if you don't want to retrieve this information.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926804"> </a><CODE>&lt;- <code>openCountP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The number of applications that have this database open. Pass <code>NULL</code> for this parameter if you don't want to retrieve this information.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926805"> </a><CODE>&lt;- <code>modeP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The mode used to open the database (see <a href="DataAndResourceManager.html#957587">"Open Mode Constants"</a>). Pass <code>NULL</code> for this parameter if you don't want to retrieve this information.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926809"> </a><CODE>&lt;- <code>cardNoP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The number of the card on which this database resides. Pass <code>NULL</code> for this parameter if you don't want to retrieve this information.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926810"> </a><CODE>&lt;- <code>resDBP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>If <code>true</code> upon return, the database is a resource database, <code>false</code> otherwise. Pass <code>NULL</code> for this parameter if you don't want to retrieve this information.<br></TD></TR></TABLE></dl><dl><a name="926811"> </a><h4>Result </h4><dl><a name="926815"> </a><p></p><dt>Returns <code>errNone</code> if no error. </dl></dl><dl><a name="926816"> </a><h4>See Also </h4><dl><a name="926820"> </a><p></p><dt><code><a href="DataAndResourceManager.html#925528"></code>DmDatabaseInfo<code></a></code> </dl></dl></dl><a name="957202"> </a><br> <br> <br><h3> DmOpenDBNoOverlay</h3><dl><dl><a name="957203"> </a><h4>Purpose </h4><dl><a name="957204"> </a><p></p><dt>Open a database and return a reference to it.</dl><a name="957205"> </a><h4>Prototype </h4><dl><a name="957207"> </a><dt><code>DmOpenRef DmOpenDBNoOverlay (UInt16&nbsp;cardNo, LocalID&nbsp;dbID, UInt16&nbsp;mode)</code></dl></dl><dl><a name="957208"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="957209"> </a><CODE>-&gt; <code>cardNo</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Card number database resides on.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="957210"> </a><CODE>-&gt; <code>dbID</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The database ID of the database.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="957211"> </a><CODE>-&gt; <code>mode</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Which mode to open database in (see <a href="DataAndResourceManager.html#957587">"Open Mode Constants"</a>). <br></TD></TR></TABLE></dl><dl><a name="957212"> </a><h4>Result </h4><dl><a name="957213"> </a><p></p><dt><code>DmOpenRef</code> to open database. May display a fatal error message if the database parameter is <code>NULL</code>. On all other errors, this function returns 0 and <code><a href="DataAndResourceManager.html#926116"></code>DmGetLastErr<code></a></code> returns an error code indicating the reason for failure.</dl></dl><dl><a name="957217"> </a><h4>Comments </h4><dl><a name="957218"> </a><p></p><dt>Call this routine to open a database for reading or writing, while ignoring any overlay databases that might be associated with it. <a name="959009"> </a><p></p><dt>This routine returns a <code>DmOpenRef</code> which must be used to access particular records in a database. If unsuccessful, 0 is returned and the cause of the error can be determined by calling <code><a href="DataAndResourceManager.html#926116"></code>DmGetLastErr<code></a></code>.</dl><a name="957411"> </a><h4>Compatibility </h4><dl><a name="957501"> </a><p></p><dt>Implemented only if <a href="CompatibilityApdx.html#486514">3.5 New Feature Set</a> is present. </dl><a name="957255"> </a><h4>See Also </h4><dl><a name="957265"> </a><p></p><dt><code><a href="DataAndResourceManager.html#925393"></code>DmCloseDatabase<code></a></code>, <code><a href="DataAndResourceManager.html#925437"></code>DmCreateDatabase<code></a></code>, <code><a href="DataAndResourceManager.html#925838"></code>DmFindDatabase<code></a></code>, <code><a href="DataAndResourceManager.html#926762"></code>DmOpenDatabaseByTypeCreator<code></a></code>, <code><a href="DataAndResourceManager.html#988040"></code>DmDeleteDatabase<code></a></code>, <code><a href="DataAndResourceManager.html#926691"></code>DmOpenDatabase<code></a></code> </dl></dl></dl><a name="926822"> </a><br> <br> <br><h3> DmPositionInCategory</h3><dl><dl><a name="926823"> </a><h4>Purpose </h4><dl><a name="926824"> </a><p></p><dt>Return a position of a record within the specified category. </dl><a name="926825"> </a><h4>Prototype </h4><dl><a name="926827"> </a><dt><code>UInt16 DmPositionInCategory (DmOpenRef&nbsp;dbP, UInt16&nbsp;index, UInt16&nbsp;category) </code></dl></dl><dl><a name="926828"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926829"> </a><CODE>-&gt; <code>dbP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><code>DmOpenRef</code> to open database.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926830"> </a><CODE>-&gt; <code>index</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Index of the record.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926831"> </a><CODE>-&gt; <code>category</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Index of category to search.<br></TD></TR></TABLE></dl><dl><a name="926832"> </a><h4>Result </h4><dl><a name="989630"> </a><p></p><dt>Returns the position (zero-based). If the specified index is out of range, this function returns 0 and <code><a href="DataAndResourceManager.html#926116"></code>DmGetLastErr<code></a></code> returns an error code indicating the reason for failure. Note that this means a 0 return value might indicate either success or failure. If this function returns 0 and <code>DmGetLastErr</code> returns <code>errNone</code>, the return value indicates that this is the first record in the category. </dl></dl><dl><a name="926837"> </a><h4>Comments </h4><dl><a name="926838"> </a><p></p><dt>Because this function must examine all records up to the current record, it can be slow to return, especially when called on a large database.<a name="926841"> </a><p></p><dt>If the record is ROM-based (pointer accessed) this routine makes a fake handle to it and stores this handle in the <code>DmAccessType</code> structure.<a name="980929"> </a><p></p><dt>To learn which category a record is in, use <code><a href="DataAndResourceManager.html#926934"></code>DmRecordInfo<code></a></code>. </dl><a name="926842"> </a><h4>See Also </h4><dl><a name="926849"> </a><p></p><dt><code><a href="DataAndResourceManager.html#926854"></code>DmQueryNextInCategory<code></a></code>, <code><a href="DataAndResourceManager.html#927265"></code>DmSeekRecordInCategory<code></a></code>, <code><a href="DataAndResourceManager.html#926435"></code>DmMoveCategory<code></a></code></dl></dl></dl><a name="926854"> </a><br> <br> <br><h3> DmQueryNextInCategory</h3><dl><dl><a name="926855"> </a><h4>Purpose </h4><dl><a name="926856"> </a><p></p><dt>Return a handle to the next record in the specified category for reading only (does not set the <code>busy</code> bit).</dl><a name="926858"> </a><h4>Prototype </h4><dl><a name="926860"> </a><dt><code>MemHandle DmQueryNextInCategory (DmOpenRef&nbsp;dbP, UInt16*&nbsp;indexP, UInt16&nbsp;category)</code></dl></dl><dl><a name="926861"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926862"> </a><CODE>-&gt; <code>dbP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><code>DmOpenRef</code> to open database. <br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926863"> </a><CODE>-&gt; <code>indexP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Index of a known record (often retrieved with <code><a href="DataAndResourceManager.html#926822"></code>DmPositionInCategory<code></a></code>).<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926867"> </a><CODE>-&gt; <code>category</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Index of category to query, or <code>dmAllCategories</code> to find the next record in any category. <br></TD></TR></TABLE></dl><dl><a name="926868"> </a><h4>Result </h4><dl><a name="926869"> </a><p></p><dt>Returns a handle to the record following a known record. If a record couldn't be found, this function returns <code>NULL</code>, and <code><a href="DataAndResourceManager.html#926116"></code>DmGetLastErr<code></a></code> returns an error code indicating the reason for failure. </dl></dl><dl><a name="926873"> </a><h4>Comments </h4><dl><a name="926874"> </a><p></p><dt>This function begins searching the database from the record at <code>*indexP</code> for a record that is in the specified category. If the record at <code>*indexP</code> belongs to that category, then a handle to it is returned. If not, the function continues searching until it finds a record in the category. <a name="926875"> </a><p></p><dt>Thus, if you want to find the next record in the category after the one you have an index for, increment the index value before calling this function. For example: </dl></dl><dl><a name="982036"> </a><br><code>DmOpenRef myDB;</code><br></dl><dl><a name="982037"> </a><code>UInt16 record, attr, category, pos;</code><br><a name="982050"> </a><code>MemHandle newRecH;</code><br><a name="982038"> </a><code></code><br><a name="982039"> </a><code>DmRecordInfo(myDB, record, &amp;attr, NULL, NULL);</code><br><a name="982040"> </a><code>category = attr &amp; dmRecAttrCategoryMask;</code><br><a name="982041"> </a><code>pos = DmPositionInCategory(myDB, record, </code><br><a name="982042"> </a><code>&nbsp&nbsp&nbsp category);</code><br><a name="982170"> </a><code>pos++;</code><br><a name="982055"> </a><code>newRecH = DmQueryNextInCategory(myDB, &amp;pos, category);</code><br></dl><dl><a name="926876"> </a><h4>See Also </h4><dl><a name="926883"> </a><p></p><dt><code><a href="DataAndResourceManager.html#926646"></code>DmNumRecordsInCategory<code></a></code>, <code><a href="DataAndResourceManager.html#926822"></code>DmPositionInCategory<code></a></code>, <code><a href="DataAndResourceManager.html#927265"></code>DmSeekRecordInCategory<code></a></code> </dl></dl></dl><a name="926888"> </a><br> <br> <br><h3> DmQueryRecord</h3><dl><dl><a name="926889"> </a><h4>Purpose </h4><dl><a name="926890"> </a><p></p><dt>Return a handle to a record for reading only (does not set the <code>busy</code> bit).</dl><a name="926891"> </a><h4>Prototype </h4><dl><a name="926893"> </a><dt><code>MemHandle DmQueryRecord (DmOpenRef&nbsp;dbP, UInt16&nbsp;index)</code></dl></dl><dl><a name="926894"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926895"> </a><CODE>-&gt; <code>dbP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><code>DmOpenRef</code> to open database.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926896"> </a><CODE>-&gt; <code>index</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Which record to retrieve.<br></TD></TR></TABLE></dl><dl><a name="926897"> </a><h4>Result </h4><dl><a name="960786"> </a><p></p><dt>Returns a record handle. If an error occurs, this function returns <code>NULL</code>, and <code><a href="DataAndResourceManager.html#926116"></code>DmGetLastErr<code></a></code> returns an error code indicating the reason for failure. <a name="960815"> </a><p></p><dt>Some releases may display a fatal error message if the specified index is out of range. </dl></dl><dl><a name="926899"> </a><h4>Comments </h4><dl><a name="926900"> </a><p></p><dt>Returns a handle to the given record. Use this routine only when viewing the record. This routine successfully returns a handle to the record even if the record is busy.<a name="926902"> </a><p></p><dt>If the record is ROM-based (pointer accessed) this routine returns the fake handle to it.</dl></dl></dl><a name="926904"> </a><br> <br> <br><h3> DmQuickSort</h3><dl><dl><a name="926905"> </a><h4>Purpose </h4><dl><a name="926906"> </a><p></p><dt>Sort records in a database. </dl><a name="926907"> </a><h4>Prototype </h4><dl><a name="926909"> </a><dt><code>Err DmQuickSort (DmOpenRef&nbsp;dbP, DmComparF&nbsp;*compar, Int16&nbsp;other)</code></dl></dl><dl><a name="926910"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926911"> </a><CODE>-&gt; <code>dbP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Database access pointer.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926915"> </a><CODE>-&gt; <code>compar</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Comparison function. See <code><a href="DataAndResourceManager.html#927497"></code>DmComparF<code></a></code>.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926916"> </a><CODE>-&gt; <code>other</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Any value the application wants to pass to the comparison function.<br></TD></TR></TABLE></dl><dl><a name="926917"> </a><h4>Result </h4><dl><a name="926918"> </a><p></p><dt>Returns <code>errNone</code> if no error, or one of the following if an error occurs:<ul type="SQUARE"><a name="961562"> </a><br><li><a href="DataAndResourceManager.html#925202">dmErrReadOnly</a><br><a name="961570"> </a><br><li><a href="DataAndResourceManager.html#925184">dmErrNotRecordDB</a><br><dl><a name="960870"> </a><p></p><dt>Some releases may display a fatal error message instead of returning the error code. </dl></ul></dl></dl><dl><a name="926919"> </a><h4>Comments </h4><dl><a name="926920"> </a><p></p><dt>Deleted records are placed last in any order. All others are sorted according to the passed comparison function.<a name="926921"> </a><p></p><dt>After <code>DmQuickSort</code> returns, equal database records do not have a consistent order. That is, if <code>DmQuickSort</code> is passed two equal records, their resulting order is unpredictable. To prevent records that contain the same data from being rearranged in an unpredictable order, pass the record's unique ID to the comparison function (using the <code><a href="DataAndResourceManager.html#924939"></code>SortRecordInfoType<code></a></code> structure). </dl><a name="926925"> </a><h4>See Also </h4><dl><a name="926932"> </a><p></p><dt><code><a href="DataAndResourceManager.html#926011"></code>DmFindSortPositionV10<code></a></code>, <code><a href="DataAndResourceManager.html#926411"></code>DmInsertionSort<code></a></code></dl></dl></dl><a name="926934"> </a><br> <br> <br><h3> DmRecordInfo</h3><dl><dl><a name="926935"> </a><h4>Purpose </h4><dl><a name="926937"> </a><p></p><dt>Retrieve the record information as stored in the database header.</dl><a name="926938"> </a><h4>Prototype </h4><dl><a name="926940"> </a><dt><code>Err DmRecordInfo (DmOpenRef&nbsp;dbP, UInt16&nbsp;index, UInt16*&nbsp;attrP, UInt32*&nbsp;uniqueIDP, LocalID*&nbsp;chunkIDP)</code></dl></dl><dl><a name="926941"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926942"> </a><CODE>-&gt; <code>dbP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><code>DmOpenRef</code> to open database.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926943"> </a><CODE>-&gt; <code>index</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Index of the record.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926946"> </a><CODE>&lt;- <code>attrP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The record's attributes. See "<a href="DataAndResourceManager.html#924997">Record Attribute Constants</a>." Pass <code>NULL</code> for this parameter if you don't want to retrieve this value.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926948"> </a><CODE>&lt;- <code>uniqueIDP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The record's unique ID. Pass <code>NULL</code> for this parameter if you don't want to retrieve this value.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926949"> </a><CODE>&lt;- <code>chunkIDP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The record's local ID. Pass <code>NULL</code> for this parameter if you don't want to retrieve this value.<br></TD></TR></TABLE></dl><dl><a name="926950"> </a><h4>Result </h4><dl><a name="926951"> </a><p></p><dt>Returns <code>errNone</code> if no error or <a href="DataAndResourceManager.html#925161">dmErrIndexOutOfRange</a> if the specified record can't be found. Some releases may display a fatal error message instead of returning the error code. </dl></dl><dl><a name="926952"> </a><h4>See Also </h4><dl><a name="926962"> </a><p></p><dt><code><a href="DataAndResourceManager.html#926624"></code>DmNumRecords<code></a></code>, <code><a href="DataAndResourceManager.html#927381"></code>DmSetRecordInfo<code></a></code>, <code><a href="DataAndResourceManager.html#926854"></code>DmQueryNextInCategory<code></a></code></dl></dl></dl><a name="926964"> </a><br> <br> <br><h3> DmReleaseRecord</h3><dl><dl><a name="926965"> </a><h4>Purpose </h4><dl><a name="926966"> </a><p></p><dt>Clear the <code>busy</code> bit for the given record and set the <code>dirty</code> bit if dirty is <code>true</code>.</dl><a name="926967"> </a><h4>Prototype </h4><dl><a name="926969"> </a><dt><code>Err DmReleaseRecord (DmOpenRef&nbsp;dbP, UInt16&nbsp;index, Boolean&nbsp;dirty)</code></dl></dl><dl><a name="926970"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926971"> </a><CODE>-&gt; <code>dbP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><code>DmOpenRef</code> to open database. <br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926972"> </a><CODE>-&gt; <code>index</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The record to unlock.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926973"> </a><CODE>-&gt; <code>dirty</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>If <code>true</code>, set the <code>dirty</code> bit.<br></TD></TR></TABLE></dl><dl><a name="926974"> </a><h4>Result </h4><dl><a name="926975"> </a><p></p><dt>Returns <code>errNone</code> if no error, or <a href="DataAndResourceManager.html#925161">dmErrIndexOutOfRange</a> if the specified index is out of range. Some releases may display a fatal error message instead of returning the error code. </dl></dl><dl><a name="926976"> </a><h4>Comments </h4><dl><a name="926977"> </a><p></p><dt>Call this routine when you finish modifying or reading a record that you've called <code><a href="DataAndResourceManager.html#926284"></code>DmGetRecord<code></a></code> on or created using <code><a href="DataAndResourceManager.html#926489"></code>DmNewRecord<code></a></code>. </dl><a name="926981"> </a><h4>See Also </h4><dl><a name="926985"> </a><p></p><dt><code><a href="DataAndResourceManager.html#926284"></code>DmGetRecord<code></a></code> </dl></dl></dl><a name="926987"> </a><br> <br> <br><h3> DmReleaseResource</h3><dl><dl><a name="926988"> </a><h4>Purpose </h4><dl><a name="926992"> </a><p></p><dt>Release a resource acquired with <code><a href="DataAndResourceManager.html#926326"></code>DmGetResource<code></a></code>.</dl><a name="926993"> </a><h4>Prototype </h4><dl><a name="926995"> </a><dt><code>Err DmReleaseResource (MemHandle&nbsp;resourceH)</code></dl></dl><dl><a name="926996"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="926997"> </a><CODE>-&gt; <code>resourceH</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Handle to resource.<br></TD></TR></TABLE></dl><dl><a name="926998"> </a><h4>Result </h4><dl><a name="926999"> </a><p></p><dt>Returns <code>errNone</code> if no error.</dl></dl><dl><a name="970882"> </a><h4>Comments </h4><dl><a name="970883"> </a><p></p><dt>Marks a resource as being no longer needed by the application.</dl><a name="970884"> </a><h4>See Also </h4><dl><a name="927009"> </a><p></p><dt><code><a href="DataAndResourceManager.html#964506"></code>DmGet1Resource<code></a></code>, <code><a href="DataAndResourceManager.html#926326"></code>DmGetResource<code></a></code></dl></dl></dl><a name="927011"> </a><br> <br> <br><h3> DmRemoveRecord</h3><dl><dl><a name="927012"> </a><h4>Purpose </h4><dl><a name="927013"> </a><p></p><dt>Remove a record from a database and dispose of its data chunk.</dl><a name="927014"> </a><h4>Prototype </h4><dl><a name="927016"> </a><dt><code>Err DmRemoveRecord (DmOpenRef&nbsp;dbP, UInt16&nbsp;index)</code></dl></dl><dl><a name="927017"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927018"> </a><CODE>-&gt; <code>dbP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><code>DmOpenRef</code> to open database.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927019"> </a><CODE>-&gt; <code>index</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Index of the record to remove.<br></TD></TR></TABLE></dl><dl><a name="927020"> </a><h4>Result </h4><dl><a name="961956"> </a><p></p><dt>Returns <code>errNone</code> if no error, or one of the following if an error occurs: <ul type="SQUARE"><a name="961960"> </a><br><li><a href="DataAndResourceManager.html#925202">dmErrReadOnly</a><br><a name="961964"> </a><br><li><a href="DataAndResourceManager.html#925161">dmErrIndexOutOfRange</a><br><a name="961968"> </a><br><li><a href="DataAndResourceManager.html#925184">dmErrNotRecordDB</a><br><a name="961972"> </a><br><li><a href="DataAndResourceManager.html#925248">memErrChunkLocked</a><br><a name="961976"> </a><br><li><a href="DataAndResourceManager.html#925253">memErrInvalidParam</a><br><dl><a name="961977"> </a><p></p><dt>Some releases may display a fatal error message instead of returning the error code. </dl></ul></dl></dl><dl><a name="927027"> </a><h4>Comments </h4><dl><a name="927028"> </a><p></p><dt>Disposes of a the record's data chunk and removes the record's entry from the database header.</dl><a name="927029"> </a><h4>See Also 	 </h4><dl><a name="927039"> </a><p></p><dt><code><a href="DataAndResourceManager.html#925769"></code>DmDetachRecord<code></a></code>, <code><a href="DataAndResourceManager.html#925735"></code>DmDeleteRecord<code></a></code>, <code><a href="DataAndResourceManager.html#925271"></code>DmArchiveRecord<code></a></code>, <code><a href="DataAndResourceManager.html#926489"></code>DmNewRecord<code></a></code></dl></dl></dl><a name="927044"> </a><br> <br> <br><h3> DmRemoveResource</h3><dl><dl><a name="927045"> </a><h4>Purpose </h4><dl><a name="927046"> </a><p></p><dt>Delete a resource from a resource database.</dl><a name="927047"> </a><h4>Prototype </h4><dl><a name="927049"> </a><dt><code>Err DmRemoveResource (DmOpenRef&nbsp;dbP, UInt16&nbsp;index) </code></dl></dl><dl><a name="927050"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927051"> </a><CODE>-&gt; <code>dbP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><code>DmOpenRef</code> to open database.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927052"> </a><CODE>-&gt; <code>index</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Index of resource to delete.<br></TD></TR></TABLE></dl><dl><a name="927053"> </a><h4>Result </h4><dl><a name="927057"> </a><p></p><dt>Returns <code>errNone</code> if no error, or one of the following if an error occurs: <ul type="SQUARE"><a name="962044"> </a><br><li><code><a href="DataAndResourceManager.html#925151"></code>dmErrCorruptDatabase<code></a></code> <br><a name="962105"> </a><br><li><code><a href="DataAndResourceManager.html#925161"></code>dmErrIndexOutOfRange<code></a></code> <br><a name="962106"> </a><br><li><code><a href="DataAndResourceManager.html#925202"></code>dmErrReadOnly<code></a></code> <br><a name="996648"> </a><br><li><code><a href="DataAndResourceManager.html#925248"></code>memErrChunkLocked<code></a></code> <br><a name="996652"> </a><br><li><code><a href="DataAndResourceManager.html#925253"></code>memErrInvalidParam<code></a></code> <br><a name="996656"> </a><br><li><code><a href="DataAndResourceManager.html#925255"></code>memErrNotEnoughSpace<code></a></code> <br><dl><a name="927073"> </a><p></p><dt>May display a fatal error message if the database is not a resource database.</dl></ul></dl></dl><dl><a name="927074"> </a><h4>Comments </h4><dl><a name="927075"> </a><p></p><dt>This routine disposes of the memory manager chunk that holds the given resource and removes its entry from the database header.</dl><a name="927076"> </a><h4>See Also </h4><dl><a name="927086"> </a><p></p><dt><code><a href="DataAndResourceManager.html#925808"></code>DmDetachResource<code></a></code>, <code><a href="DataAndResourceManager.html#927044"></code>DmRemoveResource<code></a></code>, <code><a href="DataAndResourceManager.html#925347"></code>DmAttachResource<code></a></code></dl></dl></dl><a name="927088"> </a><br> <br> <br><h3> DmRemoveSecretRecords</h3><dl><dl><a name="927089"> </a><h4>Purpose </h4><dl><a name="927091"> </a><p></p><dt>Remove all secret records.</dl><a name="927092"> </a><h4>Prototype </h4><dl><a name="927094"> </a><dt><code>Err DmRemoveSecretRecords (DmOpenRef&nbsp;dbP)</code></dl></dl><dl><a name="927095"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927096"> </a><CODE>-&gt; <code>dbP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><code>DmOpenRef</code> to open database. <br></TD></TR></TABLE></dl><dl><a name="927097"> </a><h4>Result </h4><dl><a name="962178"> </a><p></p><dt>Returns <code>errNone</code> if no error, or one of the following if an error occurs: <ul type="SQUARE"><a name="962201"> </a><br><li><a href="DataAndResourceManager.html#925202">dmErrReadOnly</a><br><a name="962241"> </a><br><li><a href="DataAndResourceManager.html#925184">dmErrNotRecordDB</a><br><dl><a name="962269"> </a><p></p><dt>Some releases may display a fatal error message instead of returning the error code. </dl></ul></dl></dl><dl><a name="927099"> </a><h4>See Also </h4><dl><a name="927109"> </a><p></p><dt><code><a href="DataAndResourceManager.html#927011"></code>DmRemoveRecord<code></a></code>, <code><a href="DataAndResourceManager.html#926934"></code>DmRecordInfo<code></a></code>, <code><a href="DataAndResourceManager.html#927381"></code>DmSetRecordInfo<code></a></code></dl></dl></dl><a name="927127"> </a><br> <br> <br><h3> DmResizeRecord</h3><dl><dl><a name="927128"> </a><h4>Purpose </h4><dl><a name="927129"> </a><p></p><dt>Resize a record by index.</dl><a name="927130"> </a><h4>Prototype </h4><dl><a name="927132"> </a><dt><code>MemHandle DmResizeRecord (DmOpenRef&nbsp;dbP, UInt16&nbsp;index, UInt32&nbsp;newSize)</code></dl></dl><dl><a name="927133"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927134"> </a><CODE>-&gt; <code>dbP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><code>DmOpenRef</code> to open database.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927135"> </a><CODE>-&gt; <code>index</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Which record to retrieve.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927136"> </a><CODE>-&gt; <code>newSize</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>New size of record.<br></TD></TR></TABLE></dl><dl><a name="927137"> </a><h4>Result </h4><dl><a name="927138"> </a><p></p><dt>Handle to resized record. Returns <code>NULL</code> if there is not enough space to resize the record, and <code><a href="DataAndResourceManager.html#926116"></code>DmGetLastErr<code></a></code> returns an error code indicating the reason for failure. Some releases may display a fatal error message instead of returning the error code. </dl></dl><dl><a name="927146"> </a><h4>Comments </h4><dl><a name="927147"> </a><p></p><dt>This routine reallocates the record in another heap of the same memory card if the current heap is not big enough. If this happens, the handle changes, so be sure to use the returned handle to access the resized record.</dl></dl></dl><a name="927150"> </a><br> <br> <br><h3> DmResizeResource</h3><dl><dl><a name="927151"> </a><h4>Purpose </h4><dl><a name="927152"> </a><p></p><dt>Resize a resource and return the new handle. </dl><a name="927153"> </a><h4>Prototype </h4><dl><a name="927155"> </a><dt><code>MemHandle DmResizeResource (MemHandle&nbsp;resourceH, UInt32&nbsp;newSize)</code></dl></dl><dl><a name="927156"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927157"> </a><CODE>-&gt; <code>resourceH</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Handle to resource.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927158"> </a><CODE>-&gt; <code>newSize</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Desired new size of resource.<br></TD></TR></TABLE></dl><dl><a name="927159"> </a><h4>Result </h4><dl><a name="927160"> </a><p></p><dt>Returns a handle to newly sized resource. Returns <code>NULL</code> if there is not enough space to resize the resource, and <code><a href="DataAndResourceManager.html#926116"></code>DmGetLastErr<code></a></code> returns an error code indicating the reason for failure. Some releases may display a fatal error message instead of returning the error code. </dl></dl><dl><a name="927168"> </a><h4>Comments </h4><dl><a name="927169"> </a><p></p><dt>Resizes the resource and returns a new handle. If necessary in order to grow the resource, this routine will reallocate it in another heap on the same memory card that it is currently in.<a name="927170"> </a><p></p><dt>The handle may change if the resource had to be reallocated in a different data heap because there was not enough space in its present data heap.</dl></dl></dl><a name="927172"> </a><br> <br> <br><h3> DmResourceInfo</h3><dl><dl><a name="927173"> </a><h4>Purpose </h4><dl><a name="927175"> </a><p></p><dt>Retrieve information on a given resource.</dl><a name="927176"> </a><h4>Prototype </h4><dl><a name="927178"> </a><dt><code>Err DmResourceInfo (DmOpenRef&nbsp;dbP, UInt16&nbsp;index, DmResType*&nbsp;resTypeP, DmResID*&nbsp;resIDP, LocalID*&nbsp;chunkLocalIDP)</code></dl></dl><dl><a name="927179"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927180"> </a><CODE>-&gt; <code>dbP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><code>DmOpenRef</code> to open database.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927181"> </a><CODE>-&gt; <code>index</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Index of resource to get info on.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927182"> </a><CODE>&lt;- <code>resTypeP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The resource type. Pass <code>NULL</code> if you don't want to retrieve this information.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927183"> </a><CODE>&lt;- <code>resIDP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The resource ID. Pass <code>NULL</code> if you don't want to retrieve this information.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927184"> </a><CODE>&lt;- <code>chunkLocalIDP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The memory manager local ID of the resource data. Pass <code>NULL</code> if you don't want to retrieve this information.<br></TD></TR></TABLE></dl><dl><a name="927185"> </a><h4>Result </h4><dl><a name="927189"> </a><p></p><dt>Returns <code>errNone</code> if no error or <code><a href="DataAndResourceManager.html#925161"></code>dmErrIndexOutOfRange<code></a></code> if an error occurred. May display a fatal error message if the database is not a resource database. </dl></dl><dl><a name="967022"> </a><h4>Comments </h4><dl><a name="967061"> </a><p></p><dt>If <code>dbP</code> is a pointer to a base resource database, the information returned is about the resource from that database alone; this function ignores any associated overlay. </dl><a name="927190"> </a><h4>See Also </h4><dl><a name="927200"> </a><p></p><dt><code><a href="DataAndResourceManager.html#926326"></code>DmGetResource<code></a></code>, <code><a href="DataAndResourceManager.html#964506"></code>DmGet1Resource<code></a></code>, <code><a href="DataAndResourceManager.html#927412"></code>DmSetResourceInfo<code></a></code>, <code><a href="DataAndResourceManager.html#925894"></code>DmFindResource<code></a></code>, <code><a href="DataAndResourceManager.html#925935"></code>DmFindResourceType<code></a></code></dl></dl></dl><a name="927208"> </a><br> <br> <br><h3> DmSearchRecord</h3><dl><dl><a name="927209"> </a><h4>Purpose </h4><dl><a name="927210"> </a><p></p><dt>Search all open record databases for a record with the handle passed.</dl><a name="927211"> </a><h4>Prototype </h4><dl><a name="927213"> </a><dt><code>UInt16 DmSearchRecord (MemHandle&nbsp;recH, DmOpenRef*&nbsp;dbPP)</code></dl></dl><dl><a name="927214"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927215"> </a><CODE>-&gt; <code>recH</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Record handle.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927216"> </a><CODE>&lt;- <code>dbPP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The database that contains the record <code>recH</code>.<br></TD></TR></TABLE></dl><dl><a name="927217"> </a><h4>Result </h4><dl><a name="927218"> </a><p></p><dt>Returns the index of the record and database access pointer; if not found, returns -1 and <code>*dbPP</code> is 0.</dl></dl><dl><a name="927219"> </a><h4>See Also </h4><dl><a name="927229"> </a><p></p><dt><code><a href="DataAndResourceManager.html#926284"></code>DmGetRecord<code></a></code>, <code><a href="DataAndResourceManager.html#925865"></code>DmFindRecordByID<code></a></code>, <code><a href="DataAndResourceManager.html#926934"></code>DmRecordInfo<code></a></code></dl></dl></dl><a name="927232"> </a><br> <br> <br><h3> DmSearchResource</h3><dl><dl><a name="927233"> </a><h4>Purpose </h4><dl><a name="927234"> </a><p></p><dt>Search all open resource databases for a resource by type and ID, or by pointer if it is non-<code>NULL</code>.</dl><a name="927235"> </a><h4>Prototype </h4><dl><a name="927237"> </a><dt><code>UInt16 DmSearchResource (DmResType&nbsp;resType, DmResID&nbsp;resID, MemHandle&nbsp;resH, DmOpenRef*&nbsp;dbPP)</code></dl></dl><dl><a name="927238"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927239"> </a><CODE>-&gt; <code>resType</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Type of resource to search for.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927240"> </a><CODE>-&gt; <code>resID</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>ID of resource to search for.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927241"> </a><CODE>-&gt; <code>resH</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to locked resource, or <code>NULL</code>.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927242"> </a><CODE>&lt;- <code>dbPP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The resource database that contains the specified resource.<br></TD></TR></TABLE></dl><dl><a name="927243"> </a><h4>Result </h4><dl><a name="927244"> </a><p></p><dt>Returns the index of the resource, stores <code>DmOpenRef</code> in <code>dbPP</code>. </dl></dl><dl><a name="927245"> </a><h4>Comments </h4><dl><a name="1000130"> </a><p></p><dt>This routine can be used to find a resource in all open resource databases by type and ID or by pointer. If <code>resH</code> is <code>NULL</code>, the resource is searched for by type and ID. If <code>resH</code> is not <code>NULL</code>, <code>resType</code> and <code>resID </code>is ignored and the index of the resource handle is returned. On return, <code>*dbPP</code> contains the access pointer of the resource database that the resource was eventually found in. Once the index of a resource is determined, it can be locked down and accessed by calling <code><a href="DataAndResourceManager.html#926356"></code>DmGetResourceIndex<code></a>.</code><a name="1000134"> </a><p></p><dt>If any of the open databases are overlaid, this function finds and returns the localized version of the resource when searching by type and creator. In this case, the <code>dbPP</code> return value is a pointer to the overlay database, not the base resource database. </dl><a name="927247"> </a><h4>See Also </h4><dl><a name="927257"> </a><p></p><dt><code><a href="DataAndResourceManager.html#926326"></code>DmGetResource<code></a></code>, <code><a href="DataAndResourceManager.html#925935"></code>DmFindResourceType<code></a></code>, <code><a href="DataAndResourceManager.html#927172"></code>DmResourceInfo<code></a></code>, <code><a href="DataAndResourceManager.html#925894"></code>DmFindResource<code></a></code></dl></dl></dl><a name="927265"> </a><br> <br> <br><h3> DmSeekRecordInCategory</h3><dl><dl><a name="927266"> </a><h4>Purpose </h4><dl><a name="927267"> </a><p></p><dt>Return the index of the record nearest the offset from the passed record index whose category matches the passed category. (The <code>offset</code> parameter indicates the number of records to move forward or backward.)</dl><a name="927269"> </a><h4>Prototype </h4><dl><a name="927271"> </a><dt><code>Err DmSeekRecordInCategory (DmOpenRef&nbsp;dbP, UInt16*&nbsp;indexP, Int16&nbsp;offset, Int16&nbsp;direction, UInt16&nbsp;category)</code></dl></dl><dl><a name="927272"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927273"> </a><CODE>-&gt; <code>dbP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><code>DmOpenRef</code> to open database. <br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927274"> </a><CODE>&lt;-&gt; <code>index</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The index to start the search at. Upon return, contains the index of the record at <code>offset</code> from the index that you passed in. <br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927275"> </a><CODE>-&gt; <code>offset</code> </CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Offset of the passed record index. This must be a positive number; use <code>dmSeekBackward</code> for the <code>direction</code> parameter to search backwards.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927277"> </a><CODE>-&gt; <code>direction</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Must be either <code>dmSeekForward</code> or <code>dmSeekBackward</code>.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927278"> </a><CODE>-&gt; <code>category</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Category index.<br></TD></TR></TABLE></dl><dl><a name="927279"> </a><h4>Result </h4><dl><a name="927283"> </a><p></p><dt>Returns <code>errNone</code> if no error; returns <code><a href="DataAndResourceManager.html#925161"></code>dmErrIndexOutOfRange<code></a></code> or <code><a href="DataAndResourceManager.html#925228"></code>dmErrSeekFailed<code></a></code> if an error occurred.</dl></dl><dl><a name="927287"> </a><h4>Comments </h4><dl><a name="927288"> </a><p></p><dt><code>DmSeekRecordInCategory</code> searches for a record in the specified category. The search begins with the record at <code>index</code>. When it finds a record in the specified category, it decrements the <code>offset</code> parameter and continues searching until a match is found and <code>offset</code> is 0. <a name="927289"> </a><p></p><dt>Because of this, if you use <code>DmSeekRecordInCategory</code> to find the nearest matching record in a particular category, you must pass different <code>offset</code> parameters if the starting record is in the category than if it isn't. If the record at <code>index</code> is in the category, then you must pass an <code>offset</code> of 1 to find the next record in the category because the comparison is performed before the <code>index</code> value changes. If the record at <code>index</code> isn't in the category, you must pass an <code>offset</code> of 0 to find the next record in the category. In this case, an <code>offset</code> of 1 skips the first matching record. </dl><a name="927290"> </a><h4>See Also </h4><dl><a name="927297"> </a><p></p><dt><code><a href="DataAndResourceManager.html#926646"></code>DmNumRecordsInCategory<code></a></code>, <code><a href="DataAndResourceManager.html#926854"></code>DmQueryNextInCategory<code></a></code>, <code><a href="DataAndResourceManager.html#926822"></code>DmPositionInCategory<code></a></code>, <code><a href="DataAndResourceManager.html#926435"></code>DmMoveCategory<code></a></code></dl></dl></dl><a name="927305"> </a><br> <br> <br><h3> DmSet</h3><dl><dl><a name="927306"> </a><h4>Purpose </h4><dl><a name="927307"> </a><p></p><dt>Write a specified value into a section of a record. This function also checks the validity of the pointer for the record and makes sure the writing of the record information doesn't exceed the bounds of the record.</dl><a name="927308"> </a><h4>Prototype </h4><dl><a name="927310"> </a><dt><code>Err DmSet (void*&nbsp;recordP, UInt32&nbsp;offset, UInt32&nbsp;bytes, UInt8&nbsp;value)</code></dl></dl><dl><a name="927311"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927312"> </a><CODE>-&gt; <code>recordP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to locked data record (chunk pointer).<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927313"> </a><CODE>-&gt; <code>offset</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Offset within record to start writing.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927314"> </a><CODE>-&gt; <code>bytes</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Number of bytes to write.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927315"> </a><CODE>-&gt; <code>value</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Byte value to write.<br></TD></TR></TABLE></dl><dl><a name="927316"> </a><h4>Result </h4><dl><a name="927317"> </a><p></p><dt>Returns <code>errNone</code> if no error. May display a fatal error message if the record pointer is invalid or the function overwrites the record. </dl></dl><dl><a name="927318"> </a><h4>Comments </h4><dl><a name="927319"> </a><p></p><dt>Must be used to write to data manager records because the data storage area is write-protected. </dl><a name="927320"> </a><h4>See Also </h4><dl><a name="927324"> </a><p></p><dt><code><a href="DataAndResourceManager.html#927456"></code>DmWrite<code></a></code> </dl></dl></dl><a name="927326"> </a><br> <br> <br><h3> DmSetDatabaseInfo</h3><dl><dl><a name="927327"> </a><h4>Purpose </h4><dl><a name="927328"> </a><p></p><dt>Set information about a database.</dl><a name="927329"> </a><h4>Prototype </h4><dl><a name="927331"> </a><dt><code>Err DmSetDatabaseInfo (UInt16&nbsp;cardNo, LocalID&nbsp;dbID, const&nbsp;Char*&nbsp;nameP, UInt16*&nbsp;attributesP, UInt16*&nbsp;versionP, UInt32*&nbsp;crDateP, UInt32*&nbsp;modDateP, UInt32*&nbsp;bckUpDateP, UInt32*&nbsp;modNumP, LocalID*&nbsp;appInfoIDP, LocalID*&nbsp;sortInfoIDP, UInt32*&nbsp;typeP, UInt32*&nbsp;creatorP)</code></dl></dl><dl><a name="927332"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927333"> </a><CODE>-&gt; <code>cardNo</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Card number the database resides on.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927334"> </a><CODE>-&gt; <code>dbID</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Database ID of the database.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927335"> </a><CODE>-&gt; <code>nameP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to 32-byte character array for new name, or <code>NULL</code>.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927336"> </a><CODE>-&gt; <code>attributesP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to new attributes variable, or <code>NULL</code>. See <a href="DataAndResourceManager.html#925040">"Database Attribute Constants"</a> for a list of possible values.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927340"> </a><CODE>-&gt; <code>versionP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to new version, or <code>NULL</code>. <br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927341"> </a><CODE>-&gt; <code>crDateP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to new creation date variable, or <code>NULL</code>. Specify the value as a number of seconds since Jan 1, 1904.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927342"> </a><CODE>-&gt; <code>modDateP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to new modification date variable, or <code>NULL</code>. Specify the value as a number of seconds since Jan 1, 1904.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927343"> </a><CODE>-&gt; <code>bckUpDateP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to new backup date variable, or <code>NULL</code>. Specify the value as a number of seconds since Jan 1, 1904.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927344"> </a><CODE>-&gt; <code>modNumP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to new modification number variable, or <code>NULL</code>.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927345"> </a><CODE>-&gt; <code>appInfoIDP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to new <code>appInfoID</code> variable, or <code>NULL</code>.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927346"> </a><CODE>-&gt; <code>sortInfoIDP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to new <code>sortInfoID</code> variable, or <code>NULL</code>.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927347"> </a><CODE>-&gt; <code>typeP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to new <code>type</code> variable, or <code>NULL</code>.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927348"> </a><CODE>-&gt; <code>creatorP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to new <code>creator</code> variable, or <code>NULL</code>.<br></TD></TR></TABLE></dl><dl><a name="927349"> </a><h4>Result </h4><dl><a name="927353"> </a><p></p><dt>Returns <code>errNone</code> if no error or one of the following if an error occurred: <ul type="SQUARE"><a name="962772"> </a><br><li><code><a href="DataAndResourceManager.html#925166"></code>dmErrInvalidDatabaseName<code></a></code> <br><a name="962803"> </a><br><li><code><a href="DataAndResourceManager.html#925132"></code>dmErrAlreadyExists<code></a></code> <br><a name="962811"> </a><br><li><code><a href="DataAndResourceManager.html#925171"></code>dmErrInvalidParam<code></a></code> <br></ul></dl></dl><dl><a name="927360"> </a><h4>Comments </h4><dl><a name="927361"> </a><p></p><dt>When this call changes <code>appInfoID</code> or <code>sortInfoID</code>, the old chunk ID (if any) is marked as an orphan chunk and the new chunk ID is unorphaned. Consequently, you shouldn't replace an existing <code>appInfoID</code> or <code>sortInfoID</code> if that chunk has already been attached to another database.<a name="927362"> </a><p></p><dt>Call this routine to set any or all information about a database except for the card number and database ID. This routine sets the new value for any non-<code>NULL</code> parameter.</dl><a name="927363"> </a><h4>See Also </h4><dl><a name="927373"> </a><p></p><dt><code><a href="DataAndResourceManager.html#925528"></code>DmDatabaseInfo<code></a></code>, <code><a href="DataAndResourceManager.html#926795"></code>DmOpenDatabaseInfo<code></a></code>, <code><a href="DataAndResourceManager.html#925838"></code>DmFindDatabase<code></a></code>, <code><a href="DataAndResourceManager.html#926215"></code>DmGetNextDatabaseByTypeCreator<code></a></code>, <code><a href="DateAndTimeManager.html#925124"></code>TimDateTimeToSeconds<code></a></code></dl></dl></dl><a name="927381"> </a><br> <br> <br><h3> DmSetRecordInfo</h3><dl><dl><a name="927382"> </a><h4>Purpose </h4><dl><a name="927383"> </a><p></p><dt>Set record information stored in the database header.</dl><a name="927384"> </a><h4>Prototype </h4><dl><a name="927386"> </a><dt><code>Err DmSetRecordInfo (DmOpenRef&nbsp;dbP, UInt16&nbsp;index, UInt16*&nbsp;attrP, UInt32*&nbsp;uniqueIDP)</code></dl></dl><dl><a name="927387"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927388"> </a><CODE>-&gt; <code>dbP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><code>DmOpenRef</code> to open database.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927389"> </a><CODE>-&gt; <code>index</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Index of record.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927390"> </a><CODE>-&gt; <code>attrP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to new attribute variable, or <code>NULL</code>. See <a href="DataAndResourceManager.html#924997">"Record Attribute Constants"</a> for a list of possible values.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927394"> </a><CODE>-&gt; <code>uniqueIDP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to new unique ID variable, or <code>NULL</code>.<br></TD></TR></TABLE></dl><dl><a name="927395"> </a><h4>Result </h4><dl><a name="927396"> </a><p></p><dt>Returns <code>errNone</code> if no error, or one of the following if an error occurred:<ul type="SQUARE"><a name="962830"> </a><br><li><a href="DataAndResourceManager.html#925202">dmErrReadOnly</a> <br><a name="962998"> </a><br><li><a href="DataAndResourceManager.html#925184">dmErrNotRecordDB</a> <br><a name="963018"> </a><br><li><a href="DataAndResourceManager.html#925161">dmErrIndexOutOfRange</a> <br><dl><a name="962961"> </a><p></p><dt>Some releases may display a fatal error message instead of returning the error code. </dl></ul></dl></dl><dl><a name="927397"> </a><h4>Comments </h4><dl><a name="927398"> </a><p></p><dt>Sets information about a record. <a name="927399"> </a><p></p><dt>Normally, the unique ID for a record is automatically created by the data manager when a record is created using <code><a href="DataAndResourceManager.html#926489"></code>DmNewRecord<code></a></code>, so an application would not typically change the unique ID. </dl><a name="927403"> </a><h4>See Also </h4><dl><a name="927410"> </a><p></p><dt><code><a href="DataAndResourceManager.html#926624"></code>DmNumRecords<code></a></code>, <code><a href="DataAndResourceManager.html#926934"></code>DmRecordInfo<code></a></code></dl></dl></dl><a name="927412"> </a><br> <br> <br><h3> DmSetResourceInfo</h3><dl><dl><a name="927413"> </a><h4>Purpose </h4><dl><a name="927414"> </a><p></p><dt>Set information on a given resource.</dl><a name="927415"> </a><h4>Prototype </h4><dl><a name="927417"> </a><dt><code>Err DmSetResourceInfo (DmOpenRef&nbsp;dbP, UInt16&nbsp;index, DmResType*&nbsp;resTypeP, DmResID*&nbsp;resIDP)</code></dl></dl><dl><a name="927418"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927419"> </a><CODE>-&gt; <code>dbP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT><code>DmOpenRef</code> to open database.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927420"> </a><CODE>-&gt; <code>index</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Index of resource to set info for.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927421"> </a><CODE>-&gt; <code>resTypeP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to new <code>resType</code> (resource type), or <code>NULL</code>.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927422"> </a><CODE>-&gt; <code>resIDP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to new resource ID, or <code>NULL</code>.<br></TD></TR></TABLE></dl><dl><a name="927423"> </a><h4>Result </h4><dl><a name="927427"> </a><p></p><dt>Returns <code>errNone</code> if no error, or one of the following if an error occurred: <ul type="SQUARE"><a name="963049"> </a><br><li><code><a href="DataAndResourceManager.html#925161"></code>dmErrIndexOutOfRange<code></a></code> <br><a name="996696"> </a><br><li><code><a href="DataAndResourceManager.html#925202"></code>dmErrReadOnly<code></a></code> <br><dl><a name="927431"> </a><p></p><dt>May display a fatal error message if the database is not a resource database. </dl></ul></dl></dl><dl><a name="927432"> </a><h4>Comments </h4><dl><a name="927433"> </a><p></p><dt>Use this routine to set all or a portion of the information on a particular resource. Any or all of the new info pointers can be <code>NULL</code>. If not <code>NULL</code>, the type and ID of the resource are changed to *<code>resTypeP</code> and *<code>resIDP</code>.</dl></dl></dl><a name="927435"> </a><br> <br> <br><h3> DmStrCopy</h3><dl><dl><a name="927436"> </a><h4>Purpose </h4><dl><a name="927437"> </a><p></p><dt>Check the validity of the chunk pointer for the record and make sure that writing the record will not exceed the chunk bounds.</dl><a name="927438"> </a><h4>Prototype </h4><dl><a name="927440"> </a><dt><code>Err DmStrCopy (void*&nbsp;recordP, UInt32&nbsp;offset, const&nbsp;Char&nbsp;*&nbsp;srcP)</code></dl></dl><dl><a name="927441"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927442"> </a><CODE>&lt;-&gt; <code>recordP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to data record (chunk pointer).<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927443"> </a><CODE>-&gt; <code>offset</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Offset within record to start writing.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927444"> </a><CODE>-&gt; <code>srcP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to null-terminated string.<br></TD></TR></TABLE></dl><dl><a name="927445"> </a><h4>Result </h4><dl><a name="927446"> </a><p></p><dt>Returns <code>errNone</code> if no error. May display a fatal error message if the record pointer is invalid or the function overwrites the record. </dl></dl><dl><a name="927447"> </a><h4>See Also </h4><dl><a name="927454"> </a><p></p><dt><code><a href="DataAndResourceManager.html#927456"></code>DmWrite<code></a></code>, <code><a href="DataAndResourceManager.html#927305"></code>DmSet<code></a></code></dl></dl></dl><a name="927456"> </a><br> <br> <br><h3> DmWrite</h3><dl><dl><a name="927457"> </a><h4>Purpose </h4><dl><a name="927458"> </a><p></p><dt>Must be used to write to data manager records because the data storage area is write-protected. This routine checks the validity of the chunk pointer for the record and makes sure that the write will not exceed the chunk bounds.</dl><a name="927459"> </a><h4>Prototype </h4><dl><a name="927461"> </a><dt><code>Err DmWrite (void*&nbsp;recordP, UInt32&nbsp;offset, const&nbsp;void&nbsp;*&nbsp;srcP, UInt32&nbsp;bytes)</code></dl></dl><dl><a name="927462"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927463"> </a><CODE>&lt;-&gt; <code>recordP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to locked data record (chunk pointer).<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927464"> </a><CODE>-&gt; <code>offset</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Offset within record to start writing.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927465"> </a><CODE>-&gt; <code>srcP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to data to copy into record.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927466"> </a><CODE>-&gt; <code>bytes</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Number of bytes to write.<br></TD></TR></TABLE></dl><dl><a name="927467"> </a><h4>Result </h4><dl><a name="927468"> </a><p></p><dt>Returns <code>errNone</code> if no error. May display a fatal error message if the record pointer is invalid or the function overwrites the record. </dl></dl><dl><a name="927469"> </a><h4>See Also </h4><dl><a name="927473"> </a><p></p><dt><code><a href="DataAndResourceManager.html#927305"></code>DmSet<code></a></code> </dl></dl></dl><a name="927475"> </a><br> <br> <br><h3> DmWriteCheck</h3><dl><dl><a name="927476"> </a><h4>Purpose </h4><dl><a name="927477"> </a><p></p><dt>Check the parameters of a write operation to a data storage chunk before actually performing the write.</dl><a name="927478"> </a><h4>Prototype </h4><dl><a name="927480"> </a><dt><code>Err DmWriteCheck (void*&nbsp;recordP, UInt32&nbsp;offset, UInt32&nbsp;bytes)</code></dl></dl><dl><a name="927481"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927482"> </a><CODE>-&gt; <code>recordP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Locked pointer to <code>recordH</code>.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927483"> </a><CODE>-&gt; <code>offset</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Offset into record to start writing.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927484"> </a><CODE>-&gt; <code>bytes</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Number of bytes to write.<br></TD></TR></TABLE></dl><dl><a name="927485"> </a><h4>Result </h4><dl><a name="927489"> </a><p></p><dt>Returns <code>errNone</code> if no error; returns <code><a href="DataAndResourceManager.html#925193"></code>dmErrNotValidRecord<code></a></code> or <code><a href="DataAndResourceManager.html#925238"></code>dmErrWriteOutOfBounds<code></a></code> if an error occurred.</dl></dl></dl><a name="927494"> </a><h2> Application-Defined Functions</h2><a name="927497"> </a><br> <br> <br><h3> DmComparF</h3><dl><dl><a name="927498"> </a><h4>Purpose </h4><dl><a name="927499"> </a><p></p><dt>Compares two records in a database. </dl><a name="927500"> </a><h4>Prototype </h4><dl><a name="927501"> </a><dt><code>typedef Int16 DmComparF (void*&nbsp;rec1, void*&nbsp;rec2, Int16&nbsp;other, SortRecordInfoPtr&nbsp;rec1SortInfo, SortRecordInfoPtr&nbsp;rec2SortInfo, MemHandle&nbsp;appInfoH)</code></dl></dl><dl><a name="927502"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927503"> </a><CODE>-&gt; <code>rec1</code>, <code>rec2</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointers to the two records to sort. <br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927504"> </a><CODE>-&gt; <code>other</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Any other custom information you want passed to the comparison function.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927505"> </a><CODE>-&gt; <code>rec1SortInfo</code>, <code>rec2SortInfo</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointers to <code><a href="DataAndResourceManager.html#924939"></code>SortRecordInfoType<code></a></code> structures that specify unique sorting information for the two records.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="927509"> </a><CODE>-&gt; <code>appInfoH</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>A handle to the database's application info block.<br></TD></TR></TABLE></dl><dl><a name="927510"> </a><h4>Result </h4><dl><a name="927511"> </a><p></p><dt>Returns:<ul type="SQUARE"><a name="927512"> </a><br><li>0 if <code>rec1</code> = <code>rec2</code>.<br><a name="927513"> </a><br><li>&lt; 0 if <code>rec1</code> &lt; <code>rec2</code>. <br><a name="927514"> </a><br><li>&gt; 0 if <code>rec1</code> &gt; <code>rec2</code>. <br></ul></dl></dl><dl><a name="927515"> </a><h4>Comments </h4><dl><a name="927516"> </a><p></p><dt>This function is used to sort the records in a database. It is specifically called by <code><a href="DataAndResourceManager.html#925972"></code>DmFindSortPosition<code></a></code>, <code><a href="DataAndResourceManager.html#926411"></code>DmInsertionSort<code></a></code>, and <code><a href="DataAndResourceManager.html#926904"></code>DmQuickSort<code></a></code>. </dl><a name="927526"> </a><h4> Compatibility</h4><dl><a name="927527"> </a><p></p><dt>The <code>DmComparF</code> prototype changed in Palm OS<sup>&#174;</sup> version 2.0. Previously, the prototype only defined the first three parameters. <a name="927528"> </a><p></p><dt>As a rule, the change in the number of arguments from three to six doesn't cause problems when a 1.0 application is run on a 2.0 device because the system only pulls the arguments from the stack that are there.<a name="927529"> </a><p></p><dt>Keep in mind, however, that some optimized applications built with tools other than Metrowerks CodeWarrior for Palm OS may have problems as a result of the change in arguments when running on a 2.0 or later device.<a name="927530"> </a><p></p><dt><a name="957534"> </a><p></p><dt><strong></strong></dl></dl></dl><hr><br><center><B>Palm OS SDK Reference</B></center><br><TABLE WIDTH="100%">  <TR>    <TD WIDTH=10%>&nbsp</TD>    <TD WIDTH=20%><a href="CharacterAttributes.html"><IMG SRC="images/prev.html" BORDER=0 ALT="Previous Page"></TD>    <TD WIDTH=20%><a href="ReferenceTOC.html"><IMG SRC="images/content.gif" BORDER=0 ALT="Table of Contents"></TD>    <TD WIDTH=20%><a href="ReferenceIX.html"><IMG SRC="images/index.gif" BORDER=0 ALT="Index"></TD>    <TD WIDTH=20%><a href="DateAndTimeManager.html"><IMG SRC="images/next.html" BORDER=0 ALT="Next Page"></TD>    <TD WIDTH=10%>&nbsp</TD>  </TR></TABLE><br><small><em>This is page 28 of 85 in this book</em></small><hr><br><address><a href="http://www.palmos.com/dev/">Palm Computing Platform Development Zone</a></address><i>Copyright &#169; 2000, Palm, Inc.   All rightsreserved.</i><!-- This file was created with Quadralay WebWorks Publisher 5.0.2 --><!-- --><!-- For more information on how this document, and how the rest of --><!-- this server was created, email devsupp@palm.com --><!-- --><!-- Last updated: 03/27/00 21:28:29 --></body>
<!-- Mirrored from users.fuw.edu.pl/~michalj/palmos/DataAndResourceManager.html by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 17 Feb 2015 19:10:01 GMT -->
</html>