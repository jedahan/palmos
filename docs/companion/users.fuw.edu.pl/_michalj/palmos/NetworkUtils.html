<html>
<!-- Mirrored from users.fuw.edu.pl/~michalj/palmos/NetworkUtils.html by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 17 Feb 2015 19:10:02 GMT -->
<head><title>Network Utilities</title></head><body bgcolor="#ffffff"><TABLE WIDTH="100%">  <TR>    <TD WIDTH=25%><a href="NetLibrary.html"><IMG SRC="images/prev.html" BORDER=0 ALT="Previous Page"></TD>    <TD WIDTH=25%><a href="ReferenceTOC.html"><IMG SRC="images/content.gif" BORDER=0 ALT="Table of Contents"></TD>    <TD WIDTH=25%><a href="ReferenceIX.html"><IMG SRC="images/index.gif" BORDER=0 ALT="Index"></TD>    <TD WIDTH=25%><a href="NewSerialManager.html"><IMG SRC="images/next.html" BORDER=0 ALT="Next Page"></TD>  </TR></TABLE><br><center><B>Palm OS SDK Reference</B></center><hr><br><a name="924903"> </a><h1><IMG SRC="images/PCPplain.gif" ALT="Palm Logo" WIDTH="45" HEIGHT="44"> <a name="924902"> </a>55 Network Utilities</h1><dl><a name="924904"> </a><p></p><dt>This chapter describes network utilities provided in the module <code>NetSocket.c</code>. These utilities are convenience functions that you can use in place of net library functions in applications that use the net library. You can find <code>NetSocket.c</code> in the folder <code>Libraries\Net\Src</code>. (On Palm OS<sup>&#174;</sup> 3.5, <code>NetSocket.c</code> is in the folder <code>CodeWarrior Libraries\Comms\NetSocket\Src</code>.)<a name="924905"> </a><p></p><dt>The include file for the functions described in this chapter is <code>&lt;unix/sys_socket.h&gt;</code>. This header file is not included by any other Palm header file; you must explicitly include it in your code. <a name="924908"> </a><p></p><dt>For more information on <code>NetSocket.c</code> and <code>sys_socket.h</code>, see the chapter <a href="NetworkCommunication.html#924904">"Network Communication"</a> in the <em>Palm OS Programmer's Companion</em>. </dl><a name="924912"> </a><h2> Network Utility Functions</h2><a name="924937"> </a><br> <br> <br><h3> NetUReadN</h3><dl><dl><a name="924938"> </a><h4>Purpose </h4><dl><a name="924939"> </a><p></p><dt>Reads a specified number of bytes from a socket. </dl><a name="924940"> </a><h4>Prototype </h4><dl><a name="924941"> </a><dt><code>Int32 NetUReadN (NetSocketRef&nbsp;fd, UInt8*&nbsp;bufP, UInt32&nbsp;numBytes)</code></dl></dl><dl><a name="924942"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="924943"> </a><CODE><code>-&gt; fd</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Descriptor for the open socket.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="924944"> </a><CODE><code>&lt;- bufP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to buffer to hold received data.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="924945"> </a><CODE><code>-&gt; numBytes</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Number of bytes to read. <br></TD></TR></TABLE></dl><dl><a name="924946"> </a><h4>Result </h4><dl><a name="924947"> </a><p></p><dt>Returns the number of bytes actually read. If the return value is less than 0, an error occurred.</dl></dl><dl><a name="924948"> </a><h4>Comments </h4><dl><a name="924953"> </a><p></p><dt>This function repeatedly calls <code><a href="NetLibrary.html#927329"></code>NetLibReceive<code></a></code> until <code>numBytes</code> have been read or until <code>NetLibReceive</code> returns an error. </dl><a name="924954"> </a><h4>See Also </h4><dl><a name="924958"> </a><p></p><dt><code><a href="NetworkUtils.html#925065"></code>NetUWriteN<code></a></code> </dl></dl></dl><a name="924961"> </a><br> <br> <br><h3> NetUTCPOpen</h3><dl><dl><a name="924962"> </a><h4>Purpose </h4><dl><a name="924963"> </a><p></p><dt>Opens a TCP (streams-based) socket and connects it to a server.</dl><a name="924964"> </a><h4>Prototype </h4><dl><a name="924965"> </a><dt><code>NetSocketRef NetUTCPOpen (Char*&nbsp;hostName, Char*&nbsp;serviceName, Int16&nbsp;port)</code></dl></dl><dl><a name="924966"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="924967"> </a><CODE><code>-&gt; hostName</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Remote host, given either by name or by dotted decimal address.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="924968"> </a><CODE><code>-&gt; serviceName</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The name of a network service or <code>NULL</code> if the <code>port</code> parameter is used. Possible services are "echo", "discard", "daytime", "qotd", "chargen", "ftp-data", "ftp", "telnet", "smtp", "time", "name", "finger", "pop2", "pop3", "nntp", "imap2".<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="924969"> </a><CODE><code>-&gt; port</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>The number of the port to connect to on the remote host. Ignored if <code>serviceName</code> is not <code>NULL</code>. <br></TD></TR></TABLE></dl><dl><a name="924970"> </a><h4>Result </h4><dl><a name="924971"> </a><p></p><dt>Returns the socket descriptor of the socket that was connected, or -1 if an error occurred. </dl></dl><dl><a name="924972"> </a><h4>Comments </h4><dl><a name="924973"> </a><p></p><dt>If <code>serviceName</code> is given, this function looks up the port number for that service on the remote host and uses it for the connection. <a name="924978"> </a><p></p><dt>This function is the equivalent of calling <code><a href="NetLibrary.html#928319"></code>NetLibSocketOpen<code></a></code> and <code><a href="NetLibrary.html#928189"></code>NetLibSocketConnect<code></a></code> (or <code>socket</code> and <code>connect</code>).<a name="924985"> </a><blockquote><hr><strong>NOTE: &nbsp</strong><p></p>This function does not return specific reasons for failure if there is a failure. This function is not production-quality code. It is provided as a quick and dirty way of creating a connection and as sample code that can be used as a reference. <hr><br></blockquote></dl></dl></dl><a name="925065"> </a><br> <br> <br><h3> NetUWriteN</h3><dl><dl><a name="925066"> </a><h4>Purpose </h4><dl><a name="925067"> </a><p></p><dt>Writes the specified number of bytes to a socket. </dl><a name="925068"> </a><h4>Prototype </h4><dl><a name="925069"> </a><dt><code>Int32 NetUWriteN (NetSocketRef&nbsp;fd, UInt8*&nbsp;bufP, UInt32&nbsp;numBytes)</code></dl></dl><dl><a name="925070"> </a><h4>Parameters </h4><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925071"> </a><CODE><code>-&gt; fd</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Descriptor for the open socket.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925072"> </a><CODE><code>-&gt; bufP</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Pointer to buffer to write.<br></TD></TR></TABLE><TABLE WIDTH=95%><TR><TD WIDTH=5% VALIGN=TOP ALIGN=RIGHT>&nbsp</TD><TD WIDTH=30% VALIGN=TOP ALIGN=LEFT><a name="925073"> </a><CODE><code>-&gt; numBytes</code></CODE><br></TD><TD WIDTH=* VALIGN=TOP ALIGN=LEFT>Number of bytes to write. <br></TD></TR></TABLE></dl><dl><a name="925074"> </a><h4>Result </h4><dl><a name="925075"> </a><p></p><dt>Returns the number of bytes actually sent. If the return value is less than 0, an error occurred.</dl></dl><dl><a name="925076"> </a><h4>Comments </h4><dl><a name="925081"> </a><p></p><dt>This function repeatedly calls <code><a href="NetLibrary.html#927575"></code>NetLibSend<code></a></code> until <code>numBytes</code> have been written or until <code>NetLibSend</code> returns an error. </dl><a name="925082"> </a><h4>See Also </h4><dl><a name="925086"> </a><p></p><dt><code><a href="NetworkUtils.html#924937"></code>NetUReadN<code></a></code> <dl><a name="925087"> </a><p></p><dt><a name="925092"> </a><p></p><dt><strong></strong></dl></dl></dl></dl><hr><br><center><B>Palm OS SDK Reference</B></center><br><TABLE WIDTH="100%">  <TR>    <TD WIDTH=10%>&nbsp</TD>    <TD WIDTH=20%><a href="NetLibrary.html"><IMG SRC="images/prev.html" BORDER=0 ALT="Previous Page"></TD>    <TD WIDTH=20%><a href="ReferenceTOC.html"><IMG SRC="images/content.gif" BORDER=0 ALT="Table of Contents"></TD>    <TD WIDTH=20%><a href="ReferenceIX.html"><IMG SRC="images/index.gif" BORDER=0 ALT="Index"></TD>    <TD WIDTH=20%><a href="NewSerialManager.html"><IMG SRC="images/next.html" BORDER=0 ALT="Next Page"></TD>    <TD WIDTH=10%>&nbsp</TD>  </TR></TABLE><br><small><em>This is page 57 of 85 in this book</em></small><hr><br><address><a href="http://www.palmos.com/dev/">Palm Computing Platform Development Zone</a></address><i>Copyright &#169; 2000, Palm, Inc.   All rightsreserved.</i><!-- This file was created with Quadralay WebWorks Publisher 5.0.2 --><!-- --><!-- For more information on how this document, and how the rest of --><!-- this server was created, email devsupp@palm.com --><!-- --><!-- Last updated: 03/27/00 21:29:03 --></body>
<!-- Mirrored from users.fuw.edu.pl/~michalj/palmos/NetworkUtils.html by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 17 Feb 2015 19:10:02 GMT -->
</html>